import{u as k,d as b,a as y,r as t,j as s,L as S,x as q}from"./index-C5bCjAeN.js";import{F as E,a as R,b as o,E as n}from"./formik.esm-D6CE5sQU.js";import{c as $,a as m,b as _}from"./index.esm-BYtLqO-3.js";import{x as F,e as w,a as x,C as g}from"./FormStyles-BlJFy7EG.js";import"./hoist-non-react-statics.cjs-BobXv_Y4.js";const D=()=>{const f=k(),d=b(),{user:p,status:j,error:h}=y(r=>r.user),[c,N]=t.useState(!1),[l,u]=t.useState(!1);t.useEffect(()=>{p&&d("/profile")},[p,d]);const v=$({name:m().required("Required"),email:m().email("Enter a valid Email").required("Required"),password:m().min(6,"Must be at least 6 characters").required("Required"),confirmPassword:m().oneOf([_("password"),null],"Passwords must match").required("Required")}),P=(r,{setSubmitting:a})=>{f(q(r)).finally(()=>a(!1))};return s.jsxs("div",{className:"form_container",children:[s.jsx("h2",{children:"Sign Up"}),s.jsx(E,{initialValues:{name:"",email:"",password:"",confirmPassword:""},validationSchema:v,onSubmit:P,children:({isSubmitting:r,touched:a,errors:e,values:i,setFieldValue:C})=>s.jsxs(R,{className:"form",children:[s.jsxs("div",{children:[s.jsx(o,{id:"name",type:"text",name:"name",className:`${a.name&&e.name?"invalid":a.name?"valid":""}`,autoComplete:"name",placeholder:"Name"}),s.jsx(n,{name:"name",component:"div",className:"error-message"})]}),s.jsxs("div",{className:"email-container",children:[s.jsx(o,{id:"email",type:"email",name:"email",className:`${a.email&&e.email?"invalid":a.email?"valid":""}`,autoComplete:"email",placeholder:"Email"}),a.email&&e.email&&s.jsx("img",{src:F,alt:"Clear",className:"clear-icon",onClick:()=>C("email","")}),s.jsx(n,{name:"email",component:"div",className:"error-message"})]}),s.jsxs("div",{className:"password-container",children:[s.jsx(o,{id:"password",type:c?"text":"password",name:"password",className:`${a.password&&e.password?"invalid":a.password?"valid":""}`,autoComplete:"new-password",placeholder:"Password"}),s.jsx("img",{src:c?w:x,alt:"Toggle visibility",className:"toggle-password-icon",onClick:()=>N(!c)}),i.password&&!e.password&&s.jsx("img",{src:g,alt:"Check",className:"check-icon"}),s.jsx(n,{name:"password",component:"div",className:"error-message"})]}),s.jsxs("div",{className:"password-container",children:[s.jsx(o,{id:"confirmPassword",type:l?"text":"password",name:"confirmPassword",className:`${a.confirmPassword&&e.confirmPassword?"invalid":a.confirmPassword?"valid":""}`,autoComplete:"new-password",placeholder:"Confirm password"}),s.jsx("img",{src:l?w:x,alt:"Toggle visibility",className:"toggle-password-icon",onClick:()=>u(!l)}),i.confirmPassword&&!e.confirmPassword&&i.confirmPassword===i.password&&s.jsx("img",{src:g,alt:"Check",className:"check-icon"}),s.jsx(n,{name:"confirmPassword",component:"div",className:"error-message"})]}),i.password&&!e.password&&i.confirmPassword===i.password&&s.jsx("div",{className:"password-secure",children:"Password is secure"}),s.jsx("button",{type:"submit",disabled:r,className:"btnSignup",children:"Sign Up"}),j==="failed"&&s.jsx("div",{children:h}),s.jsxs("p",{className:"auth-text",children:["Already have an account? ",s.jsx(S,{to:"/login",className:"auth-link",children:"Login"})]})]})})]})},L="/Petlove/assets/cat-homepage-DDpkkfVq.jpg",A=()=>s.jsx("div",{className:"container",children:s.jsx("div",{className:"section_registration",children:s.jsx("section",{children:s.jsxs("div",{className:"section_cat",children:[s.jsx("img",{src:L,className:"img_registration",alt:"registration_page"}),s.jsx("div",{className:"section_form",children:s.jsx(D,{})})]})})})});export{A as default};
