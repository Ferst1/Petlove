import{u as E,d as v,a as N,r as o,j as s,L as S,x as R}from"./index-CDfUhzho.js";import{F as q,a as $,b as d,E as p}from"./formik.esm-9s3eQDAv.js";import{c as F,a as w,b as L}from"./index.esm-CxBZQDTl.js";import{x as D,e as h,a as u,C as j}from"./PageStyles-BtO-trHX.js";import"./hoist-non-react-statics.cjs-P4dtTR3h.js";const T=()=>{const l=E(),n=v(),{user:c,status:t,error:i}=N(m=>m.user),[f,P]=o.useState(!1),[g,C]=o.useState(!1);o.useEffect(()=>{c&&n("/profile")},[c,n]);const k=F({name:w().required("Required"),email:w().email("Enter a valid Email").required("Required"),password:w().min(6,"Must be at least 6 characters").required("Required"),confirmPassword:w().oneOf([L("password"),null],"Passwords must match").required("Required")}),b=(m,{setSubmitting:e})=>{l(R(m)).finally(()=>e(!1))};return s.jsxs("div",{className:"form_container",children:[s.jsxs("div",{className:"auth-title",children:[s.jsx("h2",{children:"Registration"}),s.jsx("p",{children:"Thank you for your interest in our platform. "})]}),s.jsx(q,{initialValues:{name:"",email:"",password:"",confirmPassword:""},validationSchema:k,onSubmit:b,children:({isSubmitting:m,touched:e,errors:a,values:r,setFieldValue:y})=>s.jsxs($,{className:"form",children:[s.jsxs("div",{children:[s.jsx(d,{id:"name",type:"text",name:"name",className:`${e.name&&a.name?"invalid":e.name?"valid":""}`,autoComplete:"name",placeholder:"Name"}),s.jsx(p,{name:"name",component:"div",className:"error-message"})]}),s.jsxs("div",{className:"email-container",children:[s.jsx(d,{id:"email",type:"email",name:"email",className:`${e.email&&a.email?"invalid":e.email?"valid":""}`,autoComplete:"email",placeholder:"Email"}),e.email&&a.email&&s.jsx("img",{src:D,alt:"Clear",className:"clear-icon",onClick:()=>y("email","")}),s.jsx(p,{name:"email",component:"div",className:"error-message"})]}),s.jsxs("div",{className:"password-container",children:[s.jsx(d,{id:"password",type:f?"text":"password",name:"password",className:`${e.password&&a.password?"invalid":e.password?"valid":""}`,autoComplete:"new-password",placeholder:"Password"}),s.jsx("img",{src:f?h:u,alt:"Toggle visibility",className:"toggle-password-icon",onClick:()=>P(!f)}),r.password&&!a.password&&s.jsx("img",{src:j,alt:"Check",className:"check-icon"}),s.jsx(p,{name:"password",component:"div",className:"error-message"})]}),s.jsxs("div",{className:"password-container",children:[s.jsx(d,{id:"confirmPassword",type:g?"text":"password",name:"confirmPassword",className:`${e.confirmPassword&&a.confirmPassword?"invalid":e.confirmPassword?"valid":""}`,autoComplete:"new-password",placeholder:"Confirm password"}),s.jsx("img",{src:g?h:u,alt:"Toggle visibility",className:"toggle-password-icon",onClick:()=>C(!g)}),r.confirmPassword&&!a.confirmPassword&&r.confirmPassword===r.password&&s.jsx("img",{src:j,alt:"Check",className:"check-icon"}),s.jsx(p,{name:"confirmPassword",component:"div",className:"error-message"})]}),r.password&&!a.password&&r.confirmPassword===r.password&&s.jsx("div",{className:"password-secure",children:"Password is secure"}),s.jsx("button",{type:"submit",disabled:m,className:"btnSignup",children:"Sign Up"}),t==="failed"&&s.jsx("div",{children:i}),s.jsxs("p",{className:"auth-text",children:["Already have an account? ",s.jsx(S,{to:"/login",className:"auth-link",children:"Login"})]})]})})]})},x="/Petlove/assets/cat-homepage-DDpkkfVq.jpg",z="/Petlove/assets/registration-tablet--D47EFsM.jpg",A=()=>{const l=v(),n=N(i=>i.user.user),[c,t]=o.useState(x);return o.useEffect(()=>{const i=()=>{window.innerWidth<=425?t(x):window.innerWidth<=768?t(z):t(x)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),o.useEffect(()=>{n&&l("/profile")},[n,l]),s.jsx("div",{className:"container",children:s.jsxs("div",{className:"page-container",children:[s.jsx("img",{src:c,className:"page-image",alt:"registration-page"}),s.jsx("div",{className:"form-wrapper",children:s.jsx(T,{})})]})})};export{A as default};
