const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-3NArqWdg.js","assets/HomePage-Ct9cMnok.css","assets/FindPetPage-FO0ucS2Z.js","assets/PetCard-vKQ7v2ZF.js","assets/PetCard-DfDcYzhg.css","assets/TypeSelect-BUFiC18v.js","assets/hoist-non-react-statics.cjs-DFRCGIzy.js","assets/Pagination-DPTBn_kZ.js","assets/Pagination-CtcQ1ZRv.css","assets/FindPetPage-D9GBIuMk.css","assets/NewsPage-DGdlflj-.js","assets/NewsPage-BU50ckMI.css","assets/RegistrationPage-DDwMB3D3.js","assets/formik.esm-BXovUFiD.js","assets/index.esm-DGFyLk30.js","assets/PageStyles-BtO-trHX.js","assets/PageStyles-YN4ES9Ow.css","assets/LoginPage-CGFKP0wW.js","assets/ProfilePage-Nh8zVY2q.js","assets/PetsBlock-DNfPPGcF.js","assets/PetsBlock-glHFeLYF.css","assets/ProfilePage-DihKdhId.css","assets/OurFriendsPage-cievATxH.js","assets/OurFriendsPage-flxFdR3K.css","assets/FavoritePetsPage-DkD3HNOk.js","assets/AddPetPage-GptQf1ak.js","assets/AddPetPage-DNTOybrb.css"])))=>i.map(i=>d[i]);
var kb=Object.defineProperty;var Db=(t,e,n)=>e in t?kb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Of=(t,e,n)=>Db(t,typeof e!="symbol"?e+"":e,n);function DS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ob=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var OS={exports:{}},_d={},NS={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su=Symbol.for("react.element"),Nb=Symbol.for("react.portal"),Lb=Symbol.for("react.fragment"),Mb=Symbol.for("react.strict_mode"),Vb=Symbol.for("react.profiler"),Fb=Symbol.for("react.provider"),jb=Symbol.for("react.context"),Ub=Symbol.for("react.forward_ref"),Bb=Symbol.for("react.suspense"),zb=Symbol.for("react.memo"),$b=Symbol.for("react.lazy"),e_=Symbol.iterator;function Wb(t){return t===null||typeof t!="object"?null:(t=e_&&t[e_]||t["@@iterator"],typeof t=="function"?t:null)}var LS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},MS=Object.assign,VS={};function va(t,e,n){this.props=t,this.context=e,this.refs=VS,this.updater=n||LS}va.prototype.isReactComponent={};va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function FS(){}FS.prototype=va.prototype;function Gg(t,e,n){this.props=t,this.context=e,this.refs=VS,this.updater=n||LS}var Qg=Gg.prototype=new FS;Qg.constructor=Gg;MS(Qg,va.prototype);Qg.isPureReactComponent=!0;var t_=Array.isArray,jS=Object.prototype.hasOwnProperty,Xg={current:null},US={key:!0,ref:!0,__self:!0,__source:!0};function BS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)jS.call(e,r)&&!US.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Su,type:t,key:s,ref:o,props:i,_owner:Xg.current}}function Hb(t,e){return{$$typeof:Su,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Su}function qb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var n_=/\/+/g;function Nf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qb(""+t.key):e.toString(36)}function Mc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Su:case Nb:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Nf(o,0):r,t_(i)?(n="",t!=null&&(n=t.replace(n_,"$&/")+"/"),Mc(i,e,n,"",function(c){return c})):i!=null&&(Yg(i)&&(i=Hb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(n_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",t_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Nf(s,a);o+=Mc(s,e,n,l,i)}else if(l=Wb(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Nf(s,a++),o+=Mc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function lc(t,e,n){if(t==null)return t;var r=[],i=0;return Mc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Kb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var un={current:null},Vc={transition:null},Gb={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:Vc,ReactCurrentOwner:Xg};function zS(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:lc,forEach:function(t,e,n){lc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return lc(t,function(){e++}),e},toArray:function(t){return lc(t,function(e){return e})||[]},only:function(t){if(!Yg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=va;Te.Fragment=Lb;Te.Profiler=Vb;Te.PureComponent=Gg;Te.StrictMode=Mb;Te.Suspense=Bb;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gb;Te.act=zS;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=MS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Xg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)jS.call(e,l)&&!US.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Su,type:t.type,key:i,ref:s,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:jb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Fb,_context:t},t.Consumer=t};Te.createElement=BS;Te.createFactory=function(t){var e=BS.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:Ub,render:t}};Te.isValidElement=Yg;Te.lazy=function(t){return{$$typeof:$b,_payload:{_status:-1,_result:t},_init:Kb}};Te.memo=function(t,e){return{$$typeof:zb,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Vc.transition;Vc.transition={};try{t()}finally{Vc.transition=e}};Te.unstable_act=zS;Te.useCallback=function(t,e){return un.current.useCallback(t,e)};Te.useContext=function(t){return un.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return un.current.useDeferredValue(t)};Te.useEffect=function(t,e){return un.current.useEffect(t,e)};Te.useId=function(){return un.current.useId()};Te.useImperativeHandle=function(t,e,n){return un.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return un.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return un.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return un.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return un.current.useReducer(t,e,n)};Te.useRef=function(t){return un.current.useRef(t)};Te.useState=function(t){return un.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return un.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return un.current.useTransition()};Te.version="18.3.1";NS.exports=Te;var L=NS.exports;const dt=vd(L),Xp=DS({__proto__:null,default:dt},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qb=L,Xb=Symbol.for("react.element"),Yb=Symbol.for("react.fragment"),Jb=Object.prototype.hasOwnProperty,Zb=Qb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ek={key:!0,ref:!0,__self:!0,__source:!0};function $S(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Jb.call(e,r)&&!ek.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Xb,type:t,key:s,ref:o,props:i,_owner:Zb.current}}_d.Fragment=Yb;_d.jsx=$S;_d.jsxs=$S;OS.exports=_d;var B=OS.exports,WS={exports:{}},On={},HS={exports:{}},qS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,Z){var ie=q.length;q.push(Z);e:for(;0<ie;){var we=ie-1>>>1,ve=q[we];if(0<i(ve,Z))q[we]=Z,q[ie]=ve,ie=we;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Z=q[0],ie=q.pop();if(ie!==Z){q[0]=ie;e:for(var we=0,ve=q.length,_e=ve>>>1;we<_e;){var ke=2*(we+1)-1,je=q[ke],Ue=ke+1,Me=q[Ue];if(0>i(je,ie))Ue<ve&&0>i(Me,je)?(q[we]=Me,q[Ue]=ie,we=Ue):(q[we]=je,q[ke]=ie,we=ke);else if(Ue<ve&&0>i(Me,ie))q[we]=Me,q[Ue]=ie,we=Ue;else break e}}return Z}function i(q,Z){var ie=q.sortIndex-Z.sortIndex;return ie!==0?ie:q.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,f=3,g=!1,v=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(q){for(var Z=n(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=q)r(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(c)}}function k(q){if(T=!1,w(q),!v)if(n(l)!==null)v=!0,be(M);else{var Z=n(c);Z!==null&&fe(k,Z.startTime-q)}}function M(q,Z){v=!1,T&&(T=!1,E(y),y=-1),g=!0;var ie=f;try{for(w(Z),d=n(l);d!==null&&(!(d.expirationTime>Z)||q&&!x());){var we=d.callback;if(typeof we=="function"){d.callback=null,f=d.priorityLevel;var ve=we(d.expirationTime<=Z);Z=t.unstable_now(),typeof ve=="function"?d.callback=ve:d===n(l)&&r(l),w(Z)}else r(l);d=n(l)}if(d!==null)var _e=!0;else{var ke=n(c);ke!==null&&fe(k,ke.startTime-Z),_e=!1}return _e}finally{d=null,f=ie,g=!1}}var R=!1,I=null,y=-1,S=5,C=-1;function x(){return!(t.unstable_now()-C<S)}function D(){if(I!==null){var q=t.unstable_now();C=q;var Z=!0;try{Z=I(!0,q)}finally{Z?b():(R=!1,I=null)}}else R=!1}var b;if(typeof _=="function")b=function(){_(D)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,le=G.port2;G.port1.onmessage=D,b=function(){le.postMessage(null)}}else b=function(){A(D,0)};function be(q){I=q,R||(R=!0,b())}function fe(q,Z){y=A(function(){q(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,be(M))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(f){case 1:case 2:case 3:var Z=3;break;default:Z=f}var ie=f;f=Z;try{return q()}finally{f=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ie=f;f=q;try{return Z()}finally{f=ie}},t.unstable_scheduleCallback=function(q,Z,ie){var we=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?we+ie:we):ie=we,q){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=ie+ve,q={id:h++,callback:Z,priorityLevel:q,startTime:ie,expirationTime:ve,sortIndex:-1},ie>we?(q.sortIndex=ie,e(c,q),n(l)===null&&q===n(c)&&(T?(E(y),y=-1):T=!0,fe(k,ie-we))):(q.sortIndex=ve,e(l,q),v||g||(v=!0,be(M))),q},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(q){var Z=f;return function(){var ie=f;f=Z;try{return q.apply(this,arguments)}finally{f=ie}}}})(qS);HS.exports=qS;var tk=HS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nk=L,xn=tk;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KS=new Set,Bl={};function to(t,e){Jo(t,e),Jo(t+"Capture",e)}function Jo(t,e){for(Bl[t]=e,t=0;t<e.length;t++)KS.add(e[t])}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yp=Object.prototype.hasOwnProperty,rk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r_={},i_={};function ik(t){return Yp.call(i_,t)?!0:Yp.call(r_,t)?!1:rk.test(t)?i_[t]=!0:(r_[t]=!0,!1)}function sk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ok(t,e,n,r){if(e===null||typeof e>"u"||sk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jt[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jt[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jt[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jt[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jt[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jt[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jt[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jt[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jt[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jg=/[\-:]([a-z])/g;function Zg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jg,Zg);jt[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jg,Zg);jt[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jg,Zg);jt[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jt[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});jt.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jt[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ey(t,e,n,r){var i=jt.hasOwnProperty(e)?jt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ok(e,n,i,r)&&(n=null),r||i===null?ik(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ai=nk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uc=Symbol.for("react.element"),So=Symbol.for("react.portal"),Po=Symbol.for("react.fragment"),ty=Symbol.for("react.strict_mode"),Jp=Symbol.for("react.profiler"),GS=Symbol.for("react.provider"),QS=Symbol.for("react.context"),ny=Symbol.for("react.forward_ref"),Zp=Symbol.for("react.suspense"),em=Symbol.for("react.suspense_list"),ry=Symbol.for("react.memo"),Pi=Symbol.for("react.lazy"),XS=Symbol.for("react.offscreen"),s_=Symbol.iterator;function Ga(t){return t===null||typeof t!="object"?null:(t=s_&&t[s_]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,Lf;function ll(t){if(Lf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Lf=e&&e[1]||""}return`
`+Lf+t}var Mf=!1;function Vf(t,e){if(!t||Mf)return"";Mf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Mf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ll(t):""}function ak(t){switch(t.tag){case 5:return ll(t.type);case 16:return ll("Lazy");case 13:return ll("Suspense");case 19:return ll("SuspenseList");case 0:case 2:case 15:return t=Vf(t.type,!1),t;case 11:return t=Vf(t.type.render,!1),t;case 1:return t=Vf(t.type,!0),t;default:return""}}function tm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Po:return"Fragment";case So:return"Portal";case Jp:return"Profiler";case ty:return"StrictMode";case Zp:return"Suspense";case em:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case QS:return(t.displayName||"Context")+".Consumer";case GS:return(t._context.displayName||"Context")+".Provider";case ny:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ry:return e=t.displayName||null,e!==null?e:tm(t.type)||"Memo";case Pi:e=t._payload,t=t._init;try{return tm(t(e))}catch{}}return null}function lk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tm(e);case 8:return e===ty?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function YS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uk(t){var e=YS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cc(t){t._valueTracker||(t._valueTracker=uk(t))}function JS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=YS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ph(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nm(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function o_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ZS(t,e){e=e.checked,e!=null&&ey(t,"checked",e,!1)}function rm(t,e){ZS(t,e);var n=Qi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?im(t,e.type,n):e.hasOwnProperty("defaultValue")&&im(t,e.type,Qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function a_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function im(t,e,n){(e!=="number"||ph(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ul=Array.isArray;function zo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function l_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(ul(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qi(n)}}function eP(t,e){var n=Qi(e.value),r=Qi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function u_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function om(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hc,nP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hc=hc||document.createElement("div"),hc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Tl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ck=["Webkit","ms","Moz","O"];Object.keys(Tl).forEach(function(t){ck.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tl[e]=Tl[t]})});function rP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Tl.hasOwnProperty(t)&&Tl[t]?(""+e).trim():e+"px"}function iP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=rP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var hk=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function am(t,e){if(e){if(hk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function lm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var um=null;function iy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cm=null,$o=null,Wo=null;function c_(t){if(t=Ru(t)){if(typeof cm!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Pd(e),cm(t.stateNode,t.type,e))}}function sP(t){$o?Wo?Wo.push(t):Wo=[t]:$o=t}function oP(){if($o){var t=$o,e=Wo;if(Wo=$o=null,c_(t),e)for(t=0;t<e.length;t++)c_(e[t])}}function aP(t,e){return t(e)}function lP(){}var Ff=!1;function uP(t,e,n){if(Ff)return t(e,n);Ff=!0;try{return aP(t,e,n)}finally{Ff=!1,($o!==null||Wo!==null)&&(lP(),oP())}}function $l(t,e){var n=t.stateNode;if(n===null)return null;var r=Pd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var hm=!1;if(Yr)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){hm=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{hm=!1}function dk(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Sl=!1,mh=null,gh=!1,dm=null,fk={onError:function(t){Sl=!0,mh=t}};function pk(t,e,n,r,i,s,o,a,l){Sl=!1,mh=null,dk.apply(fk,arguments)}function mk(t,e,n,r,i,s,o,a,l){if(pk.apply(this,arguments),Sl){if(Sl){var c=mh;Sl=!1,mh=null}else throw Error(H(198));gh||(gh=!0,dm=c)}}function no(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h_(t){if(no(t)!==t)throw Error(H(188))}function gk(t){var e=t.alternate;if(!e){if(e=no(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return h_(i),t;if(s===r)return h_(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function hP(t){return t=gk(t),t!==null?dP(t):null}function dP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dP(t);if(e!==null)return e;t=t.sibling}return null}var fP=xn.unstable_scheduleCallback,d_=xn.unstable_cancelCallback,yk=xn.unstable_shouldYield,vk=xn.unstable_requestPaint,ft=xn.unstable_now,_k=xn.unstable_getCurrentPriorityLevel,sy=xn.unstable_ImmediatePriority,pP=xn.unstable_UserBlockingPriority,yh=xn.unstable_NormalPriority,wk=xn.unstable_LowPriority,mP=xn.unstable_IdlePriority,wd=null,yr=null;function Ek(t){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(wd,t,void 0,(t.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:Pk,Tk=Math.log,Sk=Math.LN2;function Pk(t){return t>>>=0,t===0?32:31-(Tk(t)/Sk|0)|0}var dc=64,fc=4194304;function cl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=cl(a):(s&=o,s!==0&&(r=cl(s)))}else o=n&~i,o!==0?r=cl(o):s!==0&&(r=cl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-nr(e),i=1<<n,r|=t[n],e&=~i;return r}function Ik(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-nr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Ik(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function fm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gP(){var t=dc;return dc<<=1,!(dc&4194240)&&(dc=64),t}function jf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nr(e),t[e]=n}function Ak(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-nr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function oy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-nr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Fe=0;function yP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vP,ay,_P,wP,EP,pm=!1,pc=[],Li=null,Mi=null,Vi=null,Wl=new Map,Hl=new Map,Ri=[],Ck="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f_(t,e){switch(t){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":Wl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(e.pointerId)}}function Xa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ru(e),e!==null&&ay(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xk(t,e,n,r,i){switch(e){case"focusin":return Li=Xa(Li,t,e,n,r,i),!0;case"dragenter":return Mi=Xa(Mi,t,e,n,r,i),!0;case"mouseover":return Vi=Xa(Vi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Wl.set(s,Xa(Wl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Hl.set(s,Xa(Hl.get(s)||null,t,e,n,r,i)),!0}return!1}function TP(t){var e=Rs(t.target);if(e!==null){var n=no(e);if(n!==null){if(e=n.tag,e===13){if(e=cP(n),e!==null){t.blockedOn=e,EP(t.priority,function(){_P(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);um=r,n.target.dispatchEvent(r),um=null}else return e=Ru(n),e!==null&&ay(e),t.blockedOn=n,!1;e.shift()}return!0}function p_(t,e,n){Fc(t)&&n.delete(e)}function bk(){pm=!1,Li!==null&&Fc(Li)&&(Li=null),Mi!==null&&Fc(Mi)&&(Mi=null),Vi!==null&&Fc(Vi)&&(Vi=null),Wl.forEach(p_),Hl.forEach(p_)}function Ya(t,e){t.blockedOn===e&&(t.blockedOn=null,pm||(pm=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,bk)))}function ql(t){function e(i){return Ya(i,t)}if(0<pc.length){Ya(pc[0],t);for(var n=1;n<pc.length;n++){var r=pc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Li!==null&&Ya(Li,t),Mi!==null&&Ya(Mi,t),Vi!==null&&Ya(Vi,t),Wl.forEach(e),Hl.forEach(e),n=0;n<Ri.length;n++)r=Ri[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ri.length&&(n=Ri[0],n.blockedOn===null);)TP(n),n.blockedOn===null&&Ri.shift()}var Ho=ai.ReactCurrentBatchConfig,_h=!0;function kk(t,e,n,r){var i=Fe,s=Ho.transition;Ho.transition=null;try{Fe=1,ly(t,e,n,r)}finally{Fe=i,Ho.transition=s}}function Dk(t,e,n,r){var i=Fe,s=Ho.transition;Ho.transition=null;try{Fe=4,ly(t,e,n,r)}finally{Fe=i,Ho.transition=s}}function ly(t,e,n,r){if(_h){var i=mm(t,e,n,r);if(i===null)Qf(t,e,r,wh,n),f_(t,r);else if(xk(i,t,e,n,r))r.stopPropagation();else if(f_(t,r),e&4&&-1<Ck.indexOf(t)){for(;i!==null;){var s=Ru(i);if(s!==null&&vP(s),s=mm(t,e,n,r),s===null&&Qf(t,e,r,wh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Qf(t,e,r,null,n)}}var wh=null;function mm(t,e,n,r){if(wh=null,t=iy(r),t=Rs(t),t!==null)if(e=no(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wh=t,null}function SP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_k()){case sy:return 1;case pP:return 4;case yh:case wk:return 16;case mP:return 536870912;default:return 16}default:return 16}}var Di=null,uy=null,jc=null;function PP(){if(jc)return jc;var t,e=uy,n=e.length,r,i="value"in Di?Di.value:Di.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return jc=i.slice(t,1<r?1-r:void 0)}function Uc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mc(){return!0}function m_(){return!1}function Nn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?mc:m_,this.isPropagationStopped=m_,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mc)},persist:function(){},isPersistent:mc}),e}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cy=Nn(_a),Iu=ot({},_a,{view:0,detail:0}),Ok=Nn(Iu),Uf,Bf,Ja,Ed=ot({},Iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ja&&(Ja&&t.type==="mousemove"?(Uf=t.screenX-Ja.screenX,Bf=t.screenY-Ja.screenY):Bf=Uf=0,Ja=t),Uf)},movementY:function(t){return"movementY"in t?t.movementY:Bf}}),g_=Nn(Ed),Nk=ot({},Ed,{dataTransfer:0}),Lk=Nn(Nk),Mk=ot({},Iu,{relatedTarget:0}),zf=Nn(Mk),Vk=ot({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),Fk=Nn(Vk),jk=ot({},_a,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uk=Nn(jk),Bk=ot({},_a,{data:0}),y_=Nn(Bk),zk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$k={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Wk[t])?!!e[t]:!1}function hy(){return Hk}var qk=ot({},Iu,{key:function(t){if(t.key){var e=zk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$k[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hy,charCode:function(t){return t.type==="keypress"?Uc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Kk=Nn(qk),Gk=ot({},Ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v_=Nn(Gk),Qk=ot({},Iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hy}),Xk=Nn(Qk),Yk=ot({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jk=Nn(Yk),Zk=ot({},Ed,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eD=Nn(Zk),tD=[9,13,27,32],dy=Yr&&"CompositionEvent"in window,Pl=null;Yr&&"documentMode"in document&&(Pl=document.documentMode);var nD=Yr&&"TextEvent"in window&&!Pl,IP=Yr&&(!dy||Pl&&8<Pl&&11>=Pl),__=" ",w_=!1;function RP(t,e){switch(t){case"keyup":return tD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Io=!1;function rD(t,e){switch(t){case"compositionend":return AP(e);case"keypress":return e.which!==32?null:(w_=!0,__);case"textInput":return t=e.data,t===__&&w_?null:t;default:return null}}function iD(t,e){if(Io)return t==="compositionend"||!dy&&RP(t,e)?(t=PP(),jc=uy=Di=null,Io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return IP&&e.locale!=="ko"?null:e.data;default:return null}}var sD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sD[t.type]:e==="textarea"}function CP(t,e,n,r){sP(r),e=Eh(e,"onChange"),0<e.length&&(n=new cy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Il=null,Kl=null;function oD(t){jP(t,0)}function Td(t){var e=Co(t);if(JS(e))return t}function aD(t,e){if(t==="change")return e}var xP=!1;if(Yr){var $f;if(Yr){var Wf="oninput"in document;if(!Wf){var T_=document.createElement("div");T_.setAttribute("oninput","return;"),Wf=typeof T_.oninput=="function"}$f=Wf}else $f=!1;xP=$f&&(!document.documentMode||9<document.documentMode)}function S_(){Il&&(Il.detachEvent("onpropertychange",bP),Kl=Il=null)}function bP(t){if(t.propertyName==="value"&&Td(Kl)){var e=[];CP(e,Kl,t,iy(t)),uP(oD,e)}}function lD(t,e,n){t==="focusin"?(S_(),Il=e,Kl=n,Il.attachEvent("onpropertychange",bP)):t==="focusout"&&S_()}function uD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Td(Kl)}function cD(t,e){if(t==="click")return Td(e)}function hD(t,e){if(t==="input"||t==="change")return Td(e)}function dD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var or=typeof Object.is=="function"?Object.is:dD;function Gl(t,e){if(or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yp.call(e,i)||!or(t[i],e[i]))return!1}return!0}function P_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function I_(t,e){var n=P_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=P_(n)}}function kP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function DP(){for(var t=window,e=ph();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ph(t.document)}return e}function fy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fD(t){var e=DP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&kP(n.ownerDocument.documentElement,n)){if(r!==null&&fy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=I_(n,s);var o=I_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pD=Yr&&"documentMode"in document&&11>=document.documentMode,Ro=null,gm=null,Rl=null,ym=!1;function R_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ym||Ro==null||Ro!==ph(r)||(r=Ro,"selectionStart"in r&&fy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rl&&Gl(Rl,r)||(Rl=r,r=Eh(gm,"onSelect"),0<r.length&&(e=new cy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ro)))}function gc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ao={animationend:gc("Animation","AnimationEnd"),animationiteration:gc("Animation","AnimationIteration"),animationstart:gc("Animation","AnimationStart"),transitionend:gc("Transition","TransitionEnd")},Hf={},OP={};Yr&&(OP=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function Sd(t){if(Hf[t])return Hf[t];if(!Ao[t])return t;var e=Ao[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in OP)return Hf[t]=e[n];return t}var NP=Sd("animationend"),LP=Sd("animationiteration"),MP=Sd("animationstart"),VP=Sd("transitionend"),FP=new Map,A_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rs(t,e){FP.set(t,e),to(e,[t])}for(var qf=0;qf<A_.length;qf++){var Kf=A_[qf],mD=Kf.toLowerCase(),gD=Kf[0].toUpperCase()+Kf.slice(1);rs(mD,"on"+gD)}rs(NP,"onAnimationEnd");rs(LP,"onAnimationIteration");rs(MP,"onAnimationStart");rs("dblclick","onDoubleClick");rs("focusin","onFocus");rs("focusout","onBlur");rs(VP,"onTransitionEnd");Jo("onMouseEnter",["mouseout","mouseover"]);Jo("onMouseLeave",["mouseout","mouseover"]);Jo("onPointerEnter",["pointerout","pointerover"]);Jo("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yD=new Set("cancel close invalid load scroll toggle".split(" ").concat(hl));function C_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mk(r,e,void 0,t),t.currentTarget=null}function jP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;C_(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;C_(i,a,c),s=l}}}if(gh)throw t=dm,gh=!1,dm=null,t}function Xe(t,e){var n=e[Tm];n===void 0&&(n=e[Tm]=new Set);var r=t+"__bubble";n.has(r)||(UP(e,t,2,!1),n.add(r))}function Gf(t,e,n){var r=0;e&&(r|=4),UP(n,t,r,e)}var yc="_reactListening"+Math.random().toString(36).slice(2);function Ql(t){if(!t[yc]){t[yc]=!0,KS.forEach(function(n){n!=="selectionchange"&&(yD.has(n)||Gf(n,!1,t),Gf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yc]||(e[yc]=!0,Gf("selectionchange",!1,e))}}function UP(t,e,n,r){switch(SP(e)){case 1:var i=kk;break;case 4:i=Dk;break;default:i=ly}n=i.bind(null,e,n,t),i=void 0,!hm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Qf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Rs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}uP(function(){var c=s,h=iy(n),d=[];e:{var f=FP.get(t);if(f!==void 0){var g=cy,v=t;switch(t){case"keypress":if(Uc(n)===0)break e;case"keydown":case"keyup":g=Kk;break;case"focusin":v="focus",g=zf;break;case"focusout":v="blur",g=zf;break;case"beforeblur":case"afterblur":g=zf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=g_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Lk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Xk;break;case NP:case LP:case MP:g=Fk;break;case VP:g=Jk;break;case"scroll":g=Ok;break;case"wheel":g=eD;break;case"copy":case"cut":case"paste":g=Uk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=v_}var T=(e&4)!==0,A=!T&&t==="scroll",E=T?f!==null?f+"Capture":null:f;T=[];for(var _=c,w;_!==null;){w=_;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,E!==null&&(k=$l(_,E),k!=null&&T.push(Xl(_,k,w)))),A)break;_=_.return}0<T.length&&(f=new g(f,v,null,n,h),d.push({event:f,listeners:T}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==um&&(v=n.relatedTarget||n.fromElement)&&(Rs(v)||v[Jr]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?Rs(v):null,v!==null&&(A=no(v),v!==A||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(T=g_,k="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(T=v_,k="onPointerLeave",E="onPointerEnter",_="pointer"),A=g==null?f:Co(g),w=v==null?f:Co(v),f=new T(k,_+"leave",g,n,h),f.target=A,f.relatedTarget=w,k=null,Rs(h)===c&&(T=new T(E,_+"enter",v,n,h),T.target=w,T.relatedTarget=A,k=T),A=k,g&&v)t:{for(T=g,E=v,_=0,w=T;w;w=vo(w))_++;for(w=0,k=E;k;k=vo(k))w++;for(;0<_-w;)T=vo(T),_--;for(;0<w-_;)E=vo(E),w--;for(;_--;){if(T===E||E!==null&&T===E.alternate)break t;T=vo(T),E=vo(E)}T=null}else T=null;g!==null&&x_(d,f,g,T,!1),v!==null&&A!==null&&x_(d,A,v,T,!0)}}e:{if(f=c?Co(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var M=aD;else if(E_(f))if(xP)M=hD;else{M=uD;var R=lD}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=cD);if(M&&(M=M(t,c))){CP(d,M,n,h);break e}R&&R(t,f,c),t==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&im(f,"number",f.value)}switch(R=c?Co(c):window,t){case"focusin":(E_(R)||R.contentEditable==="true")&&(Ro=R,gm=c,Rl=null);break;case"focusout":Rl=gm=Ro=null;break;case"mousedown":ym=!0;break;case"contextmenu":case"mouseup":case"dragend":ym=!1,R_(d,n,h);break;case"selectionchange":if(pD)break;case"keydown":case"keyup":R_(d,n,h)}var I;if(dy)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Io?RP(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(IP&&n.locale!=="ko"&&(Io||y!=="onCompositionStart"?y==="onCompositionEnd"&&Io&&(I=PP()):(Di=h,uy="value"in Di?Di.value:Di.textContent,Io=!0)),R=Eh(c,y),0<R.length&&(y=new y_(y,t,null,n,h),d.push({event:y,listeners:R}),I?y.data=I:(I=AP(n),I!==null&&(y.data=I)))),(I=nD?rD(t,n):iD(t,n))&&(c=Eh(c,"onBeforeInput"),0<c.length&&(h=new y_("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=I))}jP(d,e)})}function Xl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Eh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$l(t,n),s!=null&&r.unshift(Xl(t,s,i)),s=$l(t,e),s!=null&&r.push(Xl(t,s,i))),t=t.return}return r}function vo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function x_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=$l(n,s),l!=null&&o.unshift(Xl(n,l,a))):i||(l=$l(n,s),l!=null&&o.push(Xl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var vD=/\r\n?/g,_D=/\u0000|\uFFFD/g;function b_(t){return(typeof t=="string"?t:""+t).replace(vD,`
`).replace(_D,"")}function vc(t,e,n){if(e=b_(e),b_(t)!==e&&n)throw Error(H(425))}function Th(){}var vm=null,_m=null;function wm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Em=typeof setTimeout=="function"?setTimeout:void 0,wD=typeof clearTimeout=="function"?clearTimeout:void 0,k_=typeof Promise=="function"?Promise:void 0,ED=typeof queueMicrotask=="function"?queueMicrotask:typeof k_<"u"?function(t){return k_.resolve(null).then(t).catch(TD)}:Em;function TD(t){setTimeout(function(){throw t})}function Xf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ql(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ql(e)}function Fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function D_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wa=Math.random().toString(36).slice(2),mr="__reactFiber$"+wa,Yl="__reactProps$"+wa,Jr="__reactContainer$"+wa,Tm="__reactEvents$"+wa,SD="__reactListeners$"+wa,PD="__reactHandles$"+wa;function Rs(t){var e=t[mr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jr]||n[mr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=D_(t);t!==null;){if(n=t[mr])return n;t=D_(t)}return e}t=n,n=t.parentNode}return null}function Ru(t){return t=t[mr]||t[Jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Pd(t){return t[Yl]||null}var Sm=[],xo=-1;function is(t){return{current:t}}function Ye(t){0>xo||(t.current=Sm[xo],Sm[xo]=null,xo--)}function He(t,e){xo++,Sm[xo]=t.current,t.current=e}var Xi={},en=is(Xi),mn=is(!1),Fs=Xi;function Zo(t,e){var n=t.type.contextTypes;if(!n)return Xi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gn(t){return t=t.childContextTypes,t!=null}function Sh(){Ye(mn),Ye(en)}function O_(t,e,n){if(en.current!==Xi)throw Error(H(168));He(en,e),He(mn,n)}function BP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,lk(t)||"Unknown",i));return ot({},n,r)}function Ph(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xi,Fs=en.current,He(en,t),He(mn,mn.current),!0}function N_(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=BP(t,e,Fs),r.__reactInternalMemoizedMergedChildContext=t,Ye(mn),Ye(en),He(en,t)):Ye(mn),He(mn,n)}var Mr=null,Id=!1,Yf=!1;function zP(t){Mr===null?Mr=[t]:Mr.push(t)}function ID(t){Id=!0,zP(t)}function ss(){if(!Yf&&Mr!==null){Yf=!0;var t=0,e=Fe;try{var n=Mr;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mr=null,Id=!1}catch(i){throw Mr!==null&&(Mr=Mr.slice(t+1)),fP(sy,ss),i}finally{Fe=e,Yf=!1}}return null}var bo=[],ko=0,Ih=null,Rh=0,jn=[],Un=0,js=null,Vr=1,Fr="";function _s(t,e){bo[ko++]=Rh,bo[ko++]=Ih,Ih=t,Rh=e}function $P(t,e,n){jn[Un++]=Vr,jn[Un++]=Fr,jn[Un++]=js,js=t;var r=Vr;t=Fr;var i=32-nr(r)-1;r&=~(1<<i),n+=1;var s=32-nr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Vr=1<<32-nr(e)+i|n<<i|r,Fr=s+t}else Vr=1<<s|n<<i|r,Fr=t}function py(t){t.return!==null&&(_s(t,1),$P(t,1,0))}function my(t){for(;t===Ih;)Ih=bo[--ko],bo[ko]=null,Rh=bo[--ko],bo[ko]=null;for(;t===js;)js=jn[--Un],jn[Un]=null,Fr=jn[--Un],jn[Un]=null,Vr=jn[--Un],jn[Un]=null}var Cn=null,In=null,Ze=!1,er=null;function WP(t,e){var n=Bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function L_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cn=t,In=Fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cn=t,In=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=js!==null?{id:Vr,overflow:Fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Cn=t,In=null,!0):!1;default:return!1}}function Pm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Im(t){if(Ze){var e=In;if(e){var n=e;if(!L_(t,e)){if(Pm(t))throw Error(H(418));e=Fi(n.nextSibling);var r=Cn;e&&L_(t,e)?WP(r,n):(t.flags=t.flags&-4097|2,Ze=!1,Cn=t)}}else{if(Pm(t))throw Error(H(418));t.flags=t.flags&-4097|2,Ze=!1,Cn=t}}}function M_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cn=t}function _c(t){if(t!==Cn)return!1;if(!Ze)return M_(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wm(t.type,t.memoizedProps)),e&&(e=In)){if(Pm(t))throw HP(),Error(H(418));for(;e;)WP(t,e),e=Fi(e.nextSibling)}if(M_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){In=Fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}In=null}}else In=Cn?Fi(t.stateNode.nextSibling):null;return!0}function HP(){for(var t=In;t;)t=Fi(t.nextSibling)}function ea(){In=Cn=null,Ze=!1}function gy(t){er===null?er=[t]:er.push(t)}var RD=ai.ReactCurrentBatchConfig;function Za(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function wc(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function V_(t){var e=t._init;return e(t._payload)}function qP(t){function e(E,_){if(t){var w=E.deletions;w===null?(E.deletions=[_],E.flags|=16):w.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function i(E,_){return E=zi(E,_),E.index=0,E.sibling=null,E}function s(E,_,w){return E.index=w,t?(w=E.alternate,w!==null?(w=w.index,w<_?(E.flags|=2,_):w):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,w,k){return _===null||_.tag!==6?(_=ip(w,E.mode,k),_.return=E,_):(_=i(_,w),_.return=E,_)}function l(E,_,w,k){var M=w.type;return M===Po?h(E,_,w.props.children,k,w.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Pi&&V_(M)===_.type)?(k=i(_,w.props),k.ref=Za(E,_,w),k.return=E,k):(k=Kc(w.type,w.key,w.props,null,E.mode,k),k.ref=Za(E,_,w),k.return=E,k)}function c(E,_,w,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=sp(w,E.mode,k),_.return=E,_):(_=i(_,w.children||[]),_.return=E,_)}function h(E,_,w,k,M){return _===null||_.tag!==7?(_=Ns(w,E.mode,k,M),_.return=E,_):(_=i(_,w),_.return=E,_)}function d(E,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=ip(""+_,E.mode,w),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case uc:return w=Kc(_.type,_.key,_.props,null,E.mode,w),w.ref=Za(E,null,_),w.return=E,w;case So:return _=sp(_,E.mode,w),_.return=E,_;case Pi:var k=_._init;return d(E,k(_._payload),w)}if(ul(_)||Ga(_))return _=Ns(_,E.mode,w,null),_.return=E,_;wc(E,_)}return null}function f(E,_,w,k){var M=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return M!==null?null:a(E,_,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case uc:return w.key===M?l(E,_,w,k):null;case So:return w.key===M?c(E,_,w,k):null;case Pi:return M=w._init,f(E,_,M(w._payload),k)}if(ul(w)||Ga(w))return M!==null?null:h(E,_,w,k,null);wc(E,w)}return null}function g(E,_,w,k,M){if(typeof k=="string"&&k!==""||typeof k=="number")return E=E.get(w)||null,a(_,E,""+k,M);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case uc:return E=E.get(k.key===null?w:k.key)||null,l(_,E,k,M);case So:return E=E.get(k.key===null?w:k.key)||null,c(_,E,k,M);case Pi:var R=k._init;return g(E,_,w,R(k._payload),M)}if(ul(k)||Ga(k))return E=E.get(w)||null,h(_,E,k,M,null);wc(_,k)}return null}function v(E,_,w,k){for(var M=null,R=null,I=_,y=_=0,S=null;I!==null&&y<w.length;y++){I.index>y?(S=I,I=null):S=I.sibling;var C=f(E,I,w[y],k);if(C===null){I===null&&(I=S);break}t&&I&&C.alternate===null&&e(E,I),_=s(C,_,y),R===null?M=C:R.sibling=C,R=C,I=S}if(y===w.length)return n(E,I),Ze&&_s(E,y),M;if(I===null){for(;y<w.length;y++)I=d(E,w[y],k),I!==null&&(_=s(I,_,y),R===null?M=I:R.sibling=I,R=I);return Ze&&_s(E,y),M}for(I=r(E,I);y<w.length;y++)S=g(I,E,y,w[y],k),S!==null&&(t&&S.alternate!==null&&I.delete(S.key===null?y:S.key),_=s(S,_,y),R===null?M=S:R.sibling=S,R=S);return t&&I.forEach(function(x){return e(E,x)}),Ze&&_s(E,y),M}function T(E,_,w,k){var M=Ga(w);if(typeof M!="function")throw Error(H(150));if(w=M.call(w),w==null)throw Error(H(151));for(var R=M=null,I=_,y=_=0,S=null,C=w.next();I!==null&&!C.done;y++,C=w.next()){I.index>y?(S=I,I=null):S=I.sibling;var x=f(E,I,C.value,k);if(x===null){I===null&&(I=S);break}t&&I&&x.alternate===null&&e(E,I),_=s(x,_,y),R===null?M=x:R.sibling=x,R=x,I=S}if(C.done)return n(E,I),Ze&&_s(E,y),M;if(I===null){for(;!C.done;y++,C=w.next())C=d(E,C.value,k),C!==null&&(_=s(C,_,y),R===null?M=C:R.sibling=C,R=C);return Ze&&_s(E,y),M}for(I=r(E,I);!C.done;y++,C=w.next())C=g(I,E,y,C.value,k),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?y:C.key),_=s(C,_,y),R===null?M=C:R.sibling=C,R=C);return t&&I.forEach(function(D){return e(E,D)}),Ze&&_s(E,y),M}function A(E,_,w,k){if(typeof w=="object"&&w!==null&&w.type===Po&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case uc:e:{for(var M=w.key,R=_;R!==null;){if(R.key===M){if(M=w.type,M===Po){if(R.tag===7){n(E,R.sibling),_=i(R,w.props.children),_.return=E,E=_;break e}}else if(R.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Pi&&V_(M)===R.type){n(E,R.sibling),_=i(R,w.props),_.ref=Za(E,R,w),_.return=E,E=_;break e}n(E,R);break}else e(E,R);R=R.sibling}w.type===Po?(_=Ns(w.props.children,E.mode,k,w.key),_.return=E,E=_):(k=Kc(w.type,w.key,w.props,null,E.mode,k),k.ref=Za(E,_,w),k.return=E,E=k)}return o(E);case So:e:{for(R=w.key;_!==null;){if(_.key===R)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(E,_.sibling),_=i(_,w.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=sp(w,E.mode,k),_.return=E,E=_}return o(E);case Pi:return R=w._init,A(E,_,R(w._payload),k)}if(ul(w))return v(E,_,w,k);if(Ga(w))return T(E,_,w,k);wc(E,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(E,_.sibling),_=i(_,w),_.return=E,E=_):(n(E,_),_=ip(w,E.mode,k),_.return=E,E=_),o(E)):n(E,_)}return A}var ta=qP(!0),KP=qP(!1),Ah=is(null),Ch=null,Do=null,yy=null;function vy(){yy=Do=Ch=null}function _y(t){var e=Ah.current;Ye(Ah),t._currentValue=e}function Rm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qo(t,e){Ch=t,yy=Do=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pn=!0),t.firstContext=null)}function Hn(t){var e=t._currentValue;if(yy!==t)if(t={context:t,memoizedValue:e,next:null},Do===null){if(Ch===null)throw Error(H(308));Do=t,Ch.dependencies={lanes:0,firstContext:t}}else Do=Do.next=t;return e}var As=null;function wy(t){As===null?As=[t]:As.push(t)}function GP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,wy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Zr(t,r)}function Zr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ii=!1;function Ey(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ji(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Zr(t,n)}return i=r.interleaved,i===null?(e.next=e,wy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Zr(t,n)}function Bc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oy(t,n)}}function F_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xh(t,e,n,r){var i=t.updateQueue;Ii=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,T=a;switch(f=e,g=n,T.tag){case 1:if(v=T.payload,typeof v=="function"){d=v.call(g,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=T.payload,f=typeof v=="function"?v.call(g,d,f):v,f==null)break e;d=ot({},d,f);break e;case 2:Ii=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=d):h=h.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Bs|=o,t.lanes=o,t.memoizedState=d}}function j_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Au={},vr=is(Au),Jl=is(Au),Zl=is(Au);function Cs(t){if(t===Au)throw Error(H(174));return t}function Ty(t,e){switch(He(Zl,e),He(Jl,t),He(vr,Au),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:om(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=om(e,t)}Ye(vr),He(vr,e)}function na(){Ye(vr),Ye(Jl),Ye(Zl)}function XP(t){Cs(Zl.current);var e=Cs(vr.current),n=om(e,t.type);e!==n&&(He(Jl,t),He(vr,n))}function Sy(t){Jl.current===t&&(Ye(vr),Ye(Jl))}var rt=is(0);function bh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jf=[];function Py(){for(var t=0;t<Jf.length;t++)Jf[t]._workInProgressVersionPrimary=null;Jf.length=0}var zc=ai.ReactCurrentDispatcher,Zf=ai.ReactCurrentBatchConfig,Us=0,st=null,Tt=null,At=null,kh=!1,Al=!1,eu=0,AD=0;function Ht(){throw Error(H(321))}function Iy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!or(t[n],e[n]))return!1;return!0}function Ry(t,e,n,r,i,s){if(Us=s,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zc.current=t===null||t.memoizedState===null?kD:DD,t=n(r,i),Al){s=0;do{if(Al=!1,eu=0,25<=s)throw Error(H(301));s+=1,At=Tt=null,e.updateQueue=null,zc.current=OD,t=n(r,i)}while(Al)}if(zc.current=Dh,e=Tt!==null&&Tt.next!==null,Us=0,At=Tt=st=null,kh=!1,e)throw Error(H(300));return t}function Ay(){var t=eu!==0;return eu=0,t}function pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?st.memoizedState=At=t:At=At.next=t,At}function qn(){if(Tt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var e=At===null?st.memoizedState:At.next;if(e!==null)At=e,Tt=t;else{if(t===null)throw Error(H(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},At===null?st.memoizedState=At=t:At=At.next=t}return At}function tu(t,e){return typeof e=="function"?e(t):e}function ep(t){var e=qn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=Tt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Us&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,st.lanes|=h,Bs|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,or(r,e.memoizedState)||(pn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,st.lanes|=s,Bs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function tp(t){var e=qn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);or(s,e.memoizedState)||(pn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function YP(){}function JP(t,e){var n=st,r=qn(),i=e(),s=!or(r.memoizedState,i);if(s&&(r.memoizedState=i,pn=!0),r=r.queue,Cy(t1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,nu(9,e1.bind(null,n,r,i,e),void 0,null),Ct===null)throw Error(H(349));Us&30||ZP(n,e,i)}return i}function ZP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function e1(t,e,n,r){e.value=n,e.getSnapshot=r,n1(e)&&r1(t)}function t1(t,e,n){return n(function(){n1(e)&&r1(t)})}function n1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!or(t,n)}catch{return!0}}function r1(t){var e=Zr(t,1);e!==null&&rr(e,t,1,-1)}function U_(t){var e=pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:t},e.queue=t,t=t.dispatch=bD.bind(null,st,t),[e.memoizedState,t]}function nu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function i1(){return qn().memoizedState}function $c(t,e,n,r){var i=pr();st.flags|=t,i.memoizedState=nu(1|e,n,void 0,r===void 0?null:r)}function Rd(t,e,n,r){var i=qn();r=r===void 0?null:r;var s=void 0;if(Tt!==null){var o=Tt.memoizedState;if(s=o.destroy,r!==null&&Iy(r,o.deps)){i.memoizedState=nu(e,n,s,r);return}}st.flags|=t,i.memoizedState=nu(1|e,n,s,r)}function B_(t,e){return $c(8390656,8,t,e)}function Cy(t,e){return Rd(2048,8,t,e)}function s1(t,e){return Rd(4,2,t,e)}function o1(t,e){return Rd(4,4,t,e)}function a1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function l1(t,e,n){return n=n!=null?n.concat([t]):null,Rd(4,4,a1.bind(null,e,t),n)}function xy(){}function u1(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function c1(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function h1(t,e,n){return Us&21?(or(n,e)||(n=gP(),st.lanes|=n,Bs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pn=!0),t.memoizedState=n)}function CD(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=Zf.transition;Zf.transition={};try{t(!1),e()}finally{Fe=n,Zf.transition=r}}function d1(){return qn().memoizedState}function xD(t,e,n){var r=Bi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},f1(t))p1(e,n);else if(n=GP(t,e,n,r),n!==null){var i=an();rr(n,t,r,i),m1(n,e,r)}}function bD(t,e,n){var r=Bi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(f1(t))p1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,or(a,o)){var l=e.interleaved;l===null?(i.next=i,wy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=GP(t,e,i,r),n!==null&&(i=an(),rr(n,t,r,i),m1(n,e,r))}}function f1(t){var e=t.alternate;return t===st||e!==null&&e===st}function p1(t,e){Al=kh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function m1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oy(t,n)}}var Dh={readContext:Hn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},kD={readContext:Hn,useCallback:function(t,e){return pr().memoizedState=[t,e===void 0?null:e],t},useContext:Hn,useEffect:B_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$c(4194308,4,a1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $c(4194308,4,t,e)},useInsertionEffect:function(t,e){return $c(4,2,t,e)},useMemo:function(t,e){var n=pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xD.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=pr();return t={current:t},e.memoizedState=t},useState:U_,useDebugValue:xy,useDeferredValue:function(t){return pr().memoizedState=t},useTransition:function(){var t=U_(!1),e=t[0];return t=CD.bind(null,t[1]),pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,i=pr();if(Ze){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),Ct===null)throw Error(H(349));Us&30||ZP(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,B_(t1.bind(null,r,s,t),[t]),r.flags|=2048,nu(9,e1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=pr(),e=Ct.identifierPrefix;if(Ze){var n=Fr,r=Vr;n=(r&~(1<<32-nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=eu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=AD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},DD={readContext:Hn,useCallback:u1,useContext:Hn,useEffect:Cy,useImperativeHandle:l1,useInsertionEffect:s1,useLayoutEffect:o1,useMemo:c1,useReducer:ep,useRef:i1,useState:function(){return ep(tu)},useDebugValue:xy,useDeferredValue:function(t){var e=qn();return h1(e,Tt.memoizedState,t)},useTransition:function(){var t=ep(tu)[0],e=qn().memoizedState;return[t,e]},useMutableSource:YP,useSyncExternalStore:JP,useId:d1,unstable_isNewReconciler:!1},OD={readContext:Hn,useCallback:u1,useContext:Hn,useEffect:Cy,useImperativeHandle:l1,useInsertionEffect:s1,useLayoutEffect:o1,useMemo:c1,useReducer:tp,useRef:i1,useState:function(){return tp(tu)},useDebugValue:xy,useDeferredValue:function(t){var e=qn();return Tt===null?e.memoizedState=t:h1(e,Tt.memoizedState,t)},useTransition:function(){var t=tp(tu)[0],e=qn().memoizedState;return[t,e]},useMutableSource:YP,useSyncExternalStore:JP,useId:d1,unstable_isNewReconciler:!1};function Yn(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Am(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ad={isMounted:function(t){return(t=t._reactInternals)?no(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=an(),i=Bi(t),s=Wr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ji(t,s,i),e!==null&&(rr(e,t,i,r),Bc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=an(),i=Bi(t),s=Wr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ji(t,s,i),e!==null&&(rr(e,t,i,r),Bc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),r=Bi(t),i=Wr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ji(t,i,r),e!==null&&(rr(e,t,r,n),Bc(e,t,r))}};function z_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Gl(n,r)||!Gl(i,s):!0}function g1(t,e,n){var r=!1,i=Xi,s=e.contextType;return typeof s=="object"&&s!==null?s=Hn(s):(i=gn(e)?Fs:en.current,r=e.contextTypes,s=(r=r!=null)?Zo(t,i):Xi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ad,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function $_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ad.enqueueReplaceState(e,e.state,null)}function Cm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ey(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Hn(s):(s=gn(e)?Fs:en.current,i.context=Zo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Am(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ad.enqueueReplaceState(i,i.state,null),xh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ra(t,e){try{var n="",r=e;do n+=ak(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function np(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ND=typeof WeakMap=="function"?WeakMap:Map;function y1(t,e,n){n=Wr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Nh||(Nh=!0,jm=r),xm(t,e)},n}function v1(t,e,n){n=Wr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){xm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){xm(t,e),typeof r!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function W_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ND;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=GD.bind(null,t,e,n),e.then(t,t))}function H_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function q_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wr(-1,1),e.tag=2,ji(n,e,1))),n.lanes|=1),t)}var LD=ai.ReactCurrentOwner,pn=!1;function on(t,e,n,r){e.child=t===null?KP(e,null,n,r):ta(e,t.child,n,r)}function K_(t,e,n,r,i){n=n.render;var s=e.ref;return qo(e,i),r=Ry(t,e,n,r,s,i),n=Ay(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ei(t,e,i)):(Ze&&n&&py(e),e.flags|=1,on(t,e,r,i),e.child)}function G_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Vy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,_1(t,e,s,r,i)):(t=Kc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Gl,n(o,r)&&t.ref===e.ref)return ei(t,e,i)}return e.flags|=1,t=zi(s,r),t.ref=e.ref,t.return=e,e.child=t}function _1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Gl(s,r)&&t.ref===e.ref)if(pn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(pn=!0);else return e.lanes=t.lanes,ei(t,e,i)}return bm(t,e,n,r,i)}function w1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(No,Sn),Sn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(No,Sn),Sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,He(No,Sn),Sn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,He(No,Sn),Sn|=r;return on(t,e,i,n),e.child}function E1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bm(t,e,n,r,i){var s=gn(n)?Fs:en.current;return s=Zo(e,s),qo(e,i),n=Ry(t,e,n,r,s,i),r=Ay(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ei(t,e,i)):(Ze&&r&&py(e),e.flags|=1,on(t,e,n,i),e.child)}function Q_(t,e,n,r,i){if(gn(n)){var s=!0;Ph(e)}else s=!1;if(qo(e,i),e.stateNode===null)Wc(t,e),g1(e,n,r),Cm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Hn(c):(c=gn(n)?Fs:en.current,c=Zo(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&$_(e,o,r,c),Ii=!1;var f=e.memoizedState;o.state=f,xh(e,r,o,i),l=e.memoizedState,a!==r||f!==l||mn.current||Ii?(typeof h=="function"&&(Am(e,n,h,r),l=e.memoizedState),(a=Ii||z_(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,QP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Yn(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Hn(l):(l=gn(n)?Fs:en.current,l=Zo(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&$_(e,o,r,l),Ii=!1,f=e.memoizedState,o.state=f,xh(e,r,o,i);var v=e.memoizedState;a!==d||f!==v||mn.current||Ii?(typeof g=="function"&&(Am(e,n,g,r),v=e.memoizedState),(c=Ii||z_(e,n,c,r,f,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return km(t,e,n,r,s,i)}function km(t,e,n,r,i,s){E1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&N_(e,n,!1),ei(t,e,s);r=e.stateNode,LD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ta(e,t.child,null,s),e.child=ta(e,null,a,s)):on(t,e,a,s),e.memoizedState=r.state,i&&N_(e,n,!0),e.child}function T1(t){var e=t.stateNode;e.pendingContext?O_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&O_(t,e.context,!1),Ty(t,e.containerInfo)}function X_(t,e,n,r,i){return ea(),gy(i),e.flags|=256,on(t,e,n,r),e.child}var Dm={dehydrated:null,treeContext:null,retryLane:0};function Om(t){return{baseLanes:t,cachePool:null,transitions:null}}function S1(t,e,n){var r=e.pendingProps,i=rt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),He(rt,i&1),t===null)return Im(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=bd(o,r,0,null),t=Ns(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Om(n),e.memoizedState=Dm,t):by(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return MD(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=zi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=zi(a,s):(s=Ns(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Om(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Dm,r}return s=t.child,t=s.sibling,r=zi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function by(t,e){return e=bd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ec(t,e,n,r){return r!==null&&gy(r),ta(e,t.child,null,n),t=by(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MD(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=np(Error(H(422))),Ec(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=bd({mode:"visible",children:r.children},i,0,null),s=Ns(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ta(e,t.child,null,o),e.child.memoizedState=Om(o),e.memoizedState=Dm,s);if(!(e.mode&1))return Ec(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=np(s,r,void 0),Ec(t,e,o,r)}if(a=(o&t.childLanes)!==0,pn||a){if(r=Ct,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Zr(t,i),rr(r,t,i,-1))}return My(),r=np(Error(H(421))),Ec(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=QD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,In=Fi(i.nextSibling),Cn=e,Ze=!0,er=null,t!==null&&(jn[Un++]=Vr,jn[Un++]=Fr,jn[Un++]=js,Vr=t.id,Fr=t.overflow,js=e),e=by(e,r.children),e.flags|=4096,e)}function Y_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Rm(t.return,e,n)}function rp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function P1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(on(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Y_(t,n,e);else if(t.tag===19)Y_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(rt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rp(e,!0,n,null,s);break;case"together":rp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ei(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=zi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VD(t,e,n){switch(e.tag){case 3:T1(e),ea();break;case 5:XP(e);break;case 1:gn(e.type)&&Ph(e);break;case 4:Ty(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;He(Ah,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?S1(t,e,n):(He(rt,rt.current&1),t=ei(t,e,n),t!==null?t.sibling:null);He(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return P1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,w1(t,e,n)}return ei(t,e,n)}var I1,Nm,R1,A1;I1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nm=function(){};R1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Cs(vr.current);var s=null;switch(n){case"input":i=nm(t,i),r=nm(t,r),s=[];break;case"select":i=ot({},i,{value:void 0}),r=ot({},r,{value:void 0}),s=[];break;case"textarea":i=sm(t,i),r=sm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Th)}am(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Xe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};A1=function(t,e,n,r){n!==r&&(e.flags|=4)};function el(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function FD(t,e,n){var r=e.pendingProps;switch(my(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(e),null;case 1:return gn(e.type)&&Sh(),qt(e),null;case 3:return r=e.stateNode,na(),Ye(mn),Ye(en),Py(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_c(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,er!==null&&(zm(er),er=null))),Nm(t,e),qt(e),null;case 5:Sy(e);var i=Cs(Zl.current);if(n=e.type,t!==null&&e.stateNode!=null)R1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return qt(e),null}if(t=Cs(vr.current),_c(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[mr]=e,r[Yl]=s,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(i=0;i<hl.length;i++)Xe(hl[i],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":o_(r,s),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Xe("invalid",r);break;case"textarea":l_(r,s),Xe("invalid",r)}am(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&vc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&vc(r.textContent,a,t),i=["children",""+a]):Bl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Xe("scroll",r)}switch(n){case"input":cc(r),a_(r,s,!0);break;case"textarea":cc(r),u_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Th)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[mr]=e,t[Yl]=r,I1(t,e,!1,!1),e.stateNode=t;e:{switch(o=lm(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),i=r;break;case"iframe":case"object":case"embed":Xe("load",t),i=r;break;case"video":case"audio":for(i=0;i<hl.length;i++)Xe(hl[i],t);i=r;break;case"source":Xe("error",t),i=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),i=r;break;case"details":Xe("toggle",t),i=r;break;case"input":o_(t,r),i=nm(t,r),Xe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ot({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":l_(t,r),i=sm(t,r),Xe("invalid",t);break;default:i=r}am(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?iP(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nP(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zl(t,l):typeof l=="number"&&zl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Xe("scroll",t):l!=null&&ey(t,s,l,o))}switch(n){case"input":cc(t),a_(t,r,!1);break;case"textarea":cc(t),u_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?zo(t,!!r.multiple,s,!1):r.defaultValue!=null&&zo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Th)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qt(e),null;case 6:if(t&&e.stateNode!=null)A1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Cs(Zl.current),Cs(vr.current),_c(e)){if(r=e.stateNode,n=e.memoizedProps,r[mr]=e,(s=r.nodeValue!==n)&&(t=Cn,t!==null))switch(t.tag){case 3:vc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mr]=e,e.stateNode=r}return qt(e),null;case 13:if(Ye(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&In!==null&&e.mode&1&&!(e.flags&128))HP(),ea(),e.flags|=98560,s=!1;else if(s=_c(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[mr]=e}else ea(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qt(e),s=!1}else er!==null&&(zm(er),er=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?Pt===0&&(Pt=3):My())),e.updateQueue!==null&&(e.flags|=4),qt(e),null);case 4:return na(),Nm(t,e),t===null&&Ql(e.stateNode.containerInfo),qt(e),null;case 10:return _y(e.type._context),qt(e),null;case 17:return gn(e.type)&&Sh(),qt(e),null;case 19:if(Ye(rt),s=e.memoizedState,s===null)return qt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)el(s,!1);else{if(Pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bh(t),o!==null){for(e.flags|=128,el(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(rt,rt.current&1|2),e.child}t=t.sibling}s.tail!==null&&ft()>ia&&(e.flags|=128,r=!0,el(s,!1),e.lanes=4194304)}else{if(!r)if(t=bh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),el(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ze)return qt(e),null}else 2*ft()-s.renderingStartTime>ia&&n!==1073741824&&(e.flags|=128,r=!0,el(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ft(),e.sibling=null,n=rt.current,He(rt,r?n&1|2:n&1),e):(qt(e),null);case 22:case 23:return Ly(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Sn&1073741824&&(qt(e),e.subtreeFlags&6&&(e.flags|=8192)):qt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function jD(t,e){switch(my(e),e.tag){case 1:return gn(e.type)&&Sh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return na(),Ye(mn),Ye(en),Py(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sy(e),null;case 13:if(Ye(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));ea()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(rt),null;case 4:return na(),null;case 10:return _y(e.type._context),null;case 22:case 23:return Ly(),null;case 24:return null;default:return null}}var Tc=!1,Xt=!1,UD=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Oo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(t,e,r)}else n.current=null}function Lm(t,e,n){try{n()}catch(r){ut(t,e,r)}}var J_=!1;function BD(t,e){if(vm=_h,t=DP(),fy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++h===r&&(l=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_m={focusedElem:t,selectionRange:n},_h=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var T=v.memoizedProps,A=v.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?T:Yn(e.type,T),A);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(k){ut(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return v=J_,J_=!1,v}function Cl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Lm(e,n,s)}i=i.next}while(i!==r)}}function Cd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Mm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function C1(t){var e=t.alternate;e!==null&&(t.alternate=null,C1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mr],delete e[Yl],delete e[Tm],delete e[SD],delete e[PD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function x1(t){return t.tag===5||t.tag===3||t.tag===4}function Z_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||x1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Th));else if(r!==4&&(t=t.child,t!==null))for(Vm(t,e,n),t=t.sibling;t!==null;)Vm(t,e,n),t=t.sibling}function Fm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fm(t,e,n),t=t.sibling;t!==null;)Fm(t,e,n),t=t.sibling}var Ot=null,Jn=!1;function _i(t,e,n){for(n=n.child;n!==null;)b1(t,e,n),n=n.sibling}function b1(t,e,n){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(wd,n)}catch{}switch(n.tag){case 5:Xt||Oo(n,e);case 6:var r=Ot,i=Jn;Ot=null,_i(t,e,n),Ot=r,Jn=i,Ot!==null&&(Jn?(t=Ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(Jn?(t=Ot,n=n.stateNode,t.nodeType===8?Xf(t.parentNode,n):t.nodeType===1&&Xf(t,n),ql(t)):Xf(Ot,n.stateNode));break;case 4:r=Ot,i=Jn,Ot=n.stateNode.containerInfo,Jn=!0,_i(t,e,n),Ot=r,Jn=i;break;case 0:case 11:case 14:case 15:if(!Xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Lm(n,e,o),i=i.next}while(i!==r)}_i(t,e,n);break;case 1:if(!Xt&&(Oo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ut(n,e,a)}_i(t,e,n);break;case 21:_i(t,e,n);break;case 22:n.mode&1?(Xt=(r=Xt)||n.memoizedState!==null,_i(t,e,n),Xt=r):_i(t,e,n);break;default:_i(t,e,n)}}function ew(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new UD),e.forEach(function(r){var i=XD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ot=a.stateNode,Jn=!1;break e;case 3:Ot=a.stateNode.containerInfo,Jn=!0;break e;case 4:Ot=a.stateNode.containerInfo,Jn=!0;break e}a=a.return}if(Ot===null)throw Error(H(160));b1(s,o,i),Ot=null,Jn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ut(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)k1(e,t),e=e.sibling}function k1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xn(e,t),fr(t),r&4){try{Cl(3,t,t.return),Cd(3,t)}catch(T){ut(t,t.return,T)}try{Cl(5,t,t.return)}catch(T){ut(t,t.return,T)}}break;case 1:Xn(e,t),fr(t),r&512&&n!==null&&Oo(n,n.return);break;case 5:if(Xn(e,t),fr(t),r&512&&n!==null&&Oo(n,n.return),t.flags&32){var i=t.stateNode;try{zl(i,"")}catch(T){ut(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ZS(i,s),lm(a,o);var c=lm(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?iP(i,d):h==="dangerouslySetInnerHTML"?nP(i,d):h==="children"?zl(i,d):ey(i,h,d,c)}switch(a){case"input":rm(i,s);break;case"textarea":eP(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?zo(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?zo(i,!!s.multiple,s.defaultValue,!0):zo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yl]=s}catch(T){ut(t,t.return,T)}}break;case 6:if(Xn(e,t),fr(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){ut(t,t.return,T)}}break;case 3:if(Xn(e,t),fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ql(e.containerInfo)}catch(T){ut(t,t.return,T)}break;case 4:Xn(e,t),fr(t);break;case 13:Xn(e,t),fr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Oy=ft())),r&4&&ew(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Xt=(c=Xt)||h,Xn(e,t),Xt=c):Xn(e,t),fr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Y=t,h=t.child;h!==null;){for(d=Y=h;Y!==null;){switch(f=Y,g=f.child,f.tag){case 0:case 11:case 14:case 15:Cl(4,f,f.return);break;case 1:Oo(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(T){ut(r,n,T)}}break;case 5:Oo(f,f.return);break;case 22:if(f.memoizedState!==null){nw(d);continue}}g!==null?(g.return=f,Y=g):nw(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rP("display",o))}catch(T){ut(t,t.return,T)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(T){ut(t,t.return,T)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xn(e,t),fr(t),r&4&&ew(t);break;case 21:break;default:Xn(e,t),fr(t)}}function fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(x1(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zl(i,""),r.flags&=-33);var s=Z_(t);Fm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Z_(t);Vm(t,a,o);break;default:throw Error(H(161))}}catch(l){ut(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zD(t,e,n){Y=t,D1(t)}function D1(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Tc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Xt;a=Tc;var c=Xt;if(Tc=o,(Xt=l)&&!c)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?rw(i):l!==null?(l.return=o,Y=l):rw(i);for(;s!==null;)Y=s,D1(s),s=s.sibling;Y=i,Tc=a,Xt=c}tw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):tw(t)}}function tw(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xt||Cd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Yn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&j_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}j_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&ql(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Xt||e.flags&512&&Mm(e)}catch(f){ut(e,e.return,f)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function nw(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function rw(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cd(4,e)}catch(l){ut(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ut(e,i,l)}}var s=e.return;try{Mm(e)}catch(l){ut(e,s,l)}break;case 5:var o=e.return;try{Mm(e)}catch(l){ut(e,o,l)}}}catch(l){ut(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var $D=Math.ceil,Oh=ai.ReactCurrentDispatcher,ky=ai.ReactCurrentOwner,zn=ai.ReactCurrentBatchConfig,xe=0,Ct=null,vt=null,Vt=0,Sn=0,No=is(0),Pt=0,ru=null,Bs=0,xd=0,Dy=0,xl=null,dn=null,Oy=0,ia=1/0,Lr=null,Nh=!1,jm=null,Ui=null,Sc=!1,Oi=null,Lh=0,bl=0,Um=null,Hc=-1,qc=0;function an(){return xe&6?ft():Hc!==-1?Hc:Hc=ft()}function Bi(t){return t.mode&1?xe&2&&Vt!==0?Vt&-Vt:RD.transition!==null?(qc===0&&(qc=gP()),qc):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:SP(t.type)),t):1}function rr(t,e,n,r){if(50<bl)throw bl=0,Um=null,Error(H(185));Pu(t,n,r),(!(xe&2)||t!==Ct)&&(t===Ct&&(!(xe&2)&&(xd|=n),Pt===4&&Ai(t,Vt)),yn(t,r),n===1&&xe===0&&!(e.mode&1)&&(ia=ft()+500,Id&&ss()))}function yn(t,e){var n=t.callbackNode;Rk(t,e);var r=vh(t,t===Ct?Vt:0);if(r===0)n!==null&&d_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&d_(n),e===1)t.tag===0?ID(iw.bind(null,t)):zP(iw.bind(null,t)),ED(function(){!(xe&6)&&ss()}),n=null;else{switch(yP(r)){case 1:n=sy;break;case 4:n=pP;break;case 16:n=yh;break;case 536870912:n=mP;break;default:n=yh}n=U1(n,O1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function O1(t,e){if(Hc=-1,qc=0,xe&6)throw Error(H(327));var n=t.callbackNode;if(Ko()&&t.callbackNode!==n)return null;var r=vh(t,t===Ct?Vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Mh(t,r);else{e=r;var i=xe;xe|=2;var s=L1();(Ct!==t||Vt!==e)&&(Lr=null,ia=ft()+500,Os(t,e));do try{qD();break}catch(a){N1(t,a)}while(!0);vy(),Oh.current=s,xe=i,vt!==null?e=0:(Ct=null,Vt=0,e=Pt)}if(e!==0){if(e===2&&(i=fm(t),i!==0&&(r=i,e=Bm(t,i))),e===1)throw n=ru,Os(t,0),Ai(t,r),yn(t,ft()),n;if(e===6)Ai(t,r);else{if(i=t.current.alternate,!(r&30)&&!WD(i)&&(e=Mh(t,r),e===2&&(s=fm(t),s!==0&&(r=s,e=Bm(t,s))),e===1))throw n=ru,Os(t,0),Ai(t,r),yn(t,ft()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:ws(t,dn,Lr);break;case 3:if(Ai(t,r),(r&130023424)===r&&(e=Oy+500-ft(),10<e)){if(vh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){an(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Em(ws.bind(null,t,dn,Lr),e);break}ws(t,dn,Lr);break;case 4:if(Ai(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-nr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$D(r/1960))-r,10<r){t.timeoutHandle=Em(ws.bind(null,t,dn,Lr),r);break}ws(t,dn,Lr);break;case 5:ws(t,dn,Lr);break;default:throw Error(H(329))}}}return yn(t,ft()),t.callbackNode===n?O1.bind(null,t):null}function Bm(t,e){var n=xl;return t.current.memoizedState.isDehydrated&&(Os(t,e).flags|=256),t=Mh(t,e),t!==2&&(e=dn,dn=n,e!==null&&zm(e)),t}function zm(t){dn===null?dn=t:dn.push.apply(dn,t)}function WD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ai(t,e){for(e&=~Dy,e&=~xd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-nr(e),r=1<<n;t[n]=-1,e&=~r}}function iw(t){if(xe&6)throw Error(H(327));Ko();var e=vh(t,0);if(!(e&1))return yn(t,ft()),null;var n=Mh(t,e);if(t.tag!==0&&n===2){var r=fm(t);r!==0&&(e=r,n=Bm(t,r))}if(n===1)throw n=ru,Os(t,0),Ai(t,e),yn(t,ft()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ws(t,dn,Lr),yn(t,ft()),null}function Ny(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(ia=ft()+500,Id&&ss())}}function zs(t){Oi!==null&&Oi.tag===0&&!(xe&6)&&Ko();var e=xe;xe|=1;var n=zn.transition,r=Fe;try{if(zn.transition=null,Fe=1,t)return t()}finally{Fe=r,zn.transition=n,xe=e,!(xe&6)&&ss()}}function Ly(){Sn=No.current,Ye(No)}function Os(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wD(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(my(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sh();break;case 3:na(),Ye(mn),Ye(en),Py();break;case 5:Sy(r);break;case 4:na();break;case 13:Ye(rt);break;case 19:Ye(rt);break;case 10:_y(r.type._context);break;case 22:case 23:Ly()}n=n.return}if(Ct=t,vt=t=zi(t.current,null),Vt=Sn=e,Pt=0,ru=null,Dy=xd=Bs=0,dn=xl=null,As!==null){for(e=0;e<As.length;e++)if(n=As[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}As=null}return t}function N1(t,e){do{var n=vt;try{if(vy(),zc.current=Dh,kh){for(var r=st.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}kh=!1}if(Us=0,At=Tt=st=null,Al=!1,eu=0,ky.current=null,n===null||n.return===null){Pt=1,ru=e,vt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=H_(o);if(g!==null){g.flags&=-257,q_(g,o,a,s,e),g.mode&1&&W_(s,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var T=new Set;T.add(l),e.updateQueue=T}else v.add(l);break e}else{if(!(e&1)){W_(s,c,e),My();break e}l=Error(H(426))}}else if(Ze&&a.mode&1){var A=H_(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),q_(A,o,a,s,e),gy(ra(l,a));break e}}s=l=ra(l,a),Pt!==4&&(Pt=2),xl===null?xl=[s]:xl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=y1(s,l,e);F_(s,E);break e;case 1:a=l;var _=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ui===null||!Ui.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=v1(s,a,e);F_(s,k);break e}}s=s.return}while(s!==null)}V1(n)}catch(M){e=M,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function L1(){var t=Oh.current;return Oh.current=Dh,t===null?Dh:t}function My(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Ct===null||!(Bs&268435455)&&!(xd&268435455)||Ai(Ct,Vt)}function Mh(t,e){var n=xe;xe|=2;var r=L1();(Ct!==t||Vt!==e)&&(Lr=null,Os(t,e));do try{HD();break}catch(i){N1(t,i)}while(!0);if(vy(),xe=n,Oh.current=r,vt!==null)throw Error(H(261));return Ct=null,Vt=0,Pt}function HD(){for(;vt!==null;)M1(vt)}function qD(){for(;vt!==null&&!yk();)M1(vt)}function M1(t){var e=j1(t.alternate,t,Sn);t.memoizedProps=t.pendingProps,e===null?V1(t):vt=e,ky.current=null}function V1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jD(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,vt=null;return}}else if(n=FD(n,e,Sn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);Pt===0&&(Pt=5)}function ws(t,e,n){var r=Fe,i=zn.transition;try{zn.transition=null,Fe=1,KD(t,e,n,r)}finally{zn.transition=i,Fe=r}return null}function KD(t,e,n,r){do Ko();while(Oi!==null);if(xe&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ak(t,s),t===Ct&&(vt=Ct=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sc||(Sc=!0,U1(yh,function(){return Ko(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=zn.transition,zn.transition=null;var o=Fe;Fe=1;var a=xe;xe|=4,ky.current=null,BD(t,n),k1(n,t),fD(_m),_h=!!vm,_m=vm=null,t.current=n,zD(n),vk(),xe=a,Fe=o,zn.transition=s}else t.current=n;if(Sc&&(Sc=!1,Oi=t,Lh=i),s=t.pendingLanes,s===0&&(Ui=null),Ek(n.stateNode),yn(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Nh)throw Nh=!1,t=jm,jm=null,t;return Lh&1&&t.tag!==0&&Ko(),s=t.pendingLanes,s&1?t===Um?bl++:(bl=0,Um=t):bl=0,ss(),null}function Ko(){if(Oi!==null){var t=yP(Lh),e=zn.transition,n=Fe;try{if(zn.transition=null,Fe=16>t?16:t,Oi===null)var r=!1;else{if(t=Oi,Oi=null,Lh=0,xe&6)throw Error(H(331));var i=xe;for(xe|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Y=c;Y!==null;){var h=Y;switch(h.tag){case 0:case 11:case 15:Cl(8,h,s)}var d=h.child;if(d!==null)d.return=h,Y=d;else for(;Y!==null;){h=Y;var f=h.sibling,g=h.return;if(C1(h),h===c){Y=null;break}if(f!==null){f.return=g,Y=f;break}Y=g}}}var v=s.alternate;if(v!==null){var T=v.child;if(T!==null){v.child=null;do{var A=T.sibling;T.sibling=null,T=A}while(T!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cl(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,Y=E;break e}Y=s.return}}var _=t.current;for(Y=_;Y!==null;){o=Y;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Y=w;else e:for(o=_;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cd(9,a)}}catch(M){ut(a,a.return,M)}if(a===o){Y=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Y=k;break e}Y=a.return}}if(xe=i,ss(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(wd,t)}catch{}r=!0}return r}finally{Fe=n,zn.transition=e}}return!1}function sw(t,e,n){e=ra(n,e),e=y1(t,e,1),t=ji(t,e,1),e=an(),t!==null&&(Pu(t,1,e),yn(t,e))}function ut(t,e,n){if(t.tag===3)sw(t,t,n);else for(;e!==null;){if(e.tag===3){sw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ui===null||!Ui.has(r))){t=ra(n,t),t=v1(e,t,1),e=ji(e,t,1),t=an(),e!==null&&(Pu(e,1,t),yn(e,t));break}}e=e.return}}function GD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=an(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(Vt&n)===n&&(Pt===4||Pt===3&&(Vt&130023424)===Vt&&500>ft()-Oy?Os(t,0):Dy|=n),yn(t,e)}function F1(t,e){e===0&&(t.mode&1?(e=fc,fc<<=1,!(fc&130023424)&&(fc=4194304)):e=1);var n=an();t=Zr(t,e),t!==null&&(Pu(t,e,n),yn(t,n))}function QD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),F1(t,n)}function XD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),F1(t,n)}var j1;j1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mn.current)pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pn=!1,VD(t,e,n);pn=!!(t.flags&131072)}else pn=!1,Ze&&e.flags&1048576&&$P(e,Rh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wc(t,e),t=e.pendingProps;var i=Zo(e,en.current);qo(e,n),i=Ry(null,e,r,t,i,n);var s=Ay();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(r)?(s=!0,Ph(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ey(e),i.updater=Ad,e.stateNode=i,i._reactInternals=e,Cm(e,r,t,n),e=km(null,e,r,!0,s,n)):(e.tag=0,Ze&&s&&py(e),on(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=JD(r),t=Yn(r,t),i){case 0:e=bm(null,e,r,t,n);break e;case 1:e=Q_(null,e,r,t,n);break e;case 11:e=K_(null,e,r,t,n);break e;case 14:e=G_(null,e,r,Yn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),bm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),Q_(t,e,r,i,n);case 3:e:{if(T1(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,QP(t,e),xh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ra(Error(H(423)),e),e=X_(t,e,r,n,i);break e}else if(r!==i){i=ra(Error(H(424)),e),e=X_(t,e,r,n,i);break e}else for(In=Fi(e.stateNode.containerInfo.firstChild),Cn=e,Ze=!0,er=null,n=KP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ea(),r===i){e=ei(t,e,n);break e}on(t,e,r,n)}e=e.child}return e;case 5:return XP(e),t===null&&Im(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,wm(r,i)?o=null:s!==null&&wm(r,s)&&(e.flags|=32),E1(t,e),on(t,e,o,n),e.child;case 6:return t===null&&Im(e),null;case 13:return S1(t,e,n);case 4:return Ty(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ta(e,null,r,n):on(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),K_(t,e,r,i,n);case 7:return on(t,e,e.pendingProps,n),e.child;case 8:return on(t,e,e.pendingProps.children,n),e.child;case 12:return on(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,He(Ah,r._currentValue),r._currentValue=o,s!==null)if(or(s.value,o)){if(s.children===i.children&&!mn.current){e=ei(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Wr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Rm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Rm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}on(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,qo(e,n),i=Hn(i),r=r(i),e.flags|=1,on(t,e,r,n),e.child;case 14:return r=e.type,i=Yn(r,e.pendingProps),i=Yn(r.type,i),G_(t,e,r,i,n);case 15:return _1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),Wc(t,e),e.tag=1,gn(r)?(t=!0,Ph(e)):t=!1,qo(e,n),g1(e,r,i),Cm(e,r,i,n),km(null,e,r,!0,t,n);case 19:return P1(t,e,n);case 22:return w1(t,e,n)}throw Error(H(156,e.tag))};function U1(t,e){return fP(t,e)}function YD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,e,n,r){return new YD(t,e,n,r)}function Vy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JD(t){if(typeof t=="function")return Vy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ny)return 11;if(t===ry)return 14}return 2}function zi(t,e){var n=t.alternate;return n===null?(n=Bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Vy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Po:return Ns(n.children,i,s,e);case ty:o=8,i|=8;break;case Jp:return t=Bn(12,n,e,i|2),t.elementType=Jp,t.lanes=s,t;case Zp:return t=Bn(13,n,e,i),t.elementType=Zp,t.lanes=s,t;case em:return t=Bn(19,n,e,i),t.elementType=em,t.lanes=s,t;case XS:return bd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case GS:o=10;break e;case QS:o=9;break e;case ny:o=11;break e;case ry:o=14;break e;case Pi:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Bn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ns(t,e,n,r){return t=Bn(7,t,r,e),t.lanes=n,t}function bd(t,e,n,r){return t=Bn(22,t,r,e),t.elementType=XS,t.lanes=n,t.stateNode={isHidden:!1},t}function ip(t,e,n){return t=Bn(6,t,null,e),t.lanes=n,t}function sp(t,e,n){return e=Bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ZD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jf(0),this.expirationTimes=jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fy(t,e,n,r,i,s,o,a,l){return t=new ZD(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Bn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ey(s),t}function eO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:So,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function B1(t){if(!t)return Xi;t=t._reactInternals;e:{if(no(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(gn(n))return BP(t,n,e)}return e}function z1(t,e,n,r,i,s,o,a,l){return t=Fy(n,r,!0,t,i,s,o,a,l),t.context=B1(null),n=t.current,r=an(),i=Bi(n),s=Wr(r,i),s.callback=e??null,ji(n,s,i),t.current.lanes=i,Pu(t,i,r),yn(t,r),t}function kd(t,e,n,r){var i=e.current,s=an(),o=Bi(i);return n=B1(n),e.context===null?e.context=n:e.pendingContext=n,e=Wr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ji(i,e,o),t!==null&&(rr(t,i,o,s),Bc(t,i,o)),o}function Vh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ow(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jy(t,e){ow(t,e),(t=t.alternate)&&ow(t,e)}function tO(){return null}var $1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Uy(t){this._internalRoot=t}Dd.prototype.render=Uy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));kd(t,e,null,null)};Dd.prototype.unmount=Uy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zs(function(){kd(null,t,null,null)}),e[Jr]=null}};function Dd(t){this._internalRoot=t}Dd.prototype.unstable_scheduleHydration=function(t){if(t){var e=wP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ri.length&&e!==0&&e<Ri[n].priority;n++);Ri.splice(n,0,t),n===0&&TP(t)}};function By(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Od(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aw(){}function nO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Vh(o);s.call(c)}}var o=z1(e,r,t,0,null,!1,!1,"",aw);return t._reactRootContainer=o,t[Jr]=o.current,Ql(t.nodeType===8?t.parentNode:t),zs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Vh(l);a.call(c)}}var l=Fy(t,0,!1,null,null,!1,!1,"",aw);return t._reactRootContainer=l,t[Jr]=l.current,Ql(t.nodeType===8?t.parentNode:t),zs(function(){kd(e,l,n,r)}),l}function Nd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Vh(o);a.call(l)}}kd(e,o,t,i)}else o=nO(n,e,t,i,r);return Vh(o)}vP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cl(e.pendingLanes);n!==0&&(oy(e,n|1),yn(e,ft()),!(xe&6)&&(ia=ft()+500,ss()))}break;case 13:zs(function(){var r=Zr(t,1);if(r!==null){var i=an();rr(r,t,1,i)}}),jy(t,1)}};ay=function(t){if(t.tag===13){var e=Zr(t,134217728);if(e!==null){var n=an();rr(e,t,134217728,n)}jy(t,134217728)}};_P=function(t){if(t.tag===13){var e=Bi(t),n=Zr(t,e);if(n!==null){var r=an();rr(n,t,e,r)}jy(t,e)}};wP=function(){return Fe};EP=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};cm=function(t,e,n){switch(e){case"input":if(rm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Pd(r);if(!i)throw Error(H(90));JS(r),rm(r,i)}}}break;case"textarea":eP(t,n);break;case"select":e=n.value,e!=null&&zo(t,!!n.multiple,e,!1)}};aP=Ny;lP=zs;var rO={usingClientEntryPoint:!1,Events:[Ru,Co,Pd,sP,oP,Ny]},tl={findFiberByHostInstance:Rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iO={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hP(t),t===null?null:t.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||tO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{wd=Pc.inject(iO),yr=Pc}catch{}}On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rO;On.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!By(e))throw Error(H(200));return eO(t,e,null,n)};On.createRoot=function(t,e){if(!By(t))throw Error(H(299));var n=!1,r="",i=$1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fy(t,1,!1,null,null,n,!1,r,i),t[Jr]=e.current,Ql(t.nodeType===8?t.parentNode:t),new Uy(e)};On.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=hP(e),t=t===null?null:t.stateNode,t};On.flushSync=function(t){return zs(t)};On.hydrate=function(t,e,n){if(!Od(e))throw Error(H(200));return Nd(null,t,e,!0,n)};On.hydrateRoot=function(t,e,n){if(!By(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=$1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=z1(e,null,t,1,n??null,i,!1,s,o),t[Jr]=e.current,Ql(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Dd(e)};On.render=function(t,e,n){if(!Od(e))throw Error(H(200));return Nd(null,t,e,!1,n)};On.unmountComponentAtNode=function(t){if(!Od(t))throw Error(H(40));return t._reactRootContainer?(zs(function(){Nd(null,null,t,!1,function(){t._reactRootContainer=null,t[Jr]=null})}),!0):!1};On.unstable_batchedUpdates=Ny;On.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Od(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Nd(t,e,n,!1,r)};On.version="18.3.1-next-f1338f8080-20240426";function W1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W1)}catch(t){console.error(t)}}W1(),WS.exports=On;var zy=WS.exports;const sO=vd(zy),oO=DS({__proto__:null,default:sO},[zy]);var H1,lw=zy;H1=lw.createRoot,lw.hydrateRoot;/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nt(){return nt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nt.apply(this,arguments)}var gt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(gt||(gt={}));const uw="popstate";function aO(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return iu("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:$s(i)}return uO(e,n,null,t)}function ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lO(){return Math.random().toString(36).substr(2,8)}function cw(t,e){return{usr:t.state,key:t.key,idx:e}}function iu(t,e,n,r){return n===void 0&&(n=null),nt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?os(e):e,{state:n,key:e&&e.key||r||lO()})}function $s(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function os(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function uO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=gt.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(nt({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=gt.Pop;let A=h(),E=A==null?null:A-c;c=A,l&&l({action:a,location:T.location,delta:E})}function f(A,E){a=gt.Push;let _=iu(T.location,A,E);c=h()+1;let w=cw(_,c),k=T.createHref(_);try{o.pushState(w,"",k)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(k)}s&&l&&l({action:a,location:T.location,delta:1})}function g(A,E){a=gt.Replace;let _=iu(T.location,A,E);c=h();let w=cw(_,c),k=T.createHref(_);o.replaceState(w,"",k),s&&l&&l({action:a,location:T.location,delta:0})}function v(A){let E=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof A=="string"?A:$s(A);return _=_.replace(/ $/,"%20"),ye(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let T={get action(){return a},get location(){return t(i,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(uw,d),l=A,()=>{i.removeEventListener(uw,d),l=null}},createHref(A){return e(i,A)},createURL:v,encodeLocation(A){let E=v(A);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:f,replace:g,go(A){return o.go(A)}};return T}var We;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(We||(We={}));const cO=new Set(["lazy","caseSensitive","path","id","index","children"]);function hO(t){return t.index===!0}function su(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(ye(i.index!==!0||!i.children,"Cannot specify children on an index route"),ye(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),hO(i)){let l=nt({},i,e(i),{id:a});return r[a]=l,l}else{let l=nt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=su(i.children,e,o,r)),l}})}function Is(t,e,n){return n===void 0&&(n="/"),Gc(t,e,n,!1)}function Gc(t,e,n,r){let i=typeof e=="string"?os(e):e,s=ti(i.pathname||"/",n);if(s==null)return null;let o=q1(t);fO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=PO(s);a=TO(o[l],c,r)}return a}function dO(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function q1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ye(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Hr([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(ye(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),q1(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:wO(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of K1(s.path))i(s,o,l)}),e}function K1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=K1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function fO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:EO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pO=/^:[\w-]+$/,mO=3,gO=2,yO=1,vO=10,_O=-2,hw=t=>t==="*";function wO(t,e){let n=t.split("/"),r=n.length;return n.some(hw)&&(r+=_O),e&&(r+=gO),n.filter(i=>!hw(i)).reduce((i,s)=>i+(pO.test(s)?mO:s===""?yO:vO),r)}function EO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function TO(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=Fh({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Fh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Hr([s,d.pathname]),pathnameBase:AO(Hr([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Hr([s,d.pathnameBase]))}return o}function Fh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=SO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:f,isOptional:g}=h;if(f==="*"){let T=a[d]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const v=a[d];return g&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function SO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),sa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function PO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ti(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function IO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?os(t):t;return{pathname:n?n.startsWith("/")?n:RO(n,e):e,search:CO(r),hash:xO(i)}}function RO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function op(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function G1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ld(t,e){let n=G1(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Md(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=os(t):(i=nt({},t),ye(!i.pathname||!i.pathname.includes("?"),op("?","pathname","search",i)),ye(!i.pathname||!i.pathname.includes("#"),op("#","pathname","hash",i)),ye(!i.search||!i.search.includes("#"),op("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=IO(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Hr=t=>t.join("/").replace(/\/\/+/g,"/"),AO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class $y{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Vd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Q1=["post","put","patch","delete"],bO=new Set(Q1),kO=["get",...Q1],DO=new Set(kO),OO=new Set([301,302,303,307,308]),NO=new Set([307,308]),ap={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},LO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Wy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MO=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),X1="remix-router-transitions";function VO(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ye(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let O=t.detectErrorBoundary;i=N=>({hasErrorBoundary:O(N)})}else i=MO;let s={},o=su(t.routes,i,void 0,s),a,l=t.basename||"/",c=t.unstable_dataStrategy||zO,h=t.unstable_patchRoutesOnMiss,d=nt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,g=new Set,v=null,T=null,A=null,E=t.hydrationData!=null,_=Is(o,t.history.location,l),w=null;if(_==null&&!h){let O=sn(404,{pathname:t.history.location.pathname}),{matches:N,route:F}=Ew(o);_=N,w={[F.id]:O}}_&&h&&!t.hydrationData&&br(_,o,t.history.location.pathname).active&&(_=null);let k;if(!_)k=!1,_=[];else if(_.some(O=>O.route.lazy))k=!1;else if(!_.some(O=>O.route.loader))k=!0;else if(d.v7_partialHydration){let O=t.hydrationData?t.hydrationData.loaderData:null,N=t.hydrationData?t.hydrationData.errors:null,F=z=>z.route.loader?typeof z.route.loader=="function"&&z.route.loader.hydrate===!0?!1:O&&O[z.route.id]!==void 0||N&&N[z.route.id]!==void 0:!0;if(N){let z=_.findIndex(X=>N[X.route.id]!==void 0);k=_.slice(0,z+1).every(F)}else k=_.every(F)}else k=t.hydrationData!=null;let M,R={historyAction:t.history.action,location:t.history.location,matches:_,initialized:k,navigation:ap,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||w,fetchers:new Map,blockers:new Map},I=gt.Pop,y=!1,S,C=!1,x=new Map,D=null,b=!1,G=!1,le=[],be=[],fe=new Map,q=0,Z=-1,ie=new Map,we=new Set,ve=new Map,_e=new Map,ke=new Set,je=new Map,Ue=new Map,Me=new Map,Ke=!1;function xt(){if(f=t.history.listen(O=>{let{action:N,location:F,delta:z}=O;if(Ke){Ke=!1;return}sa(Ue.size===0||z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=Ma({currentLocation:R.location,nextLocation:F,historyAction:N});if(X&&z!=null){Ke=!0,t.history.go(z*-1),fs(X,{state:"blocked",location:F,proceed(){fs(X,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),t.history.go(z)},reset(){let ee=new Map(R.blockers);ee.set(X,nl),Ve({blockers:ee})}});return}return _t(N,F)}),n){tN(e,x);let O=()=>nN(e,x);e.addEventListener("pagehide",O),D=()=>e.removeEventListener("pagehide",O)}return R.initialized||_t(gt.Pop,R.location,{initialHydration:!0}),M}function nn(){f&&f(),D&&D(),g.clear(),S&&S.abort(),R.fetchers.forEach((O,N)=>uo(N)),R.blockers.forEach((O,N)=>ho(N))}function rn(O){return g.add(O),()=>g.delete(O)}function Ve(O,N){N===void 0&&(N={}),R=nt({},R,O);let F=[],z=[];d.v7_fetcherPersist&&R.fetchers.forEach((X,ee)=>{X.state==="idle"&&(ke.has(ee)?z.push(ee):F.push(ee))}),[...g].forEach(X=>X(R,{deletedFetchers:z,unstable_viewTransitionOpts:N.viewTransitionOpts,unstable_flushSync:N.flushSync===!0})),d.v7_fetcherPersist&&(F.forEach(X=>R.fetchers.delete(X)),z.forEach(X=>uo(X)))}function Re(O,N,F){var z,X;let{flushSync:ee}=F===void 0?{}:F,oe=R.actionData!=null&&R.navigation.formMethod!=null&&Zn(R.navigation.formMethod)&&R.navigation.state==="loading"&&((z=O.state)==null?void 0:z._isRedirect)!==!0,K;N.actionData?Object.keys(N.actionData).length>0?K=N.actionData:K=null:oe?K=R.actionData:K=null;let he=N.loaderData?_w(R.loaderData,N.loaderData,N.matches||[],N.errors):R.loaderData,te=R.blockers;te.size>0&&(te=new Map(te),te.forEach((De,Le)=>te.set(Le,nl)));let ne=y===!0||R.navigation.formMethod!=null&&Zn(R.navigation.formMethod)&&((X=O.state)==null?void 0:X._isRedirect)!==!0;a&&(o=a,a=void 0),b||I===gt.Pop||(I===gt.Push?t.history.push(O,O.state):I===gt.Replace&&t.history.replace(O,O.state));let Ee;if(I===gt.Pop){let De=x.get(R.location.pathname);De&&De.has(O.pathname)?Ee={currentLocation:R.location,nextLocation:O}:x.has(O.pathname)&&(Ee={currentLocation:O,nextLocation:R.location})}else if(C){let De=x.get(R.location.pathname);De?De.add(O.pathname):(De=new Set([O.pathname]),x.set(R.location.pathname,De)),Ee={currentLocation:R.location,nextLocation:O}}Ve(nt({},N,{actionData:K,loaderData:he,historyAction:I,location:O,initialized:!0,navigation:ap,revalidation:"idle",restoreScrollPosition:Fa(O,N.matches||R.matches),preventScrollReset:ne,blockers:te}),{viewTransitionOpts:Ee,flushSync:ee===!0}),I=gt.Pop,y=!1,C=!1,b=!1,G=!1,le=[],be=[]}async function Pe(O,N){if(typeof O=="number"){t.history.go(O);return}let F=$m(R.location,R.matches,l,d.v7_prependBasename,O,d.v7_relativeSplatPath,N==null?void 0:N.fromRouteId,N==null?void 0:N.relative),{path:z,submission:X,error:ee}=dw(d.v7_normalizeFormMethod,!1,F,N),oe=R.location,K=iu(R.location,z,N&&N.state);K=nt({},K,t.history.encodeLocation(K));let he=N&&N.replace!=null?N.replace:void 0,te=gt.Push;he===!0?te=gt.Replace:he===!1||X!=null&&Zn(X.formMethod)&&X.formAction===R.location.pathname+R.location.search&&(te=gt.Replace);let ne=N&&"preventScrollReset"in N?N.preventScrollReset===!0:void 0,Ee=(N&&N.unstable_flushSync)===!0,De=Ma({currentLocation:oe,nextLocation:K,historyAction:te});if(De){fs(De,{state:"blocked",location:K,proceed(){fs(De,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),Pe(O,N)},reset(){let Le=new Map(R.blockers);Le.set(De,nl),Ve({blockers:Le})}});return}return await _t(te,K,{submission:X,pendingError:ee,preventScrollReset:ne,replace:N&&N.replace,enableViewTransition:N&&N.unstable_viewTransition,flushSync:Ee})}function pt(){if(Et(),Ve({revalidation:"loading"}),R.navigation.state!=="submitting"){if(R.navigation.state==="idle"){_t(R.historyAction,R.location,{startUninterruptedRevalidation:!0});return}_t(I||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation})}}async function _t(O,N,F){S&&S.abort(),S=null,I=O,b=(F&&F.startUninterruptedRevalidation)===!0,fo(R.location,R.matches),y=(F&&F.preventScrollReset)===!0,C=(F&&F.enableViewTransition)===!0;let z=a||o,X=F&&F.overrideNavigation,ee=Is(z,N,l),oe=(F&&F.flushSync)===!0,K=br(ee,z,N.pathname);if(K.active&&K.matches&&(ee=K.matches),!ee){let{error:Ae,notFoundMatches:ct,route:tt}=Cr(N.pathname);Re(N,{matches:ct,loaderData:{},errors:{[tt.id]:Ae}},{flushSync:oe});return}if(R.initialized&&!G&&GO(R.location,N)&&!(F&&F.submission&&Zn(F.submission.formMethod))){Re(N,{matches:ee},{flushSync:oe});return}S=new AbortController;let he=_o(t.history,N,S.signal,F&&F.submission),te;if(F&&F.pendingError)te=[Lo(ee).route.id,{type:We.error,error:F.pendingError}];else if(F&&F.submission&&Zn(F.submission.formMethod)){let Ae=await lo(he,N,F.submission,ee,K.active,{replace:F.replace,flushSync:oe});if(Ae.shortCircuited)return;if(Ae.pendingActionResult){let[ct,tt]=Ae.pendingActionResult;if(Pn(tt)&&Vd(tt.error)&&tt.error.status===404){S=null,Re(N,{matches:Ae.matches,loaderData:{},errors:{[ct]:tt.error}});return}}ee=Ae.matches||ee,te=Ae.pendingActionResult,X=lp(N,F.submission),oe=!1,K.active=!1,he=_o(t.history,he.url,he.signal)}let{shortCircuited:ne,matches:Ee,loaderData:De,errors:Le}=await If(he,N,ee,K.active,X,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,oe,te);ne||(S=null,Re(N,nt({matches:Ee||ee},ww(te),{loaderData:De,errors:Le})))}async function lo(O,N,F,z,X,ee){ee===void 0&&(ee={}),Et();let oe=ZO(N,F);if(Ve({navigation:oe},{flushSync:ee.flushSync===!0}),X){let te=await ms(z,N.pathname,O.signal);if(te.type==="aborted")return{shortCircuited:!0};if(te.type==="error"){let{boundaryId:ne,error:Ee}=pi(N.pathname,te);return{matches:te.partialMatches,pendingActionResult:[ne,{type:We.error,error:Ee}]}}else if(te.matches)z=te.matches;else{let{notFoundMatches:ne,error:Ee,route:De}=Cr(N.pathname);return{matches:ne,pendingActionResult:[De.id,{type:We.error,error:Ee}]}}}let K,he=dl(z,N);if(!he.route.action&&!he.route.lazy)K={type:We.error,error:sn(405,{method:O.method,pathname:N.pathname,routeId:he.route.id})};else if(K=(await fi("action",O,[he],z))[0],O.signal.aborted)return{shortCircuited:!0};if(bs(K)){let te;return ee&&ee.replace!=null?te=ee.replace:te=gw(K.response.headers.get("Location"),new URL(O.url),l)===R.location.pathname+R.location.search,await Ar(O,K,{submission:F,replace:te}),{shortCircuited:!0}}if(xs(K))throw sn(400,{type:"defer-action"});if(Pn(K)){let te=Lo(z,he.route.id);return(ee&&ee.replace)!==!0&&(I=gt.Push),{matches:z,pendingActionResult:[te.route.id,K]}}return{matches:z,pendingActionResult:[he.route.id,K]}}async function If(O,N,F,z,X,ee,oe,K,he,te,ne){let Ee=X||lp(N,ee),De=ee||oe||Pw(Ee),Le=!b&&(!d.v7_partialHydration||!he);if(z){if(Le){let Ge=ka(ne);Ve(nt({navigation:Ee},Ge!==void 0?{actionData:Ge}:{}),{flushSync:te})}let pe=await ms(F,N.pathname,O.signal);if(pe.type==="aborted")return{shortCircuited:!0};if(pe.type==="error"){let{boundaryId:Ge,error:zt}=pi(N.pathname,pe);return{matches:pe.partialMatches,loaderData:{},errors:{[Ge]:zt}}}else if(pe.matches)F=pe.matches;else{let{error:Ge,notFoundMatches:zt,route:Be}=Cr(N.pathname);return{matches:zt,loaderData:{},errors:{[Be.id]:Ge}}}}let Ae=a||o,[ct,tt]=fw(t.history,R,F,De,N,d.v7_partialHydration&&he===!0,d.v7_skipActionErrorRevalidation,G,le,be,ke,ve,we,Ae,l,ne);if(ps(pe=>!(F&&F.some(Ge=>Ge.route.id===pe))||ct&&ct.some(Ge=>Ge.route.id===pe)),Z=++q,ct.length===0&&tt.length===0){let pe=co();return Re(N,nt({matches:F,loaderData:{},errors:ne&&Pn(ne[1])?{[ne[0]]:ne[1].error}:null},ww(ne),pe?{fetchers:new Map(R.fetchers)}:{}),{flushSync:te}),{shortCircuited:!0}}if(Le){let pe={};if(!z){pe.navigation=Ee;let Ge=ka(ne);Ge!==void 0&&(pe.actionData=Ge)}tt.length>0&&(pe.fetchers=Da(tt)),Ve(pe,{flushSync:te})}tt.forEach(pe=>{fe.has(pe.key)&&Kn(pe.key),pe.controller&&fe.set(pe.key,pe.controller)});let mi=()=>tt.forEach(pe=>Kn(pe.key));S&&S.signal.addEventListener("abort",mi);let{loaderResults:hr,fetcherResults:Gn}=await wt(R.matches,F,ct,tt,O);if(O.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",mi),tt.forEach(pe=>fe.delete(pe.key));let kr=Tw([...hr,...Gn]);if(kr){if(kr.idx>=ct.length){let pe=tt[kr.idx-ct.length].key;we.add(pe)}return await Ar(O,kr.result,{replace:K}),{shortCircuited:!0}}let{loaderData:dr,errors:Bt}=vw(R,F,ct,hr,ne,tt,Gn,je);je.forEach((pe,Ge)=>{pe.subscribe(zt=>{(zt||pe.done)&&je.delete(Ge)})}),d.v7_partialHydration&&he&&R.errors&&Object.entries(R.errors).filter(pe=>{let[Ge]=pe;return!ct.some(zt=>zt.route.id===Ge)}).forEach(pe=>{let[Ge,zt]=pe;Bt=Object.assign(Bt||{},{[Ge]:zt})});let Mn=co(),gi=Qu(Z),po=Mn||gi||tt.length>0;return nt({matches:F,loaderData:dr,errors:Bt},po?{fetchers:new Map(R.fetchers)}:{})}function ka(O){if(O&&!Pn(O[1]))return{[O[0]]:O[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function Da(O){return O.forEach(N=>{let F=R.fetchers.get(N.key),z=rl(void 0,F?F.data:void 0);R.fetchers.set(N.key,z)}),new Map(R.fetchers)}function Gu(O,N,F,z){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");fe.has(O)&&Kn(O);let X=(z&&z.unstable_flushSync)===!0,ee=a||o,oe=$m(R.location,R.matches,l,d.v7_prependBasename,F,d.v7_relativeSplatPath,N,z==null?void 0:z.relative),K=Is(ee,oe,l),he=br(K,ee,oe);if(he.active&&he.matches&&(K=he.matches),!K){Ln(O,N,sn(404,{pathname:oe}),{flushSync:X});return}let{path:te,submission:ne,error:Ee}=dw(d.v7_normalizeFormMethod,!0,oe,z);if(Ee){Ln(O,N,Ee,{flushSync:X});return}let De=dl(K,te);if(y=(z&&z.preventScrollReset)===!0,ne&&Zn(ne.formMethod)){Rf(O,N,te,De,K,he.active,X,ne);return}ve.set(O,{routeId:N,path:te}),Oa(O,N,te,De,K,he.active,X,ne)}async function Rf(O,N,F,z,X,ee,oe,K){Et(),ve.delete(O);function he(Be){if(!Be.route.action&&!Be.route.lazy){let En=sn(405,{method:K.formMethod,pathname:F,routeId:N});return Ln(O,N,En,{flushSync:oe}),!0}return!1}if(!ee&&he(z))return;let te=R.fetchers.get(O);wn(O,eN(K,te),{flushSync:oe});let ne=new AbortController,Ee=_o(t.history,F,ne.signal,K);if(ee){let Be=await ms(X,F,Ee.signal);if(Be.type==="aborted")return;if(Be.type==="error"){let{error:En}=pi(F,Be);Ln(O,N,En,{flushSync:oe});return}else if(Be.matches){if(X=Be.matches,z=dl(X,F),he(z))return}else{Ln(O,N,sn(404,{pathname:F}),{flushSync:oe});return}}fe.set(O,ne);let De=q,Ae=(await fi("action",Ee,[z],X))[0];if(Ee.signal.aborted){fe.get(O)===ne&&fe.delete(O);return}if(d.v7_fetcherPersist&&ke.has(O)){if(bs(Ae)||Pn(Ae)){wn(O,Ti(void 0));return}}else{if(bs(Ae))if(fe.delete(O),Z>De){wn(O,Ti(void 0));return}else return we.add(O),wn(O,rl(K)),Ar(Ee,Ae,{fetcherSubmission:K});if(Pn(Ae)){Ln(O,N,Ae.error);return}}if(xs(Ae))throw sn(400,{type:"defer-action"});let ct=R.navigation.location||R.location,tt=_o(t.history,ct,ne.signal),mi=a||o,hr=R.navigation.state!=="idle"?Is(mi,R.navigation.location,l):R.matches;ye(hr,"Didn't find any matches after fetcher action");let Gn=++q;ie.set(O,Gn);let kr=rl(K,Ae.data);R.fetchers.set(O,kr);let[dr,Bt]=fw(t.history,R,hr,K,ct,!1,d.v7_skipActionErrorRevalidation,G,le,be,ke,ve,we,mi,l,[z.route.id,Ae]);Bt.filter(Be=>Be.key!==O).forEach(Be=>{let En=Be.key,ja=R.fetchers.get(En),Yu=rl(void 0,ja?ja.data:void 0);R.fetchers.set(En,Yu),fe.has(En)&&Kn(En),Be.controller&&fe.set(En,Be.controller)}),Ve({fetchers:new Map(R.fetchers)});let Mn=()=>Bt.forEach(Be=>Kn(Be.key));ne.signal.addEventListener("abort",Mn);let{loaderResults:gi,fetcherResults:po}=await wt(R.matches,hr,dr,Bt,tt);if(ne.signal.aborted)return;ne.signal.removeEventListener("abort",Mn),ie.delete(O),fe.delete(O),Bt.forEach(Be=>fe.delete(Be.key));let pe=Tw([...gi,...po]);if(pe){if(pe.idx>=dr.length){let Be=Bt[pe.idx-dr.length].key;we.add(Be)}return Ar(tt,pe.result)}let{loaderData:Ge,errors:zt}=vw(R,R.matches,dr,gi,void 0,Bt,po,je);if(R.fetchers.has(O)){let Be=Ti(Ae.data);R.fetchers.set(O,Be)}Qu(Gn),R.navigation.state==="loading"&&Gn>Z?(ye(I,"Expected pending action"),S&&S.abort(),Re(R.navigation.location,{matches:hr,loaderData:Ge,errors:zt,fetchers:new Map(R.fetchers)})):(Ve({errors:zt,loaderData:_w(R.loaderData,Ge,hr,zt),fetchers:new Map(R.fetchers)}),G=!1)}async function Oa(O,N,F,z,X,ee,oe,K){let he=R.fetchers.get(O);wn(O,rl(K,he?he.data:void 0),{flushSync:oe});let te=new AbortController,ne=_o(t.history,F,te.signal);if(ee){let Ae=await ms(X,F,ne.signal);if(Ae.type==="aborted")return;if(Ae.type==="error"){let{error:ct}=pi(F,Ae);Ln(O,N,ct,{flushSync:oe});return}else if(Ae.matches)X=Ae.matches,z=dl(X,F);else{Ln(O,N,sn(404,{pathname:F}),{flushSync:oe});return}}fe.set(O,te);let Ee=q,Le=(await fi("loader",ne,[z],X))[0];if(xs(Le)&&(Le=await tI(Le,ne.signal,!0)||Le),fe.get(O)===te&&fe.delete(O),!ne.signal.aborted){if(ke.has(O)){wn(O,Ti(void 0));return}if(bs(Le))if(Z>Ee){wn(O,Ti(void 0));return}else{we.add(O),await Ar(ne,Le);return}if(Pn(Le)){Ln(O,N,Le.error);return}ye(!xs(Le),"Unhandled fetcher deferred data"),wn(O,Ti(Le.data))}}async function Ar(O,N,F){let{submission:z,fetcherSubmission:X,replace:ee}=F===void 0?{}:F;N.response.headers.has("X-Remix-Revalidate")&&(G=!0);let oe=N.response.headers.get("Location");ye(oe,"Expected a Location header on the redirect Response"),oe=gw(oe,new URL(O.url),l);let K=iu(R.location,oe,{_isRedirect:!0});if(n){let Le=!1;if(N.response.headers.has("X-Remix-Reload-Document"))Le=!0;else if(Wy.test(oe)){const Ae=t.history.createURL(oe);Le=Ae.origin!==e.location.origin||ti(Ae.pathname,l)==null}if(Le){ee?e.location.replace(oe):e.location.assign(oe);return}}S=null;let he=ee===!0?gt.Replace:gt.Push,{formMethod:te,formAction:ne,formEncType:Ee}=R.navigation;!z&&!X&&te&&ne&&Ee&&(z=Pw(R.navigation));let De=z||X;if(NO.has(N.response.status)&&De&&Zn(De.formMethod))await _t(he,K,{submission:nt({},De,{formAction:oe}),preventScrollReset:y});else{let Le=lp(K,z);await _t(he,K,{overrideNavigation:Le,fetcherSubmission:X,preventScrollReset:y})}}async function fi(O,N,F,z){try{let X=await $O(c,O,N,F,z,s,i);return await Promise.all(X.map((ee,oe)=>{if(XO(ee)){let K=ee.result;return{type:We.redirect,response:qO(K,N,F[oe].route.id,z,l,d.v7_relativeSplatPath)}}return HO(ee)}))}catch(X){return F.map(()=>({type:We.error,error:X}))}}async function wt(O,N,F,z,X){let[ee,...oe]=await Promise.all([F.length?fi("loader",X,F,N):[],...z.map(K=>{if(K.matches&&K.match&&K.controller){let he=_o(t.history,K.path,K.controller.signal);return fi("loader",he,[K.match],K.matches).then(te=>te[0])}else return Promise.resolve({type:We.error,error:sn(404,{pathname:K.path})})})]);return await Promise.all([Sw(O,F,ee,ee.map(()=>X.signal),!1,R.loaderData),Sw(O,z.map(K=>K.match),oe,z.map(K=>K.controller?K.controller.signal:null),!0)]),{loaderResults:ee,fetcherResults:oe}}function Et(){G=!0,le.push(...ps()),ve.forEach((O,N)=>{fe.has(N)&&(be.push(N),Kn(N))})}function wn(O,N,F){F===void 0&&(F={}),R.fetchers.set(O,N),Ve({fetchers:new Map(R.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function Ln(O,N,F,z){z===void 0&&(z={});let X=Lo(R.matches,N);uo(O),Ve({errors:{[X.route.id]:F},fetchers:new Map(R.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function Na(O){return d.v7_fetcherPersist&&(_e.set(O,(_e.get(O)||0)+1),ke.has(O)&&ke.delete(O)),R.fetchers.get(O)||LO}function uo(O){let N=R.fetchers.get(O);fe.has(O)&&!(N&&N.state==="loading"&&ie.has(O))&&Kn(O),ve.delete(O),ie.delete(O),we.delete(O),ke.delete(O),R.fetchers.delete(O)}function ds(O){if(d.v7_fetcherPersist){let N=(_e.get(O)||0)-1;N<=0?(_e.delete(O),ke.add(O)):_e.set(O,N)}else uo(O);Ve({fetchers:new Map(R.fetchers)})}function Kn(O){let N=fe.get(O);ye(N,"Expected fetch controller: "+O),N.abort(),fe.delete(O)}function La(O){for(let N of O){let F=Na(N),z=Ti(F.data);R.fetchers.set(N,z)}}function co(){let O=[],N=!1;for(let F of we){let z=R.fetchers.get(F);ye(z,"Expected fetcher: "+F),z.state==="loading"&&(we.delete(F),O.push(F),N=!0)}return La(O),N}function Qu(O){let N=[];for(let[F,z]of ie)if(z<O){let X=R.fetchers.get(F);ye(X,"Expected fetcher: "+F),X.state==="loading"&&(Kn(F),ie.delete(F),N.push(F))}return La(N),N.length>0}function Af(O,N){let F=R.blockers.get(O)||nl;return Ue.get(O)!==N&&Ue.set(O,N),F}function ho(O){R.blockers.delete(O),Ue.delete(O)}function fs(O,N){let F=R.blockers.get(O)||nl;ye(F.state==="unblocked"&&N.state==="blocked"||F.state==="blocked"&&N.state==="blocked"||F.state==="blocked"&&N.state==="proceeding"||F.state==="blocked"&&N.state==="unblocked"||F.state==="proceeding"&&N.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+N.state);let z=new Map(R.blockers);z.set(O,N),Ve({blockers:z})}function Ma(O){let{currentLocation:N,nextLocation:F,historyAction:z}=O;if(Ue.size===0)return;Ue.size>1&&sa(!1,"A router only supports one blocker at a time");let X=Array.from(Ue.entries()),[ee,oe]=X[X.length-1],K=R.blockers.get(ee);if(!(K&&K.state==="proceeding")&&oe({currentLocation:N,nextLocation:F,historyAction:z}))return ee}function Cr(O){let N=sn(404,{pathname:O}),F=a||o,{matches:z,route:X}=Ew(F);return ps(),{notFoundMatches:z,route:X,error:N}}function pi(O,N){return{boundaryId:Lo(N.partialMatches).route.id,error:sn(400,{type:"route-discovery",pathname:O,message:N.error!=null&&"message"in N.error?N.error:String(N.error)})}}function ps(O){let N=[];return je.forEach((F,z)=>{(!O||O(z))&&(F.cancel(),N.push(z),je.delete(z))}),N}function xr(O,N,F){if(v=O,A=N,T=F||null,!E&&R.navigation===ap){E=!0;let z=Fa(R.location,R.matches);z!=null&&Ve({restoreScrollPosition:z})}return()=>{v=null,A=null,T=null}}function Va(O,N){return T&&T(O,N.map(z=>dO(z,R.loaderData)))||O.key}function fo(O,N){if(v&&A){let F=Va(O,N);v[F]=A()}}function Fa(O,N){if(v){let F=Va(O,N),z=v[F];if(typeof z=="number")return z}return null}function br(O,N,F){if(h)if(O){let z=O[O.length-1].route;if(z.path&&(z.path==="*"||z.path.endsWith("/*")))return{active:!0,matches:Gc(N,F,l,!0)}}else return{active:!0,matches:Gc(N,F,l,!0)||[]};return{active:!1,matches:null}}async function ms(O,N,F){let z=O,X=z.length>0?z[z.length-1].route:null;for(;;){let ee=a==null,oe=a||o;try{await BO(h,N,z,oe,s,i,Me,F)}catch(ne){return{type:"error",error:ne,partialMatches:z}}finally{ee&&(o=[...o])}if(F.aborted)return{type:"aborted"};let K=Is(oe,N,l),he=!1;if(K){let ne=K[K.length-1].route;if(ne.index)return{type:"success",matches:K};if(ne.path&&ne.path.length>0)if(ne.path==="*")he=!0;else return{type:"success",matches:K}}let te=Gc(oe,N,l,!0);if(!te||z.map(ne=>ne.route.id).join("-")===te.map(ne=>ne.route.id).join("-"))return{type:"success",matches:he?K:null};if(z=te,X=z[z.length-1].route,X.path==="*")return{type:"success",matches:z}}}function bt(O){s={},a=su(O,i,void 0,s)}function Xu(O,N){let F=a==null;J1(O,N,a||o,s,i),F&&(o=[...o],Ve({}))}return M={get basename(){return l},get future(){return d},get state(){return R},get routes(){return o},get window(){return e},initialize:xt,subscribe:rn,enableScrollRestoration:xr,navigate:Pe,fetch:Gu,revalidate:pt,createHref:O=>t.history.createHref(O),encodeLocation:O=>t.history.encodeLocation(O),getFetcher:Na,deleteFetcher:ds,dispose:nn,getBlocker:Af,deleteBlocker:ho,patchRoutes:Xu,_internalFetchControllers:fe,_internalActiveDeferreds:je,_internalSetRoutes:bt},M}function FO(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function $m(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let h=Md(i||".",Ld(l,s),ti(t.pathname,n)||t.pathname,a==="path");return i==null&&(h.search=t.search,h.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!Hy(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(h.pathname=h.pathname==="/"?n:Hr([n,h.pathname])),$s(h)}function dw(t,e,n,r){if(!r||!FO(r))return{path:n};if(r.formMethod&&!JO(r.formMethod))return{path:n,error:sn(405,{method:r.formMethod})};let i=()=>({path:n,error:sn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=Z1(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Zn(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,v)=>{let[T,A]=v;return""+g+T+"="+A+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Zn(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}ye(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Wm(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Wm(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=yw(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=yw(l)}catch{return i()}let h={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Zn(h.formMethod))return{path:n,submission:h};let d=os(n);return e&&d.search&&Hy(d.search)&&l.append("index",""),d.search="?"+l,{path:$s(d),submission:h}}function jO(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function fw(t,e,n,r,i,s,o,a,l,c,h,d,f,g,v,T){let A=T?Pn(T[1])?T[1].error:T[1].data:void 0,E=t.createURL(e.location),_=t.createURL(i),w=T&&Pn(T[1])?T[0]:void 0,k=w?jO(n,w):n,M=T?T[1].statusCode:void 0,R=o&&M&&M>=400,I=k.filter((S,C)=>{let{route:x}=S;if(x.lazy)return!0;if(x.loader==null)return!1;if(s)return typeof x.loader!="function"||x.loader.hydrate?!0:e.loaderData[x.id]===void 0&&(!e.errors||e.errors[x.id]===void 0);if(UO(e.loaderData,e.matches[C],S)||l.some(G=>G===S.route.id))return!0;let D=e.matches[C],b=S;return pw(S,nt({currentUrl:E,currentParams:D.params,nextUrl:_,nextParams:b.params},r,{actionResult:A,actionStatus:M,defaultShouldRevalidate:R?!1:a||E.pathname+E.search===_.pathname+_.search||E.search!==_.search||Y1(D,b)}))}),y=[];return d.forEach((S,C)=>{if(s||!n.some(le=>le.route.id===S.routeId)||h.has(C))return;let x=Is(g,S.path,v);if(!x){y.push({key:C,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(C),b=dl(x,S.path),G=!1;f.has(C)?G=!1:c.includes(C)?G=!0:D&&D.state!=="idle"&&D.data===void 0?G=a:G=pw(b,nt({currentUrl:E,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:A,actionStatus:M,defaultShouldRevalidate:R?!1:a})),G&&y.push({key:C,routeId:S.routeId,path:S.path,matches:x,match:b,controller:new AbortController})}),[I,y]}function UO(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Y1(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function pw(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function BO(t,e,n,r,i,s,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(h,d)=>{a.aborted||J1(h,d,r,i,s)}}),o.set(l,c)),c&&QO(c)&&await c}finally{o.delete(l)}}function J1(t,e,n,r,i){if(t){var s;let o=r[t];ye(o,"No route found to patch children into: routeId = "+t);let a=su(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=su(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function mw(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ye(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";sa(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!cO.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,nt({},e(i),{lazy:void 0}))}function zO(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function $O(t,e,n,r,i,s,o,a){let l=r.reduce((d,f)=>d.add(f.route.id),new Set),c=new Set,h=await t({matches:i.map(d=>{let f=l.has(d.route.id);return nt({},d,{shouldLoad:f,resolve:v=>(c.add(d.route.id),f?WO(e,n,d,s,o,v,a):Promise.resolve({type:We.data,result:void 0}))})}),request:n,params:i[0].params,context:a});return i.forEach(d=>ye(c.has(d.route.id),'`match.resolve()` was not called for route id "'+d.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),h.filter((d,f)=>l.has(i[f].route.id))}async function WO(t,e,n,r,i,s,o){let a,l,c=h=>{let d,f=new Promise((T,A)=>d=A);l=()=>d(),e.signal.addEventListener("abort",l);let g=T=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):h({request:e,params:n.params,context:o},...T!==void 0?[T]:[]),v;return s?v=s(T=>g(T)):v=(async()=>{try{return{type:"data",result:await g()}}catch(T){return{type:"error",result:T}}})(),Promise.race([v,f])};try{let h=n.route[t];if(n.route.lazy)if(h){let d,[f]=await Promise.all([c(h).catch(g=>{d=g}),mw(n.route,i,r)]);if(d!==void 0)throw d;a=f}else if(await mw(n.route,i,r),h=n.route[t],h)a=await c(h);else if(t==="action"){let d=new URL(e.url),f=d.pathname+d.search;throw sn(405,{method:e.method,pathname:f,routeId:n.route.id})}else return{type:We.data,result:void 0};else if(h)a=await c(h);else{let d=new URL(e.url),f=d.pathname+d.search;throw sn(404,{pathname:f})}ye(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:We.error,result:h}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function HO(t){let{result:e,type:n,status:r}=t;if(eI(e)){let o;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(a){return{type:We.error,error:a}}return n===We.error?{type:We.error,error:new $y(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:We.data,data:o,statusCode:e.status,headers:e.headers}}if(n===We.error)return{type:We.error,error:e,statusCode:Vd(e)?e.status:r};if(YO(e)){var i,s;return{type:We.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:We.data,data:e,statusCode:r}}function qO(t,e,n,r,i,s){let o=t.headers.get("Location");if(ye(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Wy.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=$m(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function gw(t,e,n){if(Wy.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=ti(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function _o(t,e,n,r){let i=t.createURL(Z1(e)).toString(),s={signal:n};if(r&&Zn(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Wm(r.formData):s.body=r.formData}return new Request(i,s)}function Wm(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function yw(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function KO(t,e,n,r,i,s){let o={},a=null,l,c=!1,h={},d=r&&Pn(r[1])?r[1].error:void 0;return n.forEach((f,g)=>{let v=e[g].route.id;if(ye(!bs(f),"Cannot handle redirect results in processLoaderData"),Pn(f)){let T=f.error;d!==void 0&&(T=d,d=void 0),a=a||{};{let A=Lo(t,v);a[A.route.id]==null&&(a[A.route.id]=T)}o[v]=void 0,c||(c=!0,l=Vd(f.error)?f.error.status:500),f.headers&&(h[v]=f.headers)}else xs(f)?(i.set(v,f.deferredData),o[v]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!c&&(l=f.statusCode),f.headers&&(h[v]=f.headers)):(o[v]=f.data,f.statusCode&&f.statusCode!==200&&!c&&(l=f.statusCode),f.headers&&(h[v]=f.headers))}),d!==void 0&&r&&(a={[r[0]]:d},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:h}}function vw(t,e,n,r,i,s,o,a){let{loaderData:l,errors:c}=KO(e,n,r,i,a);for(let h=0;h<s.length;h++){let{key:d,match:f,controller:g}=s[h];ye(o!==void 0&&o[h]!==void 0,"Did not find corresponding fetcher result");let v=o[h];if(!(g&&g.signal.aborted))if(Pn(v)){let T=Lo(t.matches,f==null?void 0:f.route.id);c&&c[T.route.id]||(c=nt({},c,{[T.route.id]:v.error})),t.fetchers.delete(d)}else if(bs(v))ye(!1,"Unhandled fetcher revalidation redirect");else if(xs(v))ye(!1,"Unhandled fetcher deferred data");else{let T=Ti(v.data);t.fetchers.set(d,T)}}return{loaderData:l,errors:c}}function _w(t,e,n,r){let i=nt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function ww(t){return t?Pn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Lo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Ew(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function sn(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnMiss()` '+(`function threw the following error:
`+o):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new $y(t||500,a,new Error(l),!0)}function Tw(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(bs(n))return{result:n,idx:e}}}function Z1(t){let e=typeof t=="string"?os(t):t;return $s(nt({},e,{hash:""}))}function GO(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function QO(t){return typeof t=="object"&&t!=null&&"then"in t}function XO(t){return eI(t.result)&&OO.has(t.result.status)}function xs(t){return t.type===We.deferred}function Pn(t){return t.type===We.error}function bs(t){return(t&&t.type)===We.redirect}function YO(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function eI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function JO(t){return DO.has(t.toLowerCase())}function Zn(t){return bO.has(t.toLowerCase())}async function Sw(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let c=t.find(d=>d.route.id===l.route.id),h=c!=null&&!Y1(c,l)&&(s&&s[l.route.id])!==void 0;if(xs(a)&&(i||h)){let d=r[o];ye(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await tI(a,d,i).then(f=>{f&&(n[o]=f||n[o])})}}}async function tI(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:We.data,data:t.deferredData.unwrappedData}}catch(i){return{type:We.error,error:i}}return{type:We.data,data:t.deferredData.data}}}function Hy(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function dl(t,e){let n=typeof e=="string"?os(e).search:e.search;if(t[t.length-1].route.index&&Hy(n||""))return t[t.length-1];let r=G1(t);return r[r.length-1]}function Pw(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function lp(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ZO(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function rl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function eN(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ti(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function tN(t,e){try{let n=t.sessionStorage.getItem(X1);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function nN(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(X1,JSON.stringify(n))}catch(r){sa(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jh(){return jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jh.apply(this,arguments)}const Cu=L.createContext(null),qy=L.createContext(null),li=L.createContext(null),Ky=L.createContext(null),ui=L.createContext({outlet:null,matches:[],isDataRoute:!1}),nI=L.createContext(null);function rN(t,e){let{relative:n}=e===void 0?{}:e;Ea()||ye(!1);let{basename:r,navigator:i}=L.useContext(li),{hash:s,pathname:o,search:a}=Fd(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Hr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ea(){return L.useContext(Ky)!=null}function ci(){return Ea()||ye(!1),L.useContext(Ky).location}function rI(t){L.useContext(li).static||L.useLayoutEffect(t)}function iI(){let{isDataRoute:t}=L.useContext(ui);return t?yN():iN()}function iN(){Ea()||ye(!1);let t=L.useContext(Cu),{basename:e,future:n,navigator:r}=L.useContext(li),{matches:i}=L.useContext(ui),{pathname:s}=ci(),o=JSON.stringify(Ld(i,n.v7_relativeSplatPath)),a=L.useRef(!1);return rI(()=>{a.current=!0}),L.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Md(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Hr([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,s,t])}const sN=L.createContext(null);function oN(t){let e=L.useContext(ui).outlet;return e&&L.createElement(sN.Provider,{value:t},e)}function Fd(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=L.useContext(li),{matches:i}=L.useContext(ui),{pathname:s}=ci(),o=JSON.stringify(Ld(i,r.v7_relativeSplatPath));return L.useMemo(()=>Md(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function aN(t,e,n,r){Ea()||ye(!1);let{navigator:i}=L.useContext(li),{matches:s}=L.useContext(ui),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ci(),h;h=c;let d=h.pathname||"/",f=d;if(l!=="/"){let T=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(T.length).join("/")}let g=Is(t,{pathname:f});return dN(g&&g.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:Hr([l,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:Hr([l,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r)}function lN(){let t=gN(),e=Vd(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:i},n):null,null)}const uN=L.createElement(lN,null);class cN extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?L.createElement(ui.Provider,{value:this.props.routeContext},L.createElement(nI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hN(t){let{routeContext:e,match:n,children:r}=t,i=L.useContext(Cu);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(ui.Provider,{value:e},r)}function dN(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||ye(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:f,errors:g}=n,v=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let g,v=!1,T=null,A=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,T=d.route.errorElement||uN,l&&(c<0&&f===0?(v=!0,A=null):c===f&&(v=!0,A=d.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,f+1)),_=()=>{let w;return g?w=T:v?w=A:d.route.Component?w=L.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=h,L.createElement(hN,{match:d,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?L.createElement(cN,{location:n.location,revalidation:n.revalidation,component:T,error:g,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var sI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sI||{}),Uh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Uh||{});function fN(t){let e=L.useContext(Cu);return e||ye(!1),e}function pN(t){let e=L.useContext(qy);return e||ye(!1),e}function mN(t){let e=L.useContext(ui);return e||ye(!1),e}function oI(t){let e=mN(),n=e.matches[e.matches.length-1];return n.route.id||ye(!1),n.route.id}function gN(){var t;let e=L.useContext(nI),n=pN(Uh.UseRouteError),r=oI(Uh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function yN(){let{router:t}=fN(sI.UseNavigateStable),e=oI(Uh.UseNavigateStable),n=L.useRef(!1);return rI(()=>{n.current=!0}),L.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,jh({fromRouteId:e},s)))},[t,e])}function vN(t){let{to:e,replace:n,state:r,relative:i}=t;Ea()||ye(!1);let{future:s,static:o}=L.useContext(li),{matches:a}=L.useContext(ui),{pathname:l}=ci(),c=iI(),h=Md(e,Ld(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(h);return L.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function _N(t){return oN(t.context)}function wN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=gt.Pop,navigator:s,static:o=!1,future:a}=t;Ea()&&ye(!1);let l=e.replace(/^\/*/,"/"),c=L.useMemo(()=>({basename:l,navigator:s,static:o,future:jh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=os(r));let{pathname:h="/",search:d="",hash:f="",state:g=null,key:v="default"}=r,T=L.useMemo(()=>{let A=ti(h,l);return A==null?null:{location:{pathname:A,search:d,hash:f,state:g,key:v},navigationType:i}},[l,h,d,f,g,v,i]);return T==null?null:L.createElement(li.Provider,{value:c},L.createElement(Ky.Provider,{children:n,value:T}))}new Promise(()=>{});function EN(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:L.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:L.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:L.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oa(){return oa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oa.apply(this,arguments)}function aI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function TN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function SN(t,e){return t.button===0&&(!e||e==="_self")&&!TN(t)}const PN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],IN=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],RN="6";try{window.__reactRouterVersion=RN}catch{}function AN(t,e){return VO({basename:e==null?void 0:e.basename,future:oa({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:aO({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||CN(),routes:t,mapRouteProperties:EN,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnMiss:e==null?void 0:e.unstable_patchRoutesOnMiss,window:e==null?void 0:e.window}).initialize()}function CN(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=oa({},e,{errors:xN(e.errors)})),e}function xN(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new $y(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const lI=L.createContext({isTransitioning:!1}),bN=L.createContext(new Map),kN="startTransition",Iw=Xp[kN],DN="flushSync",Rw=oO[DN];function ON(t){Iw?Iw(t):t()}function il(t){Rw?Rw(t):t()}let NN=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function LN(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=L.useState(n.state),[o,a]=L.useState(),[l,c]=L.useState({isTransitioning:!1}),[h,d]=L.useState(),[f,g]=L.useState(),[v,T]=L.useState(),A=L.useRef(new Map),{v7_startTransition:E}=r||{},_=L.useCallback(y=>{E?ON(y):y()},[E]),w=L.useCallback((y,S)=>{let{deletedFetchers:C,unstable_flushSync:x,unstable_viewTransitionOpts:D}=S;C.forEach(G=>A.current.delete(G)),y.fetchers.forEach((G,le)=>{G.data!==void 0&&A.current.set(le,G.data)});let b=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!D||b){x?il(()=>s(y)):_(()=>s(y));return}if(x){il(()=>{f&&(h&&h.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let G=n.window.document.startViewTransition(()=>{il(()=>s(y))});G.finished.finally(()=>{il(()=>{d(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),il(()=>g(G));return}f?(h&&h.resolve(),f.skipTransition(),T({state:y,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(a(y),c({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,f,h,A,_]);L.useLayoutEffect(()=>n.subscribe(w),[n,w]),L.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new NN)},[l]),L.useEffect(()=>{if(h&&o&&n.window){let y=o,S=h.promise,C=n.window.document.startViewTransition(async()=>{_(()=>s(y)),await S});C.finished.finally(()=>{d(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(C)}},[_,o,h,n.window]),L.useEffect(()=>{h&&o&&i.location.key===o.location.key&&h.resolve()},[h,f,i.location,o]),L.useEffect(()=>{!l.isTransitioning&&v&&(a(v.state),c({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),T(void 0))},[l.isTransitioning,v]),L.useEffect(()=>{},[]);let k=L.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:y=>n.navigate(y),push:(y,S,C)=>n.navigate(y,{state:S,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(y,S,C)=>n.navigate(y,{replace:!0,state:S,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[n]),M=n.basename||"/",R=L.useMemo(()=>({router:n,navigator:k,static:!1,basename:M}),[n,k,M]),I=L.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return L.createElement(L.Fragment,null,L.createElement(Cu.Provider,{value:R},L.createElement(qy.Provider,{value:i},L.createElement(bN.Provider,{value:A.current},L.createElement(lI.Provider,{value:l},L.createElement(wN,{basename:M,location:i.location,navigationType:i.historyAction,navigator:k,future:I},i.initialized||n.future.v7_partialHydration?L.createElement(MN,{routes:n.routes,future:n.future,state:i}):e))))),null)}const MN=L.memo(VN);function VN(t){let{routes:e,future:n,state:r}=t;return aN(e,void 0,r,n)}const FN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hm=L.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,unstable_viewTransition:d}=e,f=aI(e,PN),{basename:g}=L.useContext(li),v,T=!1;if(typeof c=="string"&&jN.test(c)&&(v=c,FN))try{let w=new URL(window.location.href),k=c.startsWith("//")?new URL(w.protocol+c):new URL(c),M=ti(k.pathname,g);k.origin===w.origin&&M!=null?c=M+k.search+k.hash:T=!0}catch{}let A=rN(c,{relative:i}),E=BN(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,unstable_viewTransition:d});function _(w){r&&r(w),w.defaultPrevented||E(w)}return L.createElement("a",oa({},f,{href:v||A,onClick:T||s?r:_,ref:n,target:l}))}),jr=L.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:h}=e,d=aI(e,IN),f=Fd(l,{relative:d.relative}),g=ci(),v=L.useContext(qy),{navigator:T,basename:A}=L.useContext(li),E=v!=null&&zN(f)&&c===!0,_=T.encodeLocation?T.encodeLocation(f).pathname:f.pathname,w=g.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(w=w.toLowerCase(),k=k?k.toLowerCase():null,_=_.toLowerCase()),k&&A&&(k=ti(k,A)||k);const M=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let R=w===_||!o&&w.startsWith(_)&&w.charAt(M)==="/",I=k!=null&&(k===_||!o&&k.startsWith(_)&&k.charAt(_.length)==="/"),y={isActive:R,isPending:I,isTransitioning:E},S=R?r:void 0,C;typeof s=="function"?C=s(y):C=[s,R?"active":null,I?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let x=typeof a=="function"?a(y):a;return L.createElement(Hm,oa({},d,{"aria-current":S,className:C,ref:n,style:x,to:l,unstable_viewTransition:c}),typeof h=="function"?h(y):h)});var qm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(qm||(qm={}));var Aw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Aw||(Aw={}));function UN(t){let e=L.useContext(Cu);return e||ye(!1),e}function BN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=iI(),c=ci(),h=Fd(t,{relative:o});return L.useCallback(d=>{if(SN(d,n)){d.preventDefault();let f=r!==void 0?r:$s(c)===$s(h);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,h,r,i,n,t,s,o,a])}function zN(t,e){e===void 0&&(e={});let n=L.useContext(lI);n==null&&ye(!1);let{basename:r}=UN(qm.useViewTransitionState),i=Fd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ti(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ti(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Fh(i.pathname,o)!=null||Fh(i.pathname,s)!=null}const $N="modulepreload",WN=function(t){return"/Petlove/"+t},Cw={},hi=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(a=>{if(a=WN(a),a in Cw)return;Cw[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":$N,l||(h.as="script",h.crossOrigin=""),h.href=a,o&&h.setAttribute("nonce",o),document.head.appendChild(h),l)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},HN=({isOpen:t})=>{const e=ci(),n=e.pathname==="/";return B.jsx("div",{className:"navbar",children:B.jsx("div",{className:"center",children:B.jsx("nav",{className:t?"active":"",children:B.jsxs("ul",{className:`nav-links ${n?"home-nav":""}`,children:[B.jsx("li",{className:`special-li ${n?"home-link":""}`,children:B.jsx(jr,{className:e.pathname==="/"?"active":"",to:"/",children:"Home"})}),B.jsx("li",{className:n?"home-link":"",children:B.jsx(jr,{className:e.pathname==="/news"?"active":"",to:"/news",children:"News"})}),B.jsx("li",{className:n?"home-link":"",children:B.jsx(jr,{className:e.pathname==="/find_pet"?"active":"",to:"/find_pet",children:"Find pet"})}),B.jsx("li",{className:n?"home-link":"",children:B.jsx(jr,{className:e.pathname==="/our_friends"?"active":"",to:"/our_friends",children:"Our friends"})})]})})})})},qN="/Petlove/images/logohome.svg",KN="/Petlove/images/logo.svg",GN="/Petlove/images/burger_menu.svg";var uI={exports:{}},cI={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xu=L;function QN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var XN=typeof Object.is=="function"?Object.is:QN,YN=xu.useSyncExternalStore,JN=xu.useRef,ZN=xu.useEffect,eL=xu.useMemo,tL=xu.useDebugValue;cI.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=JN(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=eL(function(){function l(g){if(!c){if(c=!0,h=g,g=r(g),i!==void 0&&o.hasValue){var v=o.value;if(i(v,g))return d=v}return d=g}if(v=d,XN(h,g))return v;var T=r(g);return i!==void 0&&i(v,T)?v:(h=g,d=T)}var c=!1,h,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=YN(t,s[0],s[1]);return ZN(function(){o.hasValue=!0,o.value=a},[a]),tL(a),a};uI.exports=cI;var nL=uI.exports,Rn="default"in Xp?dt:Xp,xw=Symbol.for("react-redux-context"),bw=typeof globalThis<"u"?globalThis:{};function rL(){if(!Rn.createContext)return{};const t=bw[xw]??(bw[xw]=new Map);let e=t.get(Rn.createContext);return e||(e=Rn.createContext(null),t.set(Rn.createContext,e)),e}var Yi=rL(),iL=()=>{throw new Error("uSES not initialized!")};function Gy(t=Yi){return function(){return Rn.useContext(t)}}var hI=Gy(),dI=iL,sL=t=>{dI=t},oL=(t,e)=>t===e;function aL(t=Yi){const e=t===Yi?hI:Gy(t),n=(r,i={})=>{const{equalityFn:s=oL,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:c,stabilityCheck:h,identityFunctionCheck:d}=e();Rn.useRef(!0);const f=Rn.useCallback({[r.name](v){return r(v)}}[r.name],[r,h,o.stabilityCheck]),g=dI(l.addNestedSub,a.getState,c||a.getState,f,s);return Rn.useDebugValue(g),g};return Object.assign(n,{withTypes:()=>n}),n}var Qy=aL();function lL(t){t()}function uL(){let t=null,e=null;return{clear(){t=null,e=null},notify(){lL(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var kw={notify(){},get:()=>[]};function cL(t,e){let n,r=kw,i=0,s=!1;function o(T){h();const A=r.subscribe(T);let E=!1;return()=>{E||(E=!0,A(),d())}}function a(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function c(){return s}function h(){i++,n||(n=t.subscribe(l),r=uL())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=kw)}function f(){s||(s=!0,h())}function g(){s&&(s=!1,d())}const v={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:g,getListeners:()=>r};return v}var hL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dL=typeof navigator<"u"&&navigator.product==="ReactNative",fL=hL||dL?Rn.useLayoutEffect:Rn.useEffect;function pL({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Rn.useMemo(()=>{const c=cL(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=Rn.useMemo(()=>t.getState(),[t]);fL(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=e||Yi;return Rn.createElement(l.Provider,{value:o},n)}var mL=pL;function fI(t=Yi){const e=t===Yi?hI:Gy(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var gL=fI();function yL(t=Yi){const e=t===Yi?gL:fI(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var pI=yL();sL(nL.useSyncExternalStoreWithSelector);function Dt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var vL=typeof Symbol=="function"&&Symbol.observable||"@@observable",Dw=vL,up=()=>Math.random().toString(36).substring(7).split("").join("."),_L={INIT:`@@redux/INIT${up()}`,REPLACE:`@@redux/REPLACE${up()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${up()}`},Bh=_L;function Xy(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Yy(t,e,n){if(typeof t!="function")throw new Error(Dt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Dt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Dt(1));return n(Yy)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((A,E)=>{o.set(E,A)}))}function h(){if(l)throw new Error(Dt(3));return i}function d(A){if(typeof A!="function")throw new Error(Dt(4));if(l)throw new Error(Dt(5));let E=!0;c();const _=a++;return o.set(_,A),function(){if(E){if(l)throw new Error(Dt(6));E=!1,c(),o.delete(_),s=null}}}function f(A){if(!Xy(A))throw new Error(Dt(7));if(typeof A.type>"u")throw new Error(Dt(8));if(typeof A.type!="string")throw new Error(Dt(17));if(l)throw new Error(Dt(9));try{l=!0,i=r(i,A)}finally{l=!1}return(s=o).forEach(_=>{_()}),A}function g(A){if(typeof A!="function")throw new Error(Dt(10));r=A,f({type:Bh.REPLACE})}function v(){const A=d;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(Dt(11));function _(){const k=E;k.next&&k.next(h())}return _(),{unsubscribe:A(_)}},[Dw](){return this}}}return f({type:Bh.INIT}),{dispatch:f,subscribe:d,getState:h,replaceReducer:g,[Dw]:v}}function wL(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Bh.INIT})>"u")throw new Error(Dt(12));if(typeof n(void 0,{type:Bh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Dt(13))})}function mI(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{wL(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const c={};for(let h=0;h<r.length;h++){const d=r[h],f=n[d],g=o[d],v=f(g,a);if(typeof v>"u")throw a&&a.type,new Error(Dt(14));c[d]=v,l=l||v!==g}return l=l||r.length!==Object.keys(o).length,l?c:o}}function zh(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function EL(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Dt(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=t.map(l=>l(o));return s=zh(...a)(i.dispatch),{...i,dispatch:s}}}function TL(t){return Xy(t)&&"type"in t&&typeof t.type=="string"}var gI=Symbol.for("immer-nothing"),Ow=Symbol.for("immer-draftable"),bn=Symbol.for("immer-state");function tr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var aa=Object.getPrototypeOf;function Ws(t){return!!t&&!!t[bn]}function ni(t){var e;return t?yI(t)||Array.isArray(t)||!!t[Ow]||!!((e=t.constructor)!=null&&e[Ow])||Ud(t)||Bd(t):!1}var SL=Object.prototype.constructor.toString();function yI(t){if(!t||typeof t!="object")return!1;const e=aa(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===SL}function $h(t,e){jd(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function jd(t){const e=t[bn];return e?e.type_:Array.isArray(t)?1:Ud(t)?2:Bd(t)?3:0}function Km(t,e){return jd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function vI(t,e,n){const r=jd(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function PL(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ud(t){return t instanceof Map}function Bd(t){return t instanceof Set}function Es(t){return t.copy_||t.base_}function Gm(t,e){if(Ud(t))return new Map(t);if(Bd(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=yI(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[bn];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(aa(t),r)}else{const r=aa(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Jy(t,e=!1){return zd(t)||Ws(t)||!ni(t)||(jd(t)>1&&(t.set=t.add=t.clear=t.delete=IL),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Jy(r,!0))),t}function IL(){tr(2)}function zd(t){return Object.isFrozen(t)}var RL={};function Hs(t){const e=RL[t];return e||tr(0,t),e}var ou;function _I(){return ou}function AL(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Nw(t,e){e&&(Hs("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Qm(t){Xm(t),t.drafts_.forEach(CL),t.drafts_=null}function Xm(t){t===ou&&(ou=t.parent_)}function Lw(t){return ou=AL(ou,t)}function CL(t){const e=t[bn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Mw(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[bn].modified_&&(Qm(e),tr(4)),ni(t)&&(t=Wh(e,t),e.parent_||Hh(e,t)),e.patches_&&Hs("Patches").generateReplacementPatches_(n[bn].base_,t,e.patches_,e.inversePatches_)):t=Wh(e,n,[]),Qm(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==gI?t:void 0}function Wh(t,e,n){if(zd(e))return e;const r=e[bn];if(!r)return $h(e,(i,s)=>Vw(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Hh(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),$h(s,(a,l)=>Vw(t,r,i,a,l,n,o)),Hh(t,i,!1),n&&t.patches_&&Hs("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Vw(t,e,n,r,i,s,o){if(Ws(i)){const a=s&&e&&e.type_!==3&&!Km(e.assigned_,r)?s.concat(r):void 0,l=Wh(t,i,a);if(vI(n,r,l),Ws(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(ni(i)&&!zd(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Wh(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Hh(t,i)}}function Hh(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Jy(e,n)}function xL(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:_I(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Zy;n&&(i=[r],s=au);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var Zy={get(t,e){if(e===bn)return t;const n=Es(t);if(!Km(n,e))return bL(t,n,e);const r=n[e];return t.finalized_||!ni(r)?r:r===cp(t.base_,e)?(hp(t),t.copy_[e]=Jm(r,t)):r},has(t,e){return e in Es(t)},ownKeys(t){return Reflect.ownKeys(Es(t))},set(t,e,n){const r=wI(Es(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=cp(Es(t),e),s=i==null?void 0:i[bn];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(PL(n,i)&&(n!==void 0||Km(t.base_,e)))return!0;hp(t),Ym(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return cp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,hp(t),Ym(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Es(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){tr(11)},getPrototypeOf(t){return aa(t.base_)},setPrototypeOf(){tr(12)}},au={};$h(Zy,(t,e)=>{au[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});au.deleteProperty=function(t,e){return au.set.call(this,t,e,void 0)};au.set=function(t,e,n){return Zy.set.call(this,t[0],e,n,t[0])};function cp(t,e){const n=t[bn];return(n?Es(n):t)[e]}function bL(t,e,n){var i;const r=wI(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function wI(t,e){if(!(e in t))return;let n=aa(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=aa(n)}}function Ym(t){t.modified_||(t.modified_=!0,t.parent_&&Ym(t.parent_))}function hp(t){t.copy_||(t.copy_=Gm(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var kL=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...c){return o.produce(l,h=>n.call(this,h,...c))}}typeof n!="function"&&tr(6),r!==void 0&&typeof r!="function"&&tr(7);let i;if(ni(e)){const s=Lw(this),o=Jm(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?Qm(s):Xm(s)}return Nw(s,r),Mw(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===gI&&(i=void 0),this.autoFreeze_&&Jy(i,!0),r){const s=[],o=[];Hs("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else tr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ni(t)||tr(8),Ws(t)&&(t=DL(t));const e=Lw(this),n=Jm(t,void 0);return n[bn].isManual_=!0,Xm(e),n}finishDraft(t,e){const n=t&&t[bn];(!n||!n.isManual_)&&tr(9);const{scope_:r}=n;return Nw(r,e),Mw(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Hs("Patches").applyPatches_;return Ws(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Jm(t,e){const n=Ud(t)?Hs("MapSet").proxyMap_(t,e):Bd(t)?Hs("MapSet").proxySet_(t,e):xL(t,e);return(e?e.scope_:_I()).drafts_.push(n),n}function DL(t){return Ws(t)||tr(10,t),EI(t)}function EI(t){if(!ni(t)||zd(t))return t;const e=t[bn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Gm(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Gm(t,!0);return $h(n,(r,i)=>{vI(n,r,EI(i))}),e&&(e.finalized_=!1),n}var kn=new kL,TI=kn.produce;kn.produceWithPatches.bind(kn);kn.setAutoFreeze.bind(kn);kn.setUseStrictShallowCopy.bind(kn);kn.applyPatches.bind(kn);kn.createDraft.bind(kn);kn.finishDraft.bind(kn);function SI(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var OL=SI(),NL=SI,LL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zh:zh.apply(null,arguments)},ML=t=>t&&typeof t.match=="function";function kl(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ir(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>TL(r)&&r.type===t,n}var PI=class fl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,fl.prototype)}static get[Symbol.species](){return fl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new fl(...e[0].concat(this)):new fl(...e.concat(this))}};function Fw(t){return ni(t)?TI(t,()=>{}):t}function jw(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(ir(10));const r=n.insert(e,t);return t.set(e,r),r}function VL(t){return typeof t=="boolean"}var FL=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new PI;return n&&(VL(n)?o.push(OL):o.push(NL(n.extraArgument))),o},jL="RTK_autoBatch",II=t=>e=>{setTimeout(e,t)},UL=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:II(10),BL=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?UL:t.type==="callback"?t.queueNotification:II(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const d=()=>i&&h(),f=r.subscribe(d);return a.add(h),()=>{f(),a.delete(h)}},dispatch(h){var d;try{return i=!((d=h==null?void 0:h.meta)!=null&&d[jL]),s=!i,s&&(o||(o=!0,l(c))),r.dispatch(h)}finally{i=!0}}})},zL=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new PI(t);return r&&i.push(BL(typeof r=="object"?r:void 0)),i};function $L(t){const e=FL(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(Xy(n))a=mI(n);else throw new Error(ir(1));let l;typeof r=="function"?l=r(e):l=e();let c=zh;i&&(c=LL({trace:!1,...typeof i=="object"&&i}));const h=EL(...l),d=zL(h);let f=typeof o=="function"?o(d):d();const g=c(...f);return Yy(a,s,g)}function RI(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(ir(28));if(a in e)throw new Error(ir(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function WL(t){return typeof t=="function"}function HL(t,e){let[n,r,i]=RI(e),s;if(WL(t))s=()=>Fw(t());else{const a=Fw(t);s=()=>a}function o(a=s(),l){let c=[n[l.type],...r.filter(({matcher:h})=>h(l)).map(({reducer:h})=>h)];return c.filter(h=>!!h).length===0&&(c=[i]),c.reduce((h,d)=>{if(d)if(Ws(h)){const g=d(h,l);return g===void 0?h:g}else{if(ni(h))return TI(h,f=>d(f,l));{const f=d(h,l);if(f===void 0){if(h===null)return h;throw new Error(ir(9))}return f}}return h},a)}return o.getInitialState=s,o}var qL=(t,e)=>ML(t)?t.match(e):t(e);function KL(...t){return e=>t.some(n=>qL(n,e))}var GL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",QL=(t=21)=>{let e="",n=t;for(;n--;)e+=GL[Math.random()*64|0];return e},XL=["name","message","stack","code"],dp=class{constructor(t,e){Of(this,"_type");this.payload=t,this.meta=e}},Uw=class{constructor(t,e){Of(this,"_type");this.payload=t,this.meta=e}},YL=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of XL)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},Rr=(()=>{function t(e,n,r){const i=kl(e+"/fulfilled",(l,c,h,d)=>({payload:l,meta:{...d||{},arg:h,requestId:c,requestStatus:"fulfilled"}})),s=kl(e+"/pending",(l,c,h)=>({payload:void 0,meta:{...h||{},arg:c,requestId:l,requestStatus:"pending"}})),o=kl(e+"/rejected",(l,c,h,d,f)=>({payload:d,error:(r&&r.serializeError||YL)(l||"Rejected"),meta:{...f||{},arg:h,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l){return(c,h,d)=>{const f=r!=null&&r.idGenerator?r.idGenerator(l):QL(),g=new AbortController;let v,T;function A(_){T=_,g.abort()}const E=async function(){var k,M;let _;try{let R=(k=r==null?void 0:r.condition)==null?void 0:k.call(r,l,{getState:h,extra:d});if(ZL(R)&&(R=await R),R===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const I=new Promise((y,S)=>{v=()=>{S({name:"AbortError",message:T||"Aborted"})},g.signal.addEventListener("abort",v)});c(s(f,l,(M=r==null?void 0:r.getPendingMeta)==null?void 0:M.call(r,{requestId:f,arg:l},{getState:h,extra:d}))),_=await Promise.race([I,Promise.resolve(n(l,{dispatch:c,getState:h,extra:d,requestId:f,signal:g.signal,abort:A,rejectWithValue:(y,S)=>new dp(y,S),fulfillWithValue:(y,S)=>new Uw(y,S)})).then(y=>{if(y instanceof dp)throw y;return y instanceof Uw?i(y.payload,f,l,y.meta):i(y,f,l)})])}catch(R){_=R instanceof dp?o(null,f,l,R.payload,R.meta):o(R,f,l)}finally{v&&g.signal.removeEventListener("abort",v)}return r&&!r.dispatchConditionRejection&&o.match(_)&&_.meta.condition||c(_),_}();return Object.assign(E,{abort:A,requestId:f,arg:l,unwrap(){return E.then(JL)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:KL(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function JL(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function ZL(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var eM=Symbol.for("rtk-slice-createasyncthunk");function tM(t,e){return`${t}/${e}`}function nM({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[eM];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(ir(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(iM()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(w,k){const M=typeof w=="string"?w:w.type;if(!M)throw new Error(ir(12));if(M in c.sliceCaseReducersByType)throw new Error(ir(13));return c.sliceCaseReducersByType[M]=k,h},addMatcher(w,k){return c.sliceMatchers.push({matcher:w,reducer:k}),h},exposeAction(w,k){return c.actionCreators[w]=k,h},exposeCaseReducer(w,k){return c.sliceCaseReducersByName[w]=k,h}};l.forEach(w=>{const k=a[w],M={reducerName:w,type:tM(s,w),createNotation:typeof i.reducers=="function"};oM(k)?lM(M,k,h,e):sM(M,k,h)});function d(){const[w={},k=[],M=void 0]=typeof i.extraReducers=="function"?RI(i.extraReducers):[i.extraReducers],R={...w,...c.sliceCaseReducersByType};return HL(i.initialState,I=>{for(let y in R)I.addCase(y,R[y]);for(let y of c.sliceMatchers)I.addMatcher(y.matcher,y.reducer);for(let y of k)I.addMatcher(y.matcher,y.reducer);M&&I.addDefaultCase(M)})}const f=w=>w,g=new Map;let v;function T(w,k){return v||(v=d()),v(w,k)}function A(){return v||(v=d()),v.getInitialState()}function E(w,k=!1){function M(I){let y=I[w];return typeof y>"u"&&k&&(y=A()),y}function R(I=f){const y=jw(g,k,{insert:()=>new WeakMap});return jw(y,I,{insert:()=>{const S={};for(const[C,x]of Object.entries(i.selectors??{}))S[C]=rM(x,I,A,k);return S}})}return{reducerPath:w,getSelectors:R,get selectors(){return R(M)},selectSlice:M}}const _={name:s,reducer:T,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:A,...E(o),injectInto(w,{reducerPath:k,...M}={}){const R=k??o;return w.inject({reducerPath:R,reducer:T},M),{..._,...E(R,!0)}}};return _}}function rM(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var ur=nM();function iM(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function sM({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!aM(r))throw new Error(ir(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?kl(t,o):kl(t))}function oM(t){return t._reducerDefinitionType==="asyncThunk"}function aM(t){return t._reducerDefinitionType==="reducerWithPrepare"}function lM({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ir(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:h}=n,d=i(t,s,h);r.exposeAction(e,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(e,{fulfilled:o||Ic,pending:a||Ic,rejected:l||Ic,settled:c||Ic})}function Ic(){}function ir(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Bw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},uM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},CI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[h],n[d],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new cM;const f=s<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const v=c<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hM=function(t){const e=AI(t);return CI.encodeByteArray(e,!0)},qh=function(t){return hM(t).replace(/\./g,"")},xI=function(t){try{return CI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=()=>dM().__FIREBASE_DEFAULTS__,pM=()=>{if(typeof process>"u"||typeof Bw>"u")return;const t=Bw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xI(t[1]);return e&&JSON.parse(e)},$d=()=>{try{return fM()||pM()||mM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bI=t=>{var e,n;return(n=(e=$d())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gM=t=>{const e=bI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kI=()=>{var t;return(t=$d())===null||t===void 0?void 0:t.config},DI=t=>{var e;return(e=$d())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qh(JSON.stringify(n)),qh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _M(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function wM(){var t;const e=(t=$d())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SM(){const t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PM(){return!wM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IM(){try{return typeof indexedDB=="object"}catch{return!1}}function RM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM="FirebaseError";class di extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AM,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?CM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new di(i,a,r)}}function CM(t,e){return t.replace(xM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const xM=/\{\$([^}]+)}/g;function bM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(zw(s)&&zw(o)){if(!Kh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ml(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function kM(t,e){const n=new DM(t,e);return n.subscribe.bind(n)}class DM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=fp),i.error===void 0&&(i.error=fp),i.complete===void 0&&(i.complete=fp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t){return t&&t._delegate?t._delegate:t}class qs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MM(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LM(t){return t===Ts?void 0:t}function MM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const FM={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},jM=Ie.INFO,UM={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},BM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=UM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ev{constructor(e){this.name=e,this._logLevel=jM,this._logHandler=BM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const zM=(t,e)=>e.some(n=>t instanceof n);let $w,Ww;function $M(){return $w||($w=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WM(){return Ww||(Ww=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OI=new WeakMap,Zm=new WeakMap,NI=new WeakMap,pp=new WeakMap,tv=new WeakMap;function HM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($i(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&OI.set(n,t)}).catch(()=>{}),tv.set(e,t),e}function qM(t){if(Zm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Zm.set(t,e)}let eg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KM(t){eg=t(eg)}function GM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mp(this),e,...n);return NI.set(r,e.sort?e.sort():[e]),$i(r)}:WM().includes(t)?function(...e){return t.apply(mp(this),e),$i(OI.get(this))}:function(...e){return $i(t.apply(mp(this),e))}}function QM(t){return typeof t=="function"?GM(t):(t instanceof IDBTransaction&&qM(t),zM(t,$M())?new Proxy(t,eg):t)}function $i(t){if(t instanceof IDBRequest)return HM(t);if(pp.has(t))return pp.get(t);const e=QM(t);return e!==t&&(pp.set(t,e),tv.set(e,t)),e}const mp=t=>tv.get(t);function XM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=$i(o);return r&&o.addEventListener("upgradeneeded",l=>{r($i(o.result),l.oldVersion,l.newVersion,$i(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const YM=["get","getKey","getAll","getAllKeys","count"],JM=["put","add","delete","clear"],gp=new Map;function Hw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gp.get(e))return gp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YM.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return gp.set(e,s),s}KM(t=>({...t,get:(e,n,r)=>Hw(e,n)||t.get(e,n,r),has:(e,n)=>!!Hw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tg="@firebase/app",qw="0.10.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new ev("@firebase/app"),tV="@firebase/app-compat",nV="@firebase/analytics-compat",rV="@firebase/analytics",iV="@firebase/app-check-compat",sV="@firebase/app-check",oV="@firebase/auth",aV="@firebase/auth-compat",lV="@firebase/database",uV="@firebase/database-compat",cV="@firebase/functions",hV="@firebase/functions-compat",dV="@firebase/installations",fV="@firebase/installations-compat",pV="@firebase/messaging",mV="@firebase/messaging-compat",gV="@firebase/performance",yV="@firebase/performance-compat",vV="@firebase/remote-config",_V="@firebase/remote-config-compat",wV="@firebase/storage",EV="@firebase/storage-compat",TV="@firebase/firestore",SV="@firebase/vertexai-preview",PV="@firebase/firestore-compat",IV="firebase",RV="10.12.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="[DEFAULT]",AV={[tg]:"fire-core",[tV]:"fire-core-compat",[rV]:"fire-analytics",[nV]:"fire-analytics-compat",[sV]:"fire-app-check",[iV]:"fire-app-check-compat",[oV]:"fire-auth",[aV]:"fire-auth-compat",[lV]:"fire-rtdb",[uV]:"fire-rtdb-compat",[cV]:"fire-fn",[hV]:"fire-fn-compat",[dV]:"fire-iid",[fV]:"fire-iid-compat",[pV]:"fire-fcm",[mV]:"fire-fcm-compat",[gV]:"fire-perf",[yV]:"fire-perf-compat",[vV]:"fire-rc",[_V]:"fire-rc-compat",[wV]:"fire-gcs",[EV]:"fire-gcs-compat",[TV]:"fire-fst",[PV]:"fire-fst-compat",[SV]:"fire-vertex","fire-js":"fire-js",[IV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new Map,CV=new Map,rg=new Map;function Kw(t,e){try{t.container.addComponent(e)}catch(n){Ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function la(t){const e=t.name;if(rg.has(e))return Ks.debug(`There were multiple attempts to register component ${e}.`),!1;rg.set(e,t);for(const n of Gh.values())Kw(n,t);for(const n of CV.values())Kw(n,t);return!0}function nv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new bu("app","Firebase",xV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=RV;function LI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ng,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Wi.create("bad-app-name",{appName:String(i)});if(n||(n=kI()),!n)throw Wi.create("no-options");const s=Gh.get(i);if(s){if(Kh(n,s.options)&&Kh(r,s.config))return s;throw Wi.create("duplicate-app",{appName:i})}const o=new VM(i);for(const l of rg.values())o.addComponent(l);const a=new bV(n,r,o);return Gh.set(i,a),a}function MI(t=ng){const e=Gh.get(t);if(!e&&t===ng&&kI())return LI();if(!e)throw Wi.create("no-app",{appName:t});return e}function Hi(t,e,n){var r;let i=(r=AV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ks.warn(a.join(" "));return}la(new qs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV="firebase-heartbeat-database",DV=1,lu="firebase-heartbeat-store";let yp=null;function VI(){return yp||(yp=XM(kV,DV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wi.create("idb-open",{originalErrorMessage:t.message})})),yp}async function OV(t){try{const n=(await VI()).transaction(lu),r=await n.objectStore(lu).get(FI(t));return await n.done,r}catch(e){if(e instanceof di)Ks.warn(e.message);else{const n=Wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ks.warn(n.message)}}}async function Gw(t,e){try{const r=(await VI()).transaction(lu,"readwrite");await r.objectStore(lu).put(e,FI(t)),await r.done}catch(n){if(n instanceof di)Ks.warn(n.message);else{const r=Wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ks.warn(r.message)}}}function FI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=1024,LV=30*24*60*60*1e3;class MV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Qw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=LV}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Qw(),{heartbeatsToSend:r,unsentEntries:i}=VV(this._heartbeatsCache.heartbeats),s=qh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Qw(){return new Date().toISOString().substring(0,10)}function VV(t,e=NV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Xw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Xw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IM()?RM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Gw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Gw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Xw(t){return qh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(t){la(new qs("platform-logger",e=>new ZM(e),"PRIVATE")),la(new qs("heartbeat",e=>new MV(e),"PRIVATE")),Hi(tg,qw,t),Hi(tg,qw,"esm2017"),Hi("fire-js","")}jV("");var UV="firebase",BV="10.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hi(UV,BV,"app");function rv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function jI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zV=jI,UI=new bu("auth","Firebase",jI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new ev("@firebase/auth");function $V(t,...e){Qh.logLevel<=Ie.WARN&&Qh.warn(`Auth (${Ta}): ${t}`,...e)}function Qc(t,...e){Qh.logLevel<=Ie.ERROR&&Qh.error(`Auth (${Ta}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t,...e){throw iv(t,...e)}function _r(t,...e){return iv(t,...e)}function BI(t,e,n){const r=Object.assign(Object.assign({},zV()),{[e]:n});return new bu("auth","Firebase",r).create(e,{appName:t.name})}function qr(t){return BI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return UI.create(t,...e)}function ue(t,e,...n){if(!t)throw iv(e,...n)}function Ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qc(e),new Error(e)}function ri(t,e){t||Ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WV(){return Yw()==="http:"||Yw()==="https:"}function Yw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WV()||EM()||"connection"in navigator)?navigator.onLine:!0}function qV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.shortDelay=e,this.longDelay=n,ri(n>e,"Short delay should be less than long delay!"),this.isMobile=_M()||TM()}get(){return HV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t,e){ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=new Du(3e4,6e4);function as(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ls(t,e,n,r,i={}){return $I(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ku(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),zI.fetch()(WI(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function $I(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},KV),e);try{const i=new XV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Rc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Rc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Rc(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw BI(t,h,c);ar(t,h)}}catch(i){if(i instanceof di)throw i;ar(t,"network-request-failed",{message:String(i)})}}async function Ou(t,e,n,r,i={}){const s=await ls(t,e,n,r,i);return"mfaPendingCredential"in s&&ar(t,"multi-factor-auth-required",{_serverResponse:s}),s}function WI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?sv(t.config,i):`${t.config.apiScheme}://${i}`}function QV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_r(this.auth,"network-request-failed")),GV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_r(t,e,r);return i.customData._tokenResponse=n,i}function Jw(t){return t!==void 0&&t.enterprise!==void 0}class YV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return QV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function JV(t,e){return ls(t,"GET","/v2/recaptchaConfig",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZV(t,e){return ls(t,"POST","/v1/accounts:delete",e)}async function HI(t,e){return ls(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e2(t,e=!1){const n=ln(t),r=await n.getIdToken(e),i=ov(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Dl(vp(i.auth_time)),issuedAtTime:Dl(vp(i.iat)),expirationTime:Dl(vp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function vp(t){return Number(t)*1e3}function ov(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const i=xI(n);return i?JSON.parse(i):(Qc("Failed to decode base64 JWT payload"),null)}catch(i){return Qc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Zw(t){const e=ov(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof di&&t2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function t2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await uu(t,HI(n,{idToken:r}));ue(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?qI(s.providerUserInfo):[],a=i2(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new sg(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function r2(t){const e=ln(t);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qI(t){return t.map(e=>{var{providerId:n}=e,r=rv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s2(t,e){const n=await $I(t,{},async()=>{const r=ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=WI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function o2(t,e){return ls(t,"POST","/v2/accounts:revokeToken",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=Zw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await s2(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Go;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ue(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Br{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=rv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new n2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await uu(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return e2(this,e)}reload(){return r2(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gr(this.auth.app))return Promise.reject(qr(this.auth));const e=await this.getIdToken();return await uu(this,ZV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:w,emailVerified:k,isAnonymous:M,providerData:R,stsTokenManager:I}=n;ue(w&&I,e,"internal-error");const y=Go.fromJSON(this.name,I);ue(typeof w=="string",e,"internal-error"),wi(d,e.name),wi(f,e.name),ue(typeof k=="boolean",e,"internal-error"),ue(typeof M=="boolean",e,"internal-error"),wi(g,e.name),wi(v,e.name),wi(T,e.name),wi(A,e.name),wi(E,e.name),wi(_,e.name);const S=new Br({uid:w,auth:e,email:f,emailVerified:k,displayName:d,isAnonymous:M,photoURL:v,phoneNumber:g,tenantId:T,stsTokenManager:y,createdAt:E,lastLoginAt:_});return R&&Array.isArray(R)&&(S.providerData=R.map(C=>Object.assign({},C))),A&&(S._redirectEventId=A),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new Go;i.updateFromServerResponse(n);const s=new Br({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ue(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?qI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Go;a.updateFromIdToken(r);const l=new Br({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new sg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;function zr(t){ri(t instanceof Function,"Expected a class definition");let e=eE.get(t);return e?(ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KI.type="NONE";const tE=KI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t,e,n){return`firebase:${t}:${e}:${n}`}class Qo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Br._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qo(zr(tE),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||zr(tE);const o=Xc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const d=Br._fromJSON(e,h);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Qo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Qo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JI(e))return"Blackberry";if(ZI(e))return"Webos";if(av(e))return"Safari";if((e.includes("chrome/")||QI(e))&&!e.includes("edge/"))return"Chrome";if(YI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GI(t=Ut()){return/firefox\//i.test(t)}function av(t=Ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QI(t=Ut()){return/crios\//i.test(t)}function XI(t=Ut()){return/iemobile/i.test(t)}function YI(t=Ut()){return/android/i.test(t)}function JI(t=Ut()){return/blackberry/i.test(t)}function ZI(t=Ut()){return/webos/i.test(t)}function Wd(t=Ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function a2(t=Ut()){var e;return Wd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function l2(){return SM()&&document.documentMode===10}function eR(t=Ut()){return Wd(t)||YI(t)||ZI(t)||JI(t)||/windows phone/i.test(t)||XI(t)}function u2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(t,e=[]){let n;switch(t){case"Browser":n=nE(Ut());break;case"Worker":n=`${nE(Ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ta}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(t,e={}){return ls(t,"GET","/v2/passwordPolicy",as(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=6;class f2{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:d2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rE(this),this.idTokenSubscription=new rE(this),this.beforeStateQueue=new c2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await HI(this,{idToken:e}),r=await Br._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gr(this.app))return Promise.reject(qr(this));const n=e?ln(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gr(this.app)?Promise.reject(qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gr(this.app)?Promise.reject(qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h2(this),n=new f2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await o2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zr(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$V(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ro(t){return ln(t)}class rE{constructor(e){this.auth=e,this.observer=null,this.addObserver=kM(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m2(t){Hd=t}function nR(t){return Hd.loadJS(t)}function g2(){return Hd.recaptchaEnterpriseScript}function y2(){return Hd.gapiScript}function v2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const _2="recaptcha-enterprise",w2="NO_RECAPTCHA";class E2{constructor(e){this.type=_2,this.auth=ro(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{JV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new YV(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Jw(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(w2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Jw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=g2();l.length!==0&&(l+=a),nR(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function iE(t,e,n,r=!1){const i=new E2(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function og(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await iE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await iE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t,e){const n=nv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Kh(s,e??{}))return i;ar(i,"already-initialized")}return n.initialize({options:e})}function S2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function P2(t,e,n){const r=ro(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=rR(e),{host:o,port:a}=I2(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),R2()}function rR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function I2(t){const e=rR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:sE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:sE(o)}}}function sE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function R2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}async function A2(t,e){return ls(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(t,e){return Ou(t,"POST","/v1/accounts:signInWithPassword",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(t,e){return Ou(t,"POST","/v1/accounts:signInWithEmailLink",as(t,e))}async function b2(t,e){return Ou(t,"POST","/v1/accounts:signInWithEmailLink",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends lv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new cu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return og(e,n,"signInWithPassword",C2);case"emailLink":return x2(e,{email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return og(e,r,"signUpPassword",A2);case"emailLink":return b2(e,{idToken:n,email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(t,e){return Ou(t,"POST","/v1/accounts:signInWithIdp",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="http://localhost";class Gs extends lv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=rv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Gs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Xo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xo(e,n)}buildRequest(){const e={requestUri:k2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ku(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function O2(t){const e=pl(ml(t)).link,n=e?pl(ml(e)).deep_link_id:null,r=pl(ml(t)).deep_link_id;return(r?pl(ml(r)).link:null)||r||n||e||t}class uv{constructor(e){var n,r,i,s,o,a;const l=pl(ml(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,d=D2((i=l.mode)!==null&&i!==void 0?i:null);ue(c&&h&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=O2(e);try{return new uv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.providerId=Sa.PROVIDER_ID}static credential(e,n){return cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=uv.parseLink(n);return ue(r,"argument-error"),cu._fromEmailAndCode(e,r.code,r.tenantId)}}Sa.PROVIDER_ID="password";Sa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends iR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Nu{constructor(){super("facebook.com")}static credential(e){return Gs._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Gs._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xi.credential(n,r)}catch{return null}}}xi.GOOGLE_SIGN_IN_METHOD="google.com";xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Nu{constructor(){super("github.com")}static credential(e){return Gs._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com";bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Nu{constructor(){super("twitter.com")}static credential(e,n){return Gs._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ki.credential(n,r)}catch{return null}}}ki.TWITTER_SIGN_IN_METHOD="twitter.com";ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(t,e){return Ou(t,"POST","/v1/accounts:signUp",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Br._fromIdTokenResponse(e,r,i),o=oE(r);return new Qs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=oE(r);return new Qs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function oE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends di{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Yh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Yh(e,n,r,i)}}function sR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Yh._fromErrorAndOperation(t,s,e,r):s})}async function L2(t,e,n=!1){const r=await uu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(t,e,n=!1){const{auth:r}=t;if(gr(r.app))return Promise.reject(qr(r));const i="reauthenticate";try{const s=await uu(t,sR(r,i,e,t),n);ue(s.idToken,r,"internal-error");const o=ov(s.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),Qs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ar(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(t,e,n=!1){if(gr(t.app))return Promise.reject(qr(t));const r="signIn",i=await sR(t,r,e),s=await Qs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function V2(t,e){return oR(ro(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(t){const e=ro(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function F2(t,e,n){if(gr(t.app))return Promise.reject(qr(t));const r=ro(t),o=await og(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",N2).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&aR(t),l}),a=await Qs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function j2(t,e,n){return gr(t.app)?Promise.reject(qr(t)):V2(ln(t),Sa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&aR(t),r})}function U2(t,e,n,r){return ln(t).onIdTokenChanged(e,n,r)}function B2(t,e,n){return ln(t).beforeAuthStateChanged(e,n)}const Jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){const t=Ut();return av(t)||Wd(t)}const $2=1e3,W2=10;class uR extends lR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=z2()&&u2(),this.fallbackToPolling=eR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);l2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,W2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},$2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}uR.type="LOCAL";const H2=uR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR extends lR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cR.type="SESSION";const hR=cR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new qd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await q2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=cv("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function G2(t){wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function Q2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function X2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Y2(){return dR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="firebaseLocalStorageDb",J2=1,Zh="firebaseLocalStorage",pR="fbase_key";class Lu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kd(t,e){return t.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function Z2(){const t=indexedDB.deleteDatabase(fR);return new Lu(t).toPromise()}function ag(){const t=indexedDB.open(fR,J2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zh,{keyPath:pR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zh)?e(r):(r.close(),await Z2(),e(await ag()))})})}async function aE(t,e,n){const r=Kd(t,!0).put({[pR]:e,value:n});return new Lu(r).toPromise()}async function eF(t,e){const n=Kd(t,!1).get(e),r=await new Lu(n).toPromise();return r===void 0?null:r.value}function lE(t,e){const n=Kd(t,!0).delete(e);return new Lu(n).toPromise()}const tF=800,nF=3;class mR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ag(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qd._getInstance(Y2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Q2(),!this.activeServiceWorker)return;this.sender=new K2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||X2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ag();return await aE(e,Jh,"1"),await lE(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>eF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Kd(i,!1).getAll();return new Lu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mR.type="LOCAL";const rF=mR;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t,e){return e?zr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv extends lv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sF(t){return oR(t.auth,new hv(t),t.bypassAuthState)}function oF(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),M2(n,new hv(t),t.bypassAuthState)}async function aF(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),L2(n,new hv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sF;case"linkViaPopup":case"linkViaRedirect":return aF;case"reauthViaPopup":case"reauthViaRedirect":return oF;default:ar(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=new Du(2e3,1e4);class Mo extends gR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=cv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lF.get())};e()}}Mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="pendingRedirect",Yc=new Map;class cF extends gR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Yc.get(this.auth._key());if(!e){try{const r=await hF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yc.set(this.auth._key(),e)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hF(t,e){const n=pF(e),r=fF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function dF(t,e){Yc.set(t._key(),e)}function fF(t){return zr(t._redirectPersistence)}function pF(t){return Xc(uF,t.config.apiKey,t.name)}async function mF(t,e,n=!1){if(gr(t.app))return Promise.reject(qr(t));const r=ro(t),i=iF(r,e),o=await new cF(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=10*60*1e3;class yF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!yR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_r(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gF&&this.cachedEventUids.clear(),this.cachedEventUids.has(uE(e))}saveEventToCache(e){this.cachedEventUids.add(uE(e)),this.lastProcessedEventTime=Date.now()}}function uE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _F(t,e={}){return ls(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EF=/^https?/;async function TF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _F(t);for(const n of e)try{if(SF(n))return}catch{}ar(t,"unauthorized-domain")}function SF(t){const e=ig(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!EF.test(n))return!1;if(wF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=new Du(3e4,6e4);function cE(){const t=wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function IF(t){return new Promise((e,n)=>{var r,i,s;function o(){cE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cE(),n(_r(t,"network-request-failed"))},timeout:PF.get()})}if(!((i=(r=wr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=wr().gapi)===null||s===void 0)&&s.load)o();else{const a=v2("iframefcb");return wr()[a]=()=>{gapi.load?o():n(_r(t,"network-request-failed"))},nR(`${y2()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function RF(t){return Jc=Jc||IF(t),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=new Du(5e3,15e3),CF="__/auth/iframe",xF="emulator/auth/iframe",bF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DF(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?sv(e,xF):`https://${t.config.authDomain}/${CF}`,r={apiKey:e.apiKey,appName:t.name,v:Ta},i=kF.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ku(r).slice(1)}`}async function OF(t){const e=await RF(t),n=wr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:DF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bF,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=_r(t,"network-request-failed"),a=wr().setTimeout(()=>{s(o)},AF.get());function l(){wr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LF=500,MF=600,VF="_blank",FF="http://localhost";class hE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jF(t,e,n,r=LF,i=MF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},NF),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ut().toLowerCase();n&&(a=QI(c)?VF:n),GI(c)&&(e=e||FF,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[g,v])=>`${f}${g}=${v},`,"");if(a2(c)&&a!=="_self")return UF(e||"",a),new hE(null);const d=window.open(e||"",a,h);ue(d,t,"popup-blocked");try{d.focus()}catch{}return new hE(d)}function UF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF="__/auth/handler",zF="emulator/auth/handler",$F=encodeURIComponent("fac");async function dE(t,e,n,r,i,s){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ta,eventId:i};if(e instanceof iR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",bM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Nu){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${$F}=${encodeURIComponent(l)}`:"";return`${WF(t)}?${ku(a).slice(1)}${c}`}function WF({config:t}){return t.emulator?sv(t,zF):`https://${t.authDomain}/${BF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="webStorageSupport";class HF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hR,this._completeRedirectFn=mF,this._overrideRedirectResult=dF}async _openPopup(e,n,r,i){var s;ri((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await dE(e,n,r,ig(),i);return jF(e,o,cv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await dE(e,n,r,ig(),i);return G2(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ri(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await OF(e),r=new yF(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_p,{type:_p},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[_p];o!==void 0&&n(!!o),ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eR()||av()||Wd()}}const qF=HF;var fE="@firebase/auth",pE="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QF(t){la(new qs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tR(t)},c=new p2(r,i,s,l);return S2(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),la(new qs("auth-internal",e=>{const n=ro(e.getProvider("auth").getImmediate());return(r=>new KF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hi(fE,pE,GF(t)),Hi(fE,pE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=5*60,YF=DI("authIdTokenMaxAge")||XF;let mE=null;const JF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YF)return;const i=n==null?void 0:n.token;mE!==i&&(mE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ZF(t=MI()){const e=nv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=T2(t,{popupRedirectResolver:qF,persistence:[rF,H2,hR]}),r=DI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=JF(s.toString());B2(n,o,()=>o(n.currentUser)),U2(n,a=>o(a))}}const i=bI("auth");return i&&P2(n,`http://${i}`),n}function ej(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}m2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=_r("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",ej().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QF("Browser");var gE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,vR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,y){function S(){}S.prototype=y.prototype,I.D=y.prototype,I.prototype=new S,I.prototype.constructor=I,I.C=function(C,x,D){for(var b=Array(arguments.length-2),G=2;G<arguments.length;G++)b[G-2]=arguments[G];return y.prototype[x].apply(C,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,y,S){S||(S=0);var C=Array(16);if(typeof y=="string")for(var x=0;16>x;++x)C[x]=y.charCodeAt(S++)|y.charCodeAt(S++)<<8|y.charCodeAt(S++)<<16|y.charCodeAt(S++)<<24;else for(x=0;16>x;++x)C[x]=y[S++]|y[S++]<<8|y[S++]<<16|y[S++]<<24;y=I.g[0],S=I.g[1],x=I.g[2];var D=I.g[3],b=y+(D^S&(x^D))+C[0]+3614090360&4294967295;y=S+(b<<7&4294967295|b>>>25),b=D+(x^y&(S^x))+C[1]+3905402710&4294967295,D=y+(b<<12&4294967295|b>>>20),b=x+(S^D&(y^S))+C[2]+606105819&4294967295,x=D+(b<<17&4294967295|b>>>15),b=S+(y^x&(D^y))+C[3]+3250441966&4294967295,S=x+(b<<22&4294967295|b>>>10),b=y+(D^S&(x^D))+C[4]+4118548399&4294967295,y=S+(b<<7&4294967295|b>>>25),b=D+(x^y&(S^x))+C[5]+1200080426&4294967295,D=y+(b<<12&4294967295|b>>>20),b=x+(S^D&(y^S))+C[6]+2821735955&4294967295,x=D+(b<<17&4294967295|b>>>15),b=S+(y^x&(D^y))+C[7]+4249261313&4294967295,S=x+(b<<22&4294967295|b>>>10),b=y+(D^S&(x^D))+C[8]+1770035416&4294967295,y=S+(b<<7&4294967295|b>>>25),b=D+(x^y&(S^x))+C[9]+2336552879&4294967295,D=y+(b<<12&4294967295|b>>>20),b=x+(S^D&(y^S))+C[10]+4294925233&4294967295,x=D+(b<<17&4294967295|b>>>15),b=S+(y^x&(D^y))+C[11]+2304563134&4294967295,S=x+(b<<22&4294967295|b>>>10),b=y+(D^S&(x^D))+C[12]+1804603682&4294967295,y=S+(b<<7&4294967295|b>>>25),b=D+(x^y&(S^x))+C[13]+4254626195&4294967295,D=y+(b<<12&4294967295|b>>>20),b=x+(S^D&(y^S))+C[14]+2792965006&4294967295,x=D+(b<<17&4294967295|b>>>15),b=S+(y^x&(D^y))+C[15]+1236535329&4294967295,S=x+(b<<22&4294967295|b>>>10),b=y+(x^D&(S^x))+C[1]+4129170786&4294967295,y=S+(b<<5&4294967295|b>>>27),b=D+(S^x&(y^S))+C[6]+3225465664&4294967295,D=y+(b<<9&4294967295|b>>>23),b=x+(y^S&(D^y))+C[11]+643717713&4294967295,x=D+(b<<14&4294967295|b>>>18),b=S+(D^y&(x^D))+C[0]+3921069994&4294967295,S=x+(b<<20&4294967295|b>>>12),b=y+(x^D&(S^x))+C[5]+3593408605&4294967295,y=S+(b<<5&4294967295|b>>>27),b=D+(S^x&(y^S))+C[10]+38016083&4294967295,D=y+(b<<9&4294967295|b>>>23),b=x+(y^S&(D^y))+C[15]+3634488961&4294967295,x=D+(b<<14&4294967295|b>>>18),b=S+(D^y&(x^D))+C[4]+3889429448&4294967295,S=x+(b<<20&4294967295|b>>>12),b=y+(x^D&(S^x))+C[9]+568446438&4294967295,y=S+(b<<5&4294967295|b>>>27),b=D+(S^x&(y^S))+C[14]+3275163606&4294967295,D=y+(b<<9&4294967295|b>>>23),b=x+(y^S&(D^y))+C[3]+4107603335&4294967295,x=D+(b<<14&4294967295|b>>>18),b=S+(D^y&(x^D))+C[8]+1163531501&4294967295,S=x+(b<<20&4294967295|b>>>12),b=y+(x^D&(S^x))+C[13]+2850285829&4294967295,y=S+(b<<5&4294967295|b>>>27),b=D+(S^x&(y^S))+C[2]+4243563512&4294967295,D=y+(b<<9&4294967295|b>>>23),b=x+(y^S&(D^y))+C[7]+1735328473&4294967295,x=D+(b<<14&4294967295|b>>>18),b=S+(D^y&(x^D))+C[12]+2368359562&4294967295,S=x+(b<<20&4294967295|b>>>12),b=y+(S^x^D)+C[5]+4294588738&4294967295,y=S+(b<<4&4294967295|b>>>28),b=D+(y^S^x)+C[8]+2272392833&4294967295,D=y+(b<<11&4294967295|b>>>21),b=x+(D^y^S)+C[11]+1839030562&4294967295,x=D+(b<<16&4294967295|b>>>16),b=S+(x^D^y)+C[14]+4259657740&4294967295,S=x+(b<<23&4294967295|b>>>9),b=y+(S^x^D)+C[1]+2763975236&4294967295,y=S+(b<<4&4294967295|b>>>28),b=D+(y^S^x)+C[4]+1272893353&4294967295,D=y+(b<<11&4294967295|b>>>21),b=x+(D^y^S)+C[7]+4139469664&4294967295,x=D+(b<<16&4294967295|b>>>16),b=S+(x^D^y)+C[10]+3200236656&4294967295,S=x+(b<<23&4294967295|b>>>9),b=y+(S^x^D)+C[13]+681279174&4294967295,y=S+(b<<4&4294967295|b>>>28),b=D+(y^S^x)+C[0]+3936430074&4294967295,D=y+(b<<11&4294967295|b>>>21),b=x+(D^y^S)+C[3]+3572445317&4294967295,x=D+(b<<16&4294967295|b>>>16),b=S+(x^D^y)+C[6]+76029189&4294967295,S=x+(b<<23&4294967295|b>>>9),b=y+(S^x^D)+C[9]+3654602809&4294967295,y=S+(b<<4&4294967295|b>>>28),b=D+(y^S^x)+C[12]+3873151461&4294967295,D=y+(b<<11&4294967295|b>>>21),b=x+(D^y^S)+C[15]+530742520&4294967295,x=D+(b<<16&4294967295|b>>>16),b=S+(x^D^y)+C[2]+3299628645&4294967295,S=x+(b<<23&4294967295|b>>>9),b=y+(x^(S|~D))+C[0]+4096336452&4294967295,y=S+(b<<6&4294967295|b>>>26),b=D+(S^(y|~x))+C[7]+1126891415&4294967295,D=y+(b<<10&4294967295|b>>>22),b=x+(y^(D|~S))+C[14]+2878612391&4294967295,x=D+(b<<15&4294967295|b>>>17),b=S+(D^(x|~y))+C[5]+4237533241&4294967295,S=x+(b<<21&4294967295|b>>>11),b=y+(x^(S|~D))+C[12]+1700485571&4294967295,y=S+(b<<6&4294967295|b>>>26),b=D+(S^(y|~x))+C[3]+2399980690&4294967295,D=y+(b<<10&4294967295|b>>>22),b=x+(y^(D|~S))+C[10]+4293915773&4294967295,x=D+(b<<15&4294967295|b>>>17),b=S+(D^(x|~y))+C[1]+2240044497&4294967295,S=x+(b<<21&4294967295|b>>>11),b=y+(x^(S|~D))+C[8]+1873313359&4294967295,y=S+(b<<6&4294967295|b>>>26),b=D+(S^(y|~x))+C[15]+4264355552&4294967295,D=y+(b<<10&4294967295|b>>>22),b=x+(y^(D|~S))+C[6]+2734768916&4294967295,x=D+(b<<15&4294967295|b>>>17),b=S+(D^(x|~y))+C[13]+1309151649&4294967295,S=x+(b<<21&4294967295|b>>>11),b=y+(x^(S|~D))+C[4]+4149444226&4294967295,y=S+(b<<6&4294967295|b>>>26),b=D+(S^(y|~x))+C[11]+3174756917&4294967295,D=y+(b<<10&4294967295|b>>>22),b=x+(y^(D|~S))+C[2]+718787259&4294967295,x=D+(b<<15&4294967295|b>>>17),b=S+(D^(x|~y))+C[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+(x+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+x&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,y){y===void 0&&(y=I.length);for(var S=y-this.blockSize,C=this.B,x=this.h,D=0;D<y;){if(x==0)for(;D<=S;)i(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<y;)if(C[x++]=I.charCodeAt(D++),x==this.blockSize){i(this,C),x=0;break}}else for(;D<y;)if(C[x++]=I[D++],x==this.blockSize){i(this,C),x=0;break}}this.h=x,this.o+=y},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;var S=8*this.o;for(y=I.length-8;y<I.length;++y)I[y]=S&255,S/=256;for(this.u(I),I=Array(16),y=S=0;4>y;++y)for(var C=0;32>C;C+=8)I[S++]=this.g[y]>>>C&255;return I};function s(I,y){var S=a;return Object.prototype.hasOwnProperty.call(S,I)?S[I]:S[I]=y(I)}function o(I,y){this.h=y;for(var S=[],C=!0,x=I.length-1;0<=x;x--){var D=I[x]|0;C&&D==y||(S[x]=D,C=!1)}this.g=S}var a={};function l(I){return-128<=I&&128>I?s(I,function(y){return new o([y|0],0>y?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return A(c(-I));for(var y=[],S=1,C=0;I>=S;C++)y[C]=I/S|0,S*=4294967296;return new o(y,0)}function h(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return A(h(I.substring(1),y));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(y,8)),C=d,x=0;x<I.length;x+=8){var D=Math.min(8,I.length-x),b=parseInt(I.substring(x,x+D),y);8>D?(D=c(Math.pow(y,D)),C=C.j(D).add(c(b))):(C=C.j(S),C=C.add(c(b)))}return C}var d=l(0),f=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-A(this).m();for(var I=0,y=1,S=0;S<this.g.length;S++){var C=this.i(S);I+=(0<=C?C:4294967296+C)*y,y*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(T(this))return"-"+A(this).toString(I);for(var y=c(Math.pow(I,6)),S=this,C="";;){var x=k(S,y).g;S=E(S,x.j(y));var D=((0<S.g.length?S.g[0]:S.h)>>>0).toString(I);if(S=x,v(S))return D+C;for(;6>D.length;)D="0"+D;C=D+C}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function T(I){return I.h==-1}t.l=function(I){return I=E(this,I),T(I)?-1:v(I)?0:1};function A(I){for(var y=I.g.length,S=[],C=0;C<y;C++)S[C]=~I.g[C];return new o(S,~I.h).add(f)}t.abs=function(){return T(this)?A(this):this},t.add=function(I){for(var y=Math.max(this.g.length,I.g.length),S=[],C=0,x=0;x<=y;x++){var D=C+(this.i(x)&65535)+(I.i(x)&65535),b=(D>>>16)+(this.i(x)>>>16)+(I.i(x)>>>16);C=b>>>16,D&=65535,b&=65535,S[x]=b<<16|D}return new o(S,S[S.length-1]&-2147483648?-1:0)};function E(I,y){return I.add(A(y))}t.j=function(I){if(v(this)||v(I))return d;if(T(this))return T(I)?A(this).j(A(I)):A(A(this).j(I));if(T(I))return A(this.j(A(I)));if(0>this.l(g)&&0>I.l(g))return c(this.m()*I.m());for(var y=this.g.length+I.g.length,S=[],C=0;C<2*y;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var x=0;x<I.g.length;x++){var D=this.i(C)>>>16,b=this.i(C)&65535,G=I.i(x)>>>16,le=I.i(x)&65535;S[2*C+2*x]+=b*le,_(S,2*C+2*x),S[2*C+2*x+1]+=D*le,_(S,2*C+2*x+1),S[2*C+2*x+1]+=b*G,_(S,2*C+2*x+1),S[2*C+2*x+2]+=D*G,_(S,2*C+2*x+2)}for(C=0;C<y;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=y;C<2*y;C++)S[C]=0;return new o(S,0)};function _(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function w(I,y){this.g=I,this.h=y}function k(I,y){if(v(y))throw Error("division by zero");if(v(I))return new w(d,d);if(T(I))return y=k(A(I),y),new w(A(y.g),A(y.h));if(T(y))return y=k(I,A(y)),new w(A(y.g),y.h);if(30<I.g.length){if(T(I)||T(y))throw Error("slowDivide_ only works with positive integers.");for(var S=f,C=y;0>=C.l(I);)S=M(S),C=M(C);var x=R(S,1),D=R(C,1);for(C=R(C,2),S=R(S,2);!v(C);){var b=D.add(C);0>=b.l(I)&&(x=x.add(S),D=b),C=R(C,1),S=R(S,1)}return y=E(I,x.j(y)),new w(x,y)}for(x=d;0<=I.l(y);){for(S=Math.max(1,Math.floor(I.m()/y.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),D=c(S),b=D.j(y);T(b)||0<b.l(I);)S-=C,D=c(S),b=D.j(y);v(D)&&(D=f),x=x.add(D),I=E(I,b)}return new w(x,I)}t.A=function(I){return k(this,I).h},t.and=function(I){for(var y=Math.max(this.g.length,I.g.length),S=[],C=0;C<y;C++)S[C]=this.i(C)&I.i(C);return new o(S,this.h&I.h)},t.or=function(I){for(var y=Math.max(this.g.length,I.g.length),S=[],C=0;C<y;C++)S[C]=this.i(C)|I.i(C);return new o(S,this.h|I.h)},t.xor=function(I){for(var y=Math.max(this.g.length,I.g.length),S=[],C=0;C<y;C++)S[C]=this.i(C)^I.i(C);return new o(S,this.h^I.h)};function M(I){for(var y=I.g.length+1,S=[],C=0;C<y;C++)S[C]=I.i(C)<<1|I.i(C-1)>>>31;return new o(S,I.h)}function R(I,y){var S=y>>5;y%=32;for(var C=I.g.length-S,x=[],D=0;D<C;D++)x[D]=0<y?I.i(D+S)>>>y|I.i(D+S+1)<<32-y:I.i(D+S);return new o(x,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vR=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Ls=o}).apply(typeof gE<"u"?gE:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _R,wR,gl,ER,Zc,lg,TR,SR,PR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,m){return u==Array.prototype||u==Object.prototype||(u[p]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var p=0;p<u.length;++p){var m=u[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var m=r;u=u.split(".");for(var P=0;P<u.length-1;P++){var V=u[P];if(!(V in m))break e;m=m[V]}u=u[u.length-1],P=m[u],p=p(P),p!=P&&p!=null&&e(m,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var m=0,P=!1,V={next:function(){if(!P&&m<u.length){var j=m++;return{value:p(j,u[j]),done:!1}}return P=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,m){return u.call.apply(u.bind,arguments)}function d(u,p,m){if(!u)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,P),u.apply(p,V)}}return function(){return u.apply(p,arguments)}}function f(u,p,m){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function g(u,p){var m=Array.prototype.slice.call(arguments,1);return function(){var P=m.slice();return P.push.apply(P,arguments),u.apply(this,P)}}function v(u,p){function m(){}m.prototype=p.prototype,u.aa=p.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(P,V,j){for(var Q=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)Q[$e-2]=arguments[$e];return p.prototype[V].apply(P,Q)}}function T(u){const p=u.length;if(0<p){const m=Array(p);for(let P=0;P<p;P++)m[P]=u[P];return m}return[]}function A(u,p){for(let m=1;m<arguments.length;m++){const P=arguments[m];if(l(P)){const V=u.length||0,j=P.length||0;u.length=V+j;for(let Q=0;Q<j;Q++)u[V+Q]=P[Q]}else u.push(P)}}class E{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function _(u){return/^[\s\xa0]*$/.test(u)}function w(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function k(u){return k[" "](u),u}k[" "]=function(){};var M=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function R(u,p,m){for(const P in u)p.call(m,u[P],P,u)}function I(u,p){for(const m in u)p.call(void 0,u[m],m,u)}function y(u){const p={};for(const m in u)p[m]=u[m];return p}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,p){let m,P;for(let V=1;V<arguments.length;V++){P=arguments[V];for(m in P)u[m]=P[m];for(let j=0;j<S.length;j++)m=S[j],Object.prototype.hasOwnProperty.call(P,m)&&(u[m]=P[m])}}function x(u){var p=1;u=u.split(":");const m=[];for(;0<p&&u.length;)m.push(u.shift()),p--;return u.length&&m.push(u.join(":")),m}function D(u){a.setTimeout(()=>{throw u},0)}function b(){var u=Z;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class G{constructor(){this.h=this.g=null}add(p,m){const P=le.get();P.set(p,m),this.h?this.h.next=P:this.g=P,this.h=P}}var le=new E(()=>new be,u=>u.reset());class be{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,q=!1,Z=new G,ie=()=>{const u=a.Promise.resolve(void 0);fe=()=>{u.then(we)}};var we=()=>{for(var u;u=b();){try{u.h.call(u.g)}catch(m){D(m)}var p=le;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}q=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return u}();function je(u,p){if(_e.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,P=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(M){e:{try{k(p.nodeName);var V=!0;break e}catch{}V=!1}V||(p=null)}}else m=="mouseover"?p=u.fromElement:m=="mouseout"&&(p=u.toElement);this.relatedTarget=p,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ue[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&je.aa.h.call(this)}}v(je,_e);var Ue={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function xt(u,p,m,P,V){this.listener=u,this.proxy=null,this.src=p,this.type=m,this.capture=!!P,this.ha=V,this.key=++Ke,this.da=this.fa=!1}function nn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function rn(u){this.src=u,this.g={},this.h=0}rn.prototype.add=function(u,p,m,P,V){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var Q=Re(u,p,P,V);return-1<Q?(p=u[Q],m||(p.fa=!1)):(p=new xt(p,this.src,j,!!P,V),p.fa=m,u.push(p)),p};function Ve(u,p){var m=p.type;if(m in u.g){var P=u.g[m],V=Array.prototype.indexOf.call(P,p,void 0),j;(j=0<=V)&&Array.prototype.splice.call(P,V,1),j&&(nn(p),u.g[m].length==0&&(delete u.g[m],u.h--))}}function Re(u,p,m,P){for(var V=0;V<u.length;++V){var j=u[V];if(!j.da&&j.listener==p&&j.capture==!!m&&j.ha==P)return V}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),pt={};function _t(u,p,m,P,V){if(Array.isArray(p)){for(var j=0;j<p.length;j++)_t(u,p[j],m,P,V);return null}return m=fi(m),u&&u[Me]?u.K(p,m,c(P)?!!P.capture:!!P,V):lo(u,p,m,!1,P,V)}function lo(u,p,m,P,V,j){if(!p)throw Error("Invalid event type");var Q=c(V)?!!V.capture:!!V,$e=Oa(u);if($e||(u[Pe]=$e=new rn(u)),m=$e.add(p,m,P,Q,j),m.proxy)return m;if(P=If(),m.proxy=P,P.src=u,P.listener=m,u.addEventListener)ke||(V=Q),V===void 0&&(V=!1),u.addEventListener(p.toString(),P,V);else if(u.attachEvent)u.attachEvent(Gu(p.toString()),P);else if(u.addListener&&u.removeListener)u.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return m}function If(){function u(m){return p.call(u.src,u.listener,m)}const p=Rf;return u}function ka(u,p,m,P,V){if(Array.isArray(p))for(var j=0;j<p.length;j++)ka(u,p[j],m,P,V);else P=c(P)?!!P.capture:!!P,m=fi(m),u&&u[Me]?(u=u.i,p=String(p).toString(),p in u.g&&(j=u.g[p],m=Re(j,m,P,V),-1<m&&(nn(j[m]),Array.prototype.splice.call(j,m,1),j.length==0&&(delete u.g[p],u.h--)))):u&&(u=Oa(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Re(p,m,P,V)),(m=-1<u?p[u]:null)&&Da(m))}function Da(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Me])Ve(p.i,u);else{var m=u.type,P=u.proxy;p.removeEventListener?p.removeEventListener(m,P,u.capture):p.detachEvent?p.detachEvent(Gu(m),P):p.addListener&&p.removeListener&&p.removeListener(P),(m=Oa(p))?(Ve(m,u),m.h==0&&(m.src=null,p[Pe]=null)):nn(u)}}}function Gu(u){return u in pt?pt[u]:pt[u]="on"+u}function Rf(u,p){if(u.da)u=!0;else{p=new je(p,this);var m=u.listener,P=u.ha||u.src;u.fa&&Da(u),u=m.call(P,p)}return u}function Oa(u){return u=u[Pe],u instanceof rn?u:null}var Ar="__closure_events_fn_"+(1e9*Math.random()>>>0);function fi(u){return typeof u=="function"?u:(u[Ar]||(u[Ar]=function(p){return u.handleEvent(p)}),u[Ar])}function wt(){ve.call(this),this.i=new rn(this),this.M=this,this.F=null}v(wt,ve),wt.prototype[Me]=!0,wt.prototype.removeEventListener=function(u,p,m,P){ka(this,u,p,m,P)};function Et(u,p){var m,P=u.F;if(P)for(m=[];P;P=P.F)m.push(P);if(u=u.M,P=p.type||p,typeof p=="string")p=new _e(p,u);else if(p instanceof _e)p.target=p.target||u;else{var V=p;p=new _e(P,u),C(p,V)}if(V=!0,m)for(var j=m.length-1;0<=j;j--){var Q=p.g=m[j];V=wn(Q,P,!0,p)&&V}if(Q=p.g=u,V=wn(Q,P,!0,p)&&V,V=wn(Q,P,!1,p)&&V,m)for(j=0;j<m.length;j++)Q=p.g=m[j],V=wn(Q,P,!1,p)&&V}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var m=u.g[p],P=0;P<m.length;P++)nn(m[P]);delete u.g[p],u.h--}}this.F=null},wt.prototype.K=function(u,p,m,P){return this.i.add(String(u),p,!1,m,P)},wt.prototype.L=function(u,p,m,P){return this.i.add(String(u),p,!0,m,P)};function wn(u,p,m,P){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var V=!0,j=0;j<p.length;++j){var Q=p[j];if(Q&&!Q.da&&Q.capture==m){var $e=Q.listener,kt=Q.ha||Q.src;Q.fa&&Ve(u.i,Q),V=$e.call(kt,P)!==!1&&V}}return V&&!P.defaultPrevented}function Ln(u,p,m){if(typeof u=="function")m&&(u=f(u,m));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function Na(u){u.g=Ln(()=>{u.g=null,u.i&&(u.i=!1,Na(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class uo extends ve{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Na(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(u){ve.call(this),this.h=u,this.g={}}v(ds,ve);var Kn=[];function La(u){R(u.g,function(p,m){this.g.hasOwnProperty(m)&&Da(p)},u),u.g={}}ds.prototype.N=function(){ds.aa.N.call(this),La(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var co=a.JSON.stringify,Qu=a.JSON.parse,Af=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ho(){}ho.prototype.h=null;function fs(u){return u.h||(u.h=u.i())}function Ma(){}var Cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){_e.call(this,"d")}v(pi,_e);function ps(){_e.call(this,"c")}v(ps,_e);var xr={},Va=null;function fo(){return Va=Va||new wt}xr.La="serverreachability";function Fa(u){_e.call(this,xr.La,u)}v(Fa,_e);function br(u){const p=fo();Et(p,new Fa(p))}xr.STAT_EVENT="statevent";function ms(u,p){_e.call(this,xr.STAT_EVENT,u),this.stat=p}v(ms,_e);function bt(u){const p=fo();Et(p,new ms(p,u))}xr.Ma="timingevent";function Xu(u,p){_e.call(this,xr.Ma,u),this.size=p}v(Xu,_e);function O(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function N(){this.g=!0}N.prototype.xa=function(){this.g=!1};function F(u,p,m,P,V,j){u.info(function(){if(u.g)if(j)for(var Q="",$e=j.split("&"),kt=0;kt<$e.length;kt++){var Oe=$e[kt].split("=");if(1<Oe.length){var $t=Oe[0];Oe=Oe[1];var Wt=$t.split("_");Q=2<=Wt.length&&Wt[1]=="type"?Q+($t+"="+Oe+"&"):Q+($t+"=redacted&")}}else Q=null;else Q=j;return"XMLHTTP REQ ("+P+") [attempt "+V+"]: "+p+`
`+m+`
`+Q})}function z(u,p,m,P,V,j,Q){u.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+V+"]: "+p+`
`+m+`
`+j+" "+Q})}function X(u,p,m,P){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+oe(u,m)+(P?" "+P:"")})}function ee(u,p){u.info(function(){return"TIMEOUT: "+p})}N.prototype.info=function(){};function oe(u,p){if(!u.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var P=m[u];if(!(2>P.length)){var V=P[1];if(Array.isArray(V)&&!(1>V.length)){var j=V[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Q=1;Q<V.length;Q++)V[Q]=""}}}}return co(m)}catch{return p}}var K={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},he={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},te;function ne(){}v(ne,ho),ne.prototype.g=function(){return new XMLHttpRequest},ne.prototype.i=function(){return{}},te=new ne;function Ee(u,p,m,P){this.j=u,this.i=p,this.l=m,this.R=P||1,this.U=new ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}var Le={},Ae={};function ct(u,p,m){u.L=1,u.v=ec(Dr(p)),u.m=m,u.P=!0,tt(u,null)}function tt(u,p){u.F=Date.now(),Gn(u),u.A=Dr(u.v);var m=u.A,P=u.R;Array.isArray(P)||(P=[String(P)]),D0(m.i,"t",P),u.C=0,m=u.j.J,u.h=new De,u.g=X0(u.j,m?p:null,!u.m),0<u.O&&(u.M=new uo(f(u.Y,u,u.g),u.O)),p=u.U,m=u.g,P=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(Kn[0]=V.toString()),V=Kn);for(var j=0;j<V.length;j++){var Q=_t(m,V[j],P||p.handleEvent,!1,p.h||p);if(!Q)break;p.g[Q.key]=Q}p=u.H?y(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),br(),F(u.i,u.u,u.A,u.l,u.R,u.m)}Ee.prototype.ca=function(u){u=u.target;const p=this.M;p&&Or(u)==3?p.j():this.Y(u)},Ee.prototype.Y=function(u){try{if(u==this.g)e:{const Wt=Or(this.g);var p=this.g.Ba();const yo=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||j0(this.g)))){this.J||Wt!=4||p==7||(p==8||0>=yo?br(3):br(2)),dr(this);var m=this.g.Z();this.X=m;t:if(mi(this)){var P=j0(this.g);u="";var V=P.length,j=Or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),Bt(this);var Q="";break t}this.h.i=new a.TextDecoder}for(p=0;p<V;p++)this.h.h=!0,u+=this.h.i.decode(P[p],{stream:!(j&&p==V-1)});P.length=0,this.h.g+=u,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=m==200,z(this.i,this.u,this.A,this.l,this.R,Wt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,kt=this.g;if(($e=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_($e)){var Oe=$e;break t}}Oe=null}if(m=Oe)X(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gi(this,m);else{this.o=!1,this.s=3,bt(12),Mn(this),Bt(this);break e}}if(this.P){m=!0;let Qn;for(;!this.J&&this.C<Q.length;)if(Qn=hr(this,Q),Qn==Ae){Wt==4&&(this.s=4,bt(14),m=!1),X(this.i,this.l,null,"[Incomplete Response]");break}else if(Qn==Le){this.s=4,bt(15),X(this.i,this.l,Q,"[Invalid Chunk]"),m=!1;break}else X(this.i,this.l,Qn,null),gi(this,Qn);if(mi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||Q.length!=0||this.h.h||(this.s=1,bt(16),m=!1),this.o=this.o&&m,!m)X(this.i,this.l,Q,"[Invalid Chunked Response]"),Mn(this),Bt(this);else if(0<Q.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),kf($t),$t.M=!0,bt(11))}}else X(this.i,this.l,Q,null),gi(this,Q);Wt==4&&Mn(this),this.o&&!this.J&&(Wt==4?q0(this.j,this):(this.o=!1,Gn(this)))}else xb(this.g),m==400&&0<Q.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),Mn(this),Bt(this)}}}catch{}finally{}};function mi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function hr(u,p){var m=u.C,P=p.indexOf(`
`,m);return P==-1?Ae:(m=Number(p.substring(m,P)),isNaN(m)?Le:(P+=1,P+m>p.length?Ae:(p=p.slice(P,P+m),u.C=P+m,p)))}Ee.prototype.cancel=function(){this.J=!0,Mn(this)};function Gn(u){u.S=Date.now()+u.I,kr(u,u.I)}function kr(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=O(f(u.ba,u),p)}function dr(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ee.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ee(this.i,this.A),this.L!=2&&(br(),bt(17)),Mn(this),this.s=2,Bt(this)):kr(this,this.S-u)};function Bt(u){u.j.G==0||u.J||q0(u.j,u)}function Mn(u){dr(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,La(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function gi(u,p){try{var m=u.j;if(m.G!=0&&(m.g==u||Be(m.h,u))){if(!u.K&&Be(m.h,u)&&m.G==3){try{var P=m.Da.g.parse(p)}catch{P=null}if(Array.isArray(P)&&P.length==3){var V=P;if(V[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)sc(m),rc(m);else break e;bf(m),bt(18)}}else m.za=V[1],0<m.za-m.T&&37500>V[2]&&m.F&&m.v==0&&!m.C&&(m.C=O(f(m.Za,m),6e3));if(1>=zt(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ys(m,11)}else if((u.K||m.g==u)&&sc(m),!_(p))for(V=m.Da.g.parse(p),p=0;p<V.length;p++){let Oe=V[p];if(m.T=Oe[0],Oe=Oe[1],m.G==2)if(Oe[0]=="c"){m.K=Oe[1],m.ia=Oe[2];const $t=Oe[3];$t!=null&&(m.la=$t,m.j.info("VER="+m.la));const Wt=Oe[4];Wt!=null&&(m.Aa=Wt,m.j.info("SVER="+m.Aa));const yo=Oe[5];yo!=null&&typeof yo=="number"&&0<yo&&(P=1.5*yo,m.L=P,m.j.info("backChannelRequestTimeoutMs_="+P)),P=m;const Qn=u.g;if(Qn){const ac=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ac){var j=P.h;j.g||ac.indexOf("spdy")==-1&&ac.indexOf("quic")==-1&&ac.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(En(j,j.h),j.h=null))}if(P.D){const Df=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Df&&(P.ya=Df,Qe(P.I,P.D,Df))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),P=m;var Q=u;if(P.qa=Q0(P,P.J?P.ia:null,P.W),Q.K){ja(P.h,Q);var $e=Q,kt=P.L;kt&&($e.I=kt),$e.B&&(dr($e),Gn($e)),P.g=Q}else W0(P);0<m.i.length&&ic(m)}else Oe[0]!="stop"&&Oe[0]!="close"||ys(m,7);else m.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?ys(m,7):xf(m):Oe[0]!="noop"&&m.l&&m.l.ta(Oe),m.v=0)}}br(4)}catch{}}var po=class{constructor(u,p){this.g=u,this.map=p}};function pe(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ge(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function zt(u){return u.h?1:u.g?u.g.size:0}function Be(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function En(u,p){u.g?u.g.add(p):u.h=p}function ja(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}pe.prototype.cancel=function(){if(this.i=Yu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Yu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const m of u.g.values())p=p.concat(m.D);return p}return T(u.i)}function pb(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],m=u.length,P=0;P<m;P++)p.push(u[P]);return p}p=[],m=0;for(P in u)p[m++]=u[P];return p}function mb(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var m=0;m<u;m++)p.push(m);return p}p=[],m=0;for(const P in u)p[m++]=P;return p}}}function R0(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var m=mb(u),P=pb(u),V=P.length,j=0;j<V;j++)p.call(void 0,P[j],m&&m[j],u)}var A0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gb(u,p){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var P=u[m].indexOf("="),V=null;if(0<=P){var j=u[m].substring(0,P);V=u[m].substring(P+1)}else j=u[m];p(j,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function gs(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof gs){this.h=u.h,Ju(this,u.j),this.o=u.o,this.g=u.g,Zu(this,u.s),this.l=u.l;var p=u.i,m=new za;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),C0(this,m),this.m=u.m}else u&&(p=String(u).match(A0))?(this.h=!1,Ju(this,p[1]||"",!0),this.o=Ua(p[2]||""),this.g=Ua(p[3]||"",!0),Zu(this,p[4]),this.l=Ua(p[5]||"",!0),C0(this,p[6]||"",!0),this.m=Ua(p[7]||"")):(this.h=!1,this.i=new za(null,this.h))}gs.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Ba(p,x0,!0),":");var m=this.g;return(m||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Ba(p,x0,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(Ba(m,m.charAt(0)=="/"?_b:vb,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",Ba(m,Eb)),u.join("")};function Dr(u){return new gs(u)}function Ju(u,p,m){u.j=m?Ua(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Zu(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function C0(u,p,m){p instanceof za?(u.i=p,Tb(u.i,u.h)):(m||(p=Ba(p,wb)),u.i=new za(p,u.h))}function Qe(u,p,m){u.i.set(p,m)}function ec(u){return Qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ua(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ba(u,p,m){return typeof u=="string"?(u=encodeURI(u).replace(p,yb),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yb(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var x0=/[#\/\?@]/g,vb=/[#\?:]/g,_b=/[#\?]/g,wb=/[#\?@]/g,Eb=/#/g;function za(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function yi(u){u.g||(u.g=new Map,u.h=0,u.i&&gb(u.i,function(p,m){u.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}t=za.prototype,t.add=function(u,p){yi(this),this.i=null,u=mo(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(p),this.h+=1,this};function b0(u,p){yi(u),p=mo(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function k0(u,p){return yi(u),p=mo(u,p),u.g.has(p)}t.forEach=function(u,p){yi(this),this.g.forEach(function(m,P){m.forEach(function(V){u.call(p,V,P,this)},this)},this)},t.na=function(){yi(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let P=0;P<p.length;P++){const V=u[P];for(let j=0;j<V.length;j++)m.push(p[P])}return m},t.V=function(u){yi(this);let p=[];if(typeof u=="string")k0(this,u)&&(p=p.concat(this.g.get(mo(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)p=p.concat(u[m])}return p},t.set=function(u,p){return yi(this),this.i=null,u=mo(this,u),k0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function D0(u,p,m){b0(u,p),0<m.length&&(u.i=null,u.g.set(mo(u,p),T(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var P=p[m];const j=encodeURIComponent(String(P)),Q=this.V(P);for(P=0;P<Q.length;P++){var V=j;Q[P]!==""&&(V+="="+encodeURIComponent(String(Q[P]))),u.push(V)}}return this.i=u.join("&")};function mo(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Tb(u,p){p&&!u.j&&(yi(u),u.i=null,u.g.forEach(function(m,P){var V=P.toLowerCase();P!=V&&(b0(this,P),D0(this,V,m))},u)),u.j=p}function Sb(u,p){const m=new N;if(a.Image){const P=new Image;P.onload=g(vi,m,"TestLoadImage: loaded",!0,p,P),P.onerror=g(vi,m,"TestLoadImage: error",!1,p,P),P.onabort=g(vi,m,"TestLoadImage: abort",!1,p,P),P.ontimeout=g(vi,m,"TestLoadImage: timeout",!1,p,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=u}else p(!1)}function Pb(u,p){const m=new N,P=new AbortController,V=setTimeout(()=>{P.abort(),vi(m,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:P.signal}).then(j=>{clearTimeout(V),j.ok?vi(m,"TestPingServer: ok",!0,p):vi(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),vi(m,"TestPingServer: error",!1,p)})}function vi(u,p,m,P,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),P(m)}catch{}}function Ib(){this.g=new Af}function Rb(u,p,m){const P=m||"";try{R0(u,function(V,j){let Q=V;c(V)&&(Q=co(V)),p.push(P+j+"="+encodeURIComponent(Q))})}catch(V){throw p.push(P+"type="+encodeURIComponent("_badmap")),V}}function $a(u){this.l=u.Ub||null,this.j=u.eb||!1}v($a,ho),$a.prototype.g=function(){return new tc(this.l,this.j)},$a.prototype.i=function(u){return function(){return u}}({});function tc(u,p){wt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(tc,wt),t=tc.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Ha(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wa(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ha(this)),this.g&&(this.readyState=3,Ha(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;O0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function O0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Wa(this):Ha(this),this.readyState==3&&O0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Wa(this))},t.Qa=function(u){this.g&&(this.response=u,Wa(this))},t.ga=function(){this.g&&Wa(this)};function Wa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ha(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=p.next();return u.join(`\r
`)};function Ha(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(tc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function N0(u){let p="";return R(u,function(m,P){p+=P,p+=":",p+=m,p+=`\r
`}),p}function Cf(u,p,m){e:{for(P in m){var P=!1;break e}P=!0}P||(m=N0(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):Qe(u,p,m))}function lt(u){wt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(lt,wt);var Ab=/^https?$/i,Cb=["POST","PUT"];t=lt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,m,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():te.g(),this.v=this.o?fs(this.o):fs(te),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(j){L0(this,j);return}if(u=m||"",m=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var V in P)m.set(V,P[V]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const j of P.keys())m.set(j,P.get(j));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Cb,p,void 0))||P||V||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Q]of m)this.g.setRequestHeader(j,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{F0(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){L0(this,j)}};function L0(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,M0(u),nc(u)}function M0(u){u.A||(u.A=!0,Et(u,"complete"),Et(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Et(this,"complete"),Et(this,"abort"),nc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nc(this,!0)),lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?V0(this):this.bb())},t.bb=function(){V0(this)};function V0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Or(u)!=4||u.Z()!=2)){if(u.u&&Or(u)==4)Ln(u.Ea,0,u);else if(Et(u,"readystatechange"),Or(u)==4){u.h=!1;try{const Q=u.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var P;if(P=Q===0){var V=String(u.D).match(A0)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),P=!Ab.test(V?V.toLowerCase():"")}m=P}if(m)Et(u,"complete"),Et(u,"success");else{u.m=6;try{var j=2<Or(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",M0(u)}}finally{nc(u)}}}}function nc(u,p){if(u.g){F0(u);const m=u.g,P=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Et(u,"ready");try{m.onreadystatechange=P}catch{}}}function F0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Or(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Qu(p)}};function j0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function xb(u){const p={};u=(u.g&&2<=Or(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<u.length;P++){if(_(u[P]))continue;var m=x(u[P]);const V=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=p[V]||[];p[V]=j,j.push(m)}I(p,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qa(u,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||p}function U0(u){this.Aa=0,this.i=[],this.j=new N,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qa("baseRetryDelayMs",5e3,u),this.cb=qa("retryDelaySeedMs",1e4,u),this.Wa=qa("forwardChannelMaxRetries",2,u),this.wa=qa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new pe(u&&u.concurrentRequestLimit),this.Da=new Ib,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=U0.prototype,t.la=8,t.G=1,t.connect=function(u,p,m,P){bt(0),this.W=u,this.H=p||{},m&&P!==void 0&&(this.H.OSID=m,this.H.OAID=P),this.F=this.X,this.I=Q0(this,null,this.W),ic(this)};function xf(u){if(B0(u),u.G==3){var p=u.U++,m=Dr(u.I);if(Qe(m,"SID",u.K),Qe(m,"RID",p),Qe(m,"TYPE","terminate"),Ka(u,m),p=new Ee(u,u.j,p),p.L=2,p.v=ec(Dr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=p.v,m=!0),m||(p.g=X0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Gn(p)}G0(u)}function rc(u){u.g&&(kf(u),u.g.cancel(),u.g=null)}function B0(u){rc(u),u.u&&(a.clearTimeout(u.u),u.u=null),sc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function ic(u){if(!Ge(u.h)&&!u.s){u.s=!0;var p=u.Ga;fe||ie(),q||(fe(),q=!0),Z.add(p,u),u.B=0}}function bb(u,p){return zt(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=O(f(u.Ga,u,p),K0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new Ee(this,this.j,u);let j=this.o;if(this.S&&(j?(j=y(j),C(j,this.S)):j=this.S),this.m!==null||this.O||(V.H=j,j=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var P=this.i[m];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(p+=P,4096<p){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=$0(this,V,p),m=Dr(this.I),Qe(m,"RID",u),Qe(m,"CVER",22),this.D&&Qe(m,"X-HTTP-Session-Id",this.D),Ka(this,m),j&&(this.O?p="headers="+encodeURIComponent(String(N0(j)))+"&"+p:this.m&&Cf(m,this.m,j)),En(this.h,V),this.Ua&&Qe(m,"TYPE","init"),this.P?(Qe(m,"$req",p),Qe(m,"SID","null"),V.T=!0,ct(V,m,null)):ct(V,m,p),this.G=2}}else this.G==3&&(u?z0(this,u):this.i.length==0||Ge(this.h)||z0(this))};function z0(u,p){var m;p?m=p.l:m=u.U++;const P=Dr(u.I);Qe(P,"SID",u.K),Qe(P,"RID",m),Qe(P,"AID",u.T),Ka(u,P),u.m&&u.o&&Cf(P,u.m,u.o),m=new Ee(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),p&&(u.i=p.D.concat(u.i)),p=$0(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),En(u.h,m),ct(m,P,p)}function Ka(u,p){u.H&&R(u.H,function(m,P){Qe(p,P,m)}),u.l&&R0({},function(m,P){Qe(p,P,m)})}function $0(u,p,m){m=Math.min(u.i.length,m);var P=u.l?f(u.l.Na,u.l,u):null;e:{var V=u.i;let j=-1;for(;;){const Q=["count="+m];j==-1?0<m?(j=V[0].g,Q.push("ofs="+j)):j=0:Q.push("ofs="+j);let $e=!0;for(let kt=0;kt<m;kt++){let Oe=V[kt].g;const $t=V[kt].map;if(Oe-=j,0>Oe)j=Math.max(0,V[kt].g-100),$e=!1;else try{Rb($t,Q,"req"+Oe+"_")}catch{P&&P($t)}}if($e){P=Q.join("&");break e}}}return u=u.i.splice(0,m),p.D=u,P}function W0(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;fe||ie(),q||(fe(),q=!0),Z.add(p,u),u.v=0}}function bf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=O(f(u.Fa,u),K0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,H0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=O(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),rc(this),H0(this))};function kf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function H0(u){u.g=new Ee(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Dr(u.qa);Qe(p,"RID","rpc"),Qe(p,"SID",u.K),Qe(p,"AID",u.T),Qe(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qe(p,"TO",u.ja),Qe(p,"TYPE","xmlhttp"),Ka(u,p),u.m&&u.o&&Cf(p,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=ec(Dr(p)),m.m=null,m.P=!0,tt(m,u)}t.Za=function(){this.C!=null&&(this.C=null,rc(this),bf(this),bt(19))};function sc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function q0(u,p){var m=null;if(u.g==p){sc(u),kf(u),u.g=null;var P=2}else if(Be(u.h,p))m=p.D,ja(u.h,p),P=1;else return;if(u.G!=0){if(p.o)if(P==1){m=p.m?p.m.length:0,p=Date.now()-p.F;var V=u.B;P=fo(),Et(P,new Xu(P,m)),ic(u)}else W0(u);else if(V=p.s,V==3||V==0&&0<p.X||!(P==1&&bb(u,p)||P==2&&bf(u)))switch(m&&0<m.length&&(p=u.h,p.i=p.i.concat(m)),V){case 1:ys(u,5);break;case 4:ys(u,10);break;case 3:ys(u,6);break;default:ys(u,2)}}}function K0(u,p){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*p}function ys(u,p){if(u.j.info("Error code "+p),p==2){var m=f(u.fb,u),P=u.Xa;const V=!P;P=new gs(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ju(P,"https"),ec(P),V?Sb(P.toString(),m):Pb(P.toString(),m)}else bt(2);u.G=0,u.l&&u.l.sa(p),G0(u),B0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function G0(u){if(u.G=0,u.ka=[],u.l){const p=Yu(u.h);(p.length!=0||u.i.length!=0)&&(A(u.ka,p),A(u.ka,u.i),u.h.i.length=0,T(u.i),u.i.length=0),u.l.ra()}}function Q0(u,p,m){var P=m instanceof gs?Dr(m):new gs(m);if(P.g!="")p&&(P.g=p+"."+P.g),Zu(P,P.s);else{var V=a.location;P=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;var j=new gs(null);P&&Ju(j,P),p&&(j.g=p),V&&Zu(j,V),m&&(j.l=m),P=j}return m=u.D,p=u.ya,m&&p&&Qe(P,m,p),Qe(P,"VER",u.la),Ka(u,P),P}function X0(u,p,m){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new lt(new $a({eb:m})):new lt(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Y0(){}t=Y0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function oc(){}oc.prototype.g=function(u,p){return new Tn(u,p)};function Tn(u,p){wt.call(this),this.g=new U0(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!_(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!_(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new go(this)}v(Tn,wt),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){xf(this.g)},Tn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=co(u),u=m);p.i.push(new po(p.Ya++,u)),p.G==3&&ic(p)},Tn.prototype.N=function(){this.g.l=null,delete this.j,xf(this.g),delete this.g,Tn.aa.N.call(this)};function J0(u){pi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const m in p){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}v(J0,pi);function Z0(){ps.call(this),this.status=1}v(Z0,ps);function go(u){this.g=u}v(go,Y0),go.prototype.ua=function(){Et(this.g,"a")},go.prototype.ta=function(u){Et(this.g,new J0(u))},go.prototype.sa=function(u){Et(this.g,new Z0)},go.prototype.ra=function(){Et(this.g,"b")},oc.prototype.createWebChannel=oc.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,PR=function(){return new oc},SR=function(){return fo()},TR=xr,lg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},K.NO_ERROR=0,K.TIMEOUT=8,K.HTTP_ERROR=6,Zc=K,he.COMPLETE="complete",ER=he,Ma.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",wt.prototype.listen=wt.prototype.K,gl=Ma,wR=$a,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,_R=lt}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const yE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new ev("@firebase/firestore");function sl(){return Xs.logLevel}function J(t,...e){if(Xs.logLevel<=Ie.DEBUG){const n=e.map(dv);Xs.debug(`Firestore (${Pa}): ${t}`,...n)}}function ii(t,...e){if(Xs.logLevel<=Ie.ERROR){const n=e.map(dv);Xs.error(`Firestore (${Pa}): ${t}`,...n)}}function ua(t,...e){if(Xs.logLevel<=Ie.WARN){const n=e.map(dv);Xs.warn(`Firestore (${Pa}): ${t}`,...n)}}function dv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${Pa}) INTERNAL ASSERTION FAILED: `+t;throw ii(e),new Error(e)}function qe(t,e){t||ce()}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class nj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rj{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Kr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Kr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new IR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Qt(e)}}class ij{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ij(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.R=n.token,new oj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=lj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function ca(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new It(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new It(0,0))}static max(){return new de(new It(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class et extends hu{construct(e,n,r){return new et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new et(n)}static emptyPath(){return new et([])}}const uj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends hu{construct(e,n,r){return new Mt(e,n,r)}static isValidIdentifier(e){return uj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new re($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new re($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new re($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new re($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(n)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(et.fromString(e))}static fromName(e){return new se(et.fromString(e).popFirst(5))}static empty(){return new se(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new et(e.slice()))}}function cj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new It(n+1,0):new It(n,r));return new Ji(i,se.empty(),e)}function hj(t){return new Ji(t.readTime,t.key,-1)}class Ji{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ji(de.min(),se.empty(),-1)}static max(){return new Ji(de.max(),se.empty(),-1)}}function dj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mu(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==fj)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(i=>i?W.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new W((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new W((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function mj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}fv.oe=-1;function Gd(t){return t==null}function ed(t){return t===0&&1/t==-1/0}function gj(t){return typeof t=="number"&&Number.isInteger(t)&&!ed(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function io(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}}class Cc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Lt.RED,this.left=i??Lt.EMPTY,this.right=s??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Lt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _E(this.data.getIterator())}getIteratorFrom(e){return new _E(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class _E{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new An([])}unionWith(e){let n=new Ft(Mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ca(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new CR("Invalid base64 string: "+s):s}}(e);return new tn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const yj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(t){if(qe(!!t),typeof t=="string"){let e=0;const n=yj.exec(t);if(qe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(t.seconds),nanos:yt(t.nanos)}}function yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ys(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function mv(t){const e=t.mapValue.fields.__previous_value__;return pv(e)?mv(e):e}function du(t){const e=Zi(t.mapValue.fields.__local_write_time__.timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class fu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pv(t)?4:_j(t)?9007199254740991:10:ce()}function Pr(t,e){if(t===e)return!0;const n=Js(t);if(n!==Js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return du(t).isEqual(du(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Zi(i.timestampValue),a=Zi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ys(i.bytesValue).isEqual(Ys(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return yt(i.geoPointValue.latitude)===yt(s.geoPointValue.latitude)&&yt(i.geoPointValue.longitude)===yt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return yt(i.integerValue)===yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=yt(i.doubleValue),a=yt(s.doubleValue);return o===a?ed(o)===ed(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ca(t.arrayValue.values||[],e.arrayValue.values||[],Pr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(vE(o)!==vE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Pr(o[l],a[l])))return!1;return!0}(t,e);default:return ce()}}function pu(t,e){return(t.values||[]).find(n=>Pr(n,e))!==void 0}function ha(t,e){if(t===e)return 0;const n=Js(t),r=Js(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=yt(s.integerValue||s.doubleValue),l=yt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return wE(t.timestampValue,e.timestampValue);case 4:return wE(du(t),du(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ys(s),l=Ys(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=Ne(a[c],l[c]);if(h!==0)return h}return Ne(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ne(yt(s.latitude),yt(o.latitude));return a!==0?a:Ne(yt(s.longitude),yt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const h=ha(a[c],l[c]);if(h)return h}return Ne(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===xc.mapValue&&o===xc.mapValue)return 0;if(s===xc.mapValue)return 1;if(o===xc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=Ne(l[d],h[d]);if(f!==0)return f;const g=ha(a[l[d]],c[h[d]]);if(g!==0)return g}return Ne(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ce()}}function wE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=Zi(t),r=Zi(e),i=Ne(n.seconds,r.seconds);return i!==0?i:Ne(n.nanos,r.nanos)}function da(t){return ug(t)}function ug(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ug(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ug(n.fields[o])}`;return i+"}"}(t.mapValue):ce()}function cg(t){return!!t&&"integerValue"in t}function gv(t){return!!t&&"arrayValue"in t}function EE(t){return!!t&&"nullValue"in t}function TE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function eh(t){return!!t&&"mapValue"in t}function Ol(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return io(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ol(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _j(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=Mt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ol(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];eh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){io(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new fn(Ol(this.value))}}function xR(t){const e=[];return io(t.fields,(n,r)=>{const i=new Mt([n]);if(eh(r)){const s=xR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Yt(e,0,de.min(),de.min(),de.min(),fn.empty(),0)}static newFoundDocument(e,n,r,i){return new Yt(e,1,n,de.min(),r,i,0)}static newNoDocument(e,n){return new Yt(e,2,n,de.min(),de.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,de.min(),de.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n){this.position=e,this.inclusive=n}}function SE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=ha(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function PE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Pr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n="asc"){this.field=e,this.dir=n}}function wj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{}class St extends bR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Tj(e,n,r):n==="array-contains"?new Ij(e,r):n==="in"?new Rj(e,r):n==="not-in"?new Aj(e,r):n==="array-contains-any"?new Cj(e,r):new St(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Sj(e,r):new Pj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ha(n,this.value)):n!==null&&Js(this.value)===Js(n)&&this.matchesComparison(ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends bR{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ir(e,n)}matches(e){return kR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function kR(t){return t.op==="and"}function DR(t){return Ej(t)&&kR(t)}function Ej(t){for(const e of t.filters)if(e instanceof Ir)return!1;return!0}function hg(t){if(t instanceof St)return t.field.canonicalString()+t.op.toString()+da(t.value);if(DR(t))return t.filters.map(e=>hg(e)).join(",");{const e=t.filters.map(n=>hg(n)).join(",");return`${t.op}(${e})`}}function OR(t,e){return t instanceof St?function(r,i){return i instanceof St&&r.op===i.op&&r.field.isEqual(i.field)&&Pr(r.value,i.value)}(t,e):t instanceof Ir?function(r,i){return i instanceof Ir&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&OR(o,i.filters[a]),!0):!1}(t,e):void ce()}function NR(t){return t instanceof St?function(n){return`${n.field.canonicalString()} ${n.op} ${da(n.value)}`}(t):t instanceof Ir?function(n){return n.op.toString()+" {"+n.getFilters().map(NR).join(" ,")+"}"}(t):"Filter"}class Tj extends St{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class Sj extends St{constructor(e,n){super(e,"in",n),this.keys=LR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Pj extends St{constructor(e,n){super(e,"not-in",n),this.keys=LR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class Ij extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gv(n)&&pu(n.arrayValue,this.value)}}class Rj extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pu(this.value.arrayValue,n)}}class Aj extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!pu(this.value.arrayValue,n)}}class Cj extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function IE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new xj(t,e,n,r,i,s,o)}function yv(t){const e=me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>da(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>da(r)).join(",")),e.ue=n}return e.ue}function vv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!OR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PE(t.startAt,e.startAt)&&PE(t.endAt,e.endAt)}function dg(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function bj(t,e,n,r,i,s,o,a){return new Qd(t,e,n,r,i,s,o,a)}function _v(t){return new Qd(t)}function RE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kj(t){return t.collectionGroup!==null}function Nl(t){const e=me(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ft(Mt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new nd(s,r))}),n.has(Mt.keyField().canonicalString())||e.ce.push(new nd(Mt.keyField(),r))}return e.ce}function Er(t){const e=me(t);return e.le||(e.le=Dj(e,Nl(t))),e.le}function Dj(t,e){if(t.limitType==="F")return IE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new nd(i.field,s)});const n=t.endAt?new td(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new td(t.startAt.position,t.startAt.inclusive):null;return IE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fg(t,e,n){return new Qd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xd(t,e){return vv(Er(t),Er(e))&&t.limitType===e.limitType}function MR(t){return`${yv(Er(t))}|lt:${t.limitType}`}function wo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>NR(i)).join(", ")}]`),Gd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>da(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>da(i)).join(",")),`Target(${r})`}(Er(t))}; limitType=${t.limitType})`}function Yd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):se.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Nl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=SE(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Nl(r),i)||r.endAt&&!function(o,a,l){const c=SE(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Nl(r),i))}(t,e)}function Oj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VR(t){return(e,n)=>{let r=!1;for(const i of Nl(t)){const s=Nj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Nj(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?ha(l,c):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return AR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=new at(se.comparator);function si(){return Lj}const FR=new at(se.comparator);function yl(...t){let e=FR;for(const n of t)e=e.insert(n.key,n);return e}function jR(t){let e=FR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ks(){return Ll()}function UR(){return Ll()}function Ll(){return new Ia(t=>t.toString(),(t,e)=>t.isEqual(e))}const Mj=new at(se.comparator),Vj=new Ft(se.comparator);function Se(...t){let e=Vj;for(const n of t)e=e.add(n);return e}const Fj=new Ft(Ne);function jj(){return Fj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ed(e)?"-0":e}}function zR(t){return{integerValue:""+t}}function Uj(t,e){return gj(e)?zR(e):BR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(){this._=void 0}}function Bj(t,e,n){return t instanceof rd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&pv(s)&&(s=mv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof mu?WR(t,e):t instanceof gu?HR(t,e):function(i,s){const o=$R(i,s),a=AE(o)+AE(i.Pe);return cg(o)&&cg(i.Pe)?zR(a):BR(i.serializer,a)}(t,e)}function zj(t,e,n){return t instanceof mu?WR(t,e):t instanceof gu?HR(t,e):n}function $R(t,e){return t instanceof id?function(r){return cg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class rd extends Jd{}class mu extends Jd{constructor(e){super(),this.elements=e}}function WR(t,e){const n=qR(e);for(const r of t.elements)n.some(i=>Pr(i,r))||n.push(r);return{arrayValue:{values:n}}}class gu extends Jd{constructor(e){super(),this.elements=e}}function HR(t,e){let n=qR(e);for(const r of t.elements)n=n.filter(i=>!Pr(i,r));return{arrayValue:{values:n}}}class id extends Jd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function AE(t){return yt(t.integerValue||t.doubleValue)}function qR(t){return gv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $j(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof mu&&i instanceof mu||r instanceof gu&&i instanceof gu?ca(r.elements,i.elements,Pr):r instanceof id&&i instanceof id?Pr(r.Pe,i.Pe):r instanceof rd&&i instanceof rd}(t.transform,e.transform)}class Wj{constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zd{}function KR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wv(t.key,$n.none()):new Fu(t.key,t.data,$n.none());{const n=t.data,r=fn.empty();let i=new Ft(Mt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new us(t.key,r,new An(i.toArray()),$n.none())}}function Hj(t,e,n){t instanceof Fu?function(i,s,o){const a=i.value.clone(),l=xE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof us?function(i,s,o){if(!th(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=xE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(GR(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ml(t,e,n,r){return t instanceof Fu?function(s,o,a,l){if(!th(s.precondition,o))return a;const c=s.value.clone(),h=bE(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof us?function(s,o,a,l){if(!th(s.precondition,o))return a;const c=bE(s.fieldTransforms,l,o),h=o.data;return h.setAll(GR(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return th(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function qj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=$R(r.transform,i||null);s!=null&&(n===null&&(n=fn.empty()),n.set(r.field,s))}return n||null}function CE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ca(r,i,(s,o)=>$j(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fu extends Zd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class us extends Zd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function GR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xE(t,e,n){const r=new Map;qe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,zj(o,a,n[i]))}return r}function bE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Bj(s,o,e))}return r}class wv extends Zd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kj extends Zd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Hj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ml(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ml(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=UR();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=KR(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&ca(this.mutations,e.mutations,(n,r)=>CE(n,r))&&ca(this.baseMutations,e.baseMutations,(n,r)=>CE(n,r))}}class Ev{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){qe(e.mutations.length===r.length);let i=function(){return Mj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Ev(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Ce;function Yj(t){switch(t){default:return ce();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function QR(t){if(t===void 0)return ii("GRPC error has no .code"),$.UNKNOWN;switch(t){case mt.OK:return $.OK;case mt.CANCELLED:return $.CANCELLED;case mt.UNKNOWN:return $.UNKNOWN;case mt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case mt.INTERNAL:return $.INTERNAL;case mt.UNAVAILABLE:return $.UNAVAILABLE;case mt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case mt.NOT_FOUND:return $.NOT_FOUND;case mt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case mt.ABORTED:return $.ABORTED;case mt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case mt.DATA_LOSS:return $.DATA_LOSS;default:return ce()}}(Ce=mt||(mt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=new Ls([4294967295,4294967295],0);function kE(t){const e=Jj().encode(t),n=new vR;return n.update(e),new Uint8Array(n.digest())}function DE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ls([n,r],0),new Ls([i,s],0)]}class Tv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vl(`Invalid padding: ${n}`);if(r<0)throw new vl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ls.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ls.fromNumber(r)));return i.compare(Zj)===1&&(i=new Ls([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=kE(e),[r,i]=DE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Tv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=kE(e),[r,i]=DE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ef(de.min(),i,new at(Ne),si(),Se())}}class ju{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ju(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class XR{constructor(e,n){this.targetId=e,this.me=n}}class YR{constructor(e,n,r=tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class OE{constructor(){this.fe=0,this.ge=LE(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Se(),n=Se(),r=Se();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new ju(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=LE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class eU{constructor(e){this.Le=e,this.Be=new Map,this.ke=si(),this.qe=NE(),this.Qe=new at(Ne)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(dg(s))if(r===0){const o=new se(s.path);this.Ue(n,o,Yt.newNoDocument(o,de.min()))}else qe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ys(r).toUint8Array()}catch(l){if(l instanceof CR)return ua("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Tv(o,i,s)}catch(l){return ua(l instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&dg(a.target)){const l=new se(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Yt.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=Se();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new ef(e,n,this.Qe,this.ke,r);return this.ke=si(),this.qe=NE(),this.Qe=new at(Ne),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new OE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ft(Ne),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new OE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function NE(){return new at(se.comparator)}function LE(){return new at(se.comparator)}const tU={asc:"ASCENDING",desc:"DESCENDING"},nU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rU={and:"AND",or:"OR"};class iU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pg(t,e){return t.useProto3Json||Gd(e)?e:{value:e}}function sd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sU(t,e){return sd(t,e.toTimestamp())}function Tr(t){return qe(!!t),de.fromTimestamp(function(n){const r=Zi(n);return new It(r.seconds,r.nanos)}(t))}function Sv(t,e){return mg(t,e).canonicalString()}function mg(t,e){const n=function(i){return new et(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ZR(t){const e=et.fromString(t);return qe(iA(e)),e}function gg(t,e){return Sv(t.databaseId,e.path)}function wp(t,e){const n=ZR(e);if(n.get(1)!==t.databaseId.projectId)throw new re($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(tA(n))}function eA(t,e){return Sv(t.databaseId,e)}function oU(t){const e=ZR(t);return e.length===4?et.emptyPath():tA(e)}function yg(t){return new et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tA(t){return qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ME(t,e,n){return{name:gg(t,e),fields:n.value.mapValue.fields}}function aU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(qe(h===void 0||typeof h=="string"),tn.fromBase64String(h||"")):(qe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),tn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?$.UNKNOWN:QR(c.code);return new re(h,c.message||"")}(o);n=new YR(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=wp(t,r.document.name),s=Tr(r.document.updateTime),o=r.document.createTime?Tr(r.document.createTime):de.min(),a=new fn({mapValue:{fields:r.document.fields}}),l=Yt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new nh(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=wp(t,r.document),s=r.readTime?Tr(r.readTime):de.min(),o=Yt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new nh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=wp(t,r.document),s=r.removedTargetIds||[];n=new nh([],s,i,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Xj(i,s),a=r.targetId;n=new XR(a,o)}}return n}function lU(t,e){let n;if(e instanceof Fu)n={update:ME(t,e.key,e.value)};else if(e instanceof wv)n={delete:gg(t,e.key)};else if(e instanceof us)n={update:ME(t,e.key,e.data),updateMask:yU(e.fieldMask)};else{if(!(e instanceof Kj))return ce();n={verify:gg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof rd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof mu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof gu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof id)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:sU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce()}(t,e.precondition)),n}function uU(t,e){return t&&t.length>0?(qe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Tr(i.updateTime):Tr(s);return o.isEqual(de.min())&&(o=Tr(s)),new Wj(o,i.transformResults||[])}(n,e))):[]}function cU(t,e){return{documents:[eA(t,e.path)]}}function hU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eA(t,i);const s=function(c){if(c.length!==0)return rA(Ir.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:Eo(f.field),direction:pU(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=pg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function dU(t){let e=oU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qe(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=nA(d);return f instanceof Ir&&DR(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(v){return new nd(To(v.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Gd(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,g=d.values||[];return new td(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,g=d.values||[];return new td(g,f)}(n.endAt)),bj(e,i,o,s,a,"F",l,c)}function fU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=To(n.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=To(n.unaryFilter.field);return St.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=To(n.unaryFilter.field);return St.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=To(n.unaryFilter.field);return St.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return St.create(To(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ir.create(n.compositeFilter.filters.map(r=>nA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function pU(t){return tU[t]}function mU(t){return nU[t]}function gU(t){return rU[t]}function Eo(t){return{fieldPath:t.canonicalString()}}function To(t){return Mt.fromServerFormat(t.fieldPath)}function rA(t){return t instanceof St?function(n){if(n.op==="=="){if(TE(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NAN"}};if(EE(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TE(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NAN"}};if(EE(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(n.field),op:mU(n.op),value:n.value}}}(t):t instanceof Ir?function(n){const r=n.getFilters().map(i=>rA(i));return r.length===1?r[0]:{compositeFilter:{op:gU(n.op),filters:r}}}(t):ce()}function yU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,r,i,s=de.min(),o=de.min(),a=tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e){this.ct=e}}function _U(t){const e=dU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this._n=new EU}addToCollectionParentIndex(e,n){return this._n.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Ji.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class EU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ft(et.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ft(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new fa(0)}static Ln(){return new fa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(){this.changes=new Ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ml(r.mutation,i,An.empty(),It.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const i=ks();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=yl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ks();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=si();const o=Ll(),a=function(){return Ll()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof us)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Ml(h.mutation,c,h.mutation.getFieldMask(),It.now())):o.set(c.key,An.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new SU(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ll();let i=new at((o,a)=>o-a),s=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||An.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(i.get(a.batchId)||Se()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=UR();h.forEach(f=>{if(!s.has(f)){const g=KR(n.get(f),r.get(f));g!==null&&d.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):W.resolve(ks());let a=-1,l=s;return o.next(c=>W.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?W.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Se())).next(h=>({batchId:a,changes:jR(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=yl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=yl();return this.indexManager.getCollectionParents(e,s).next(a=>W.forEach(a,l=>{const c=function(d,f){return new Qd(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Yt.newInvalidDocument(h)))});let a=yl();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Ml(h.mutation,c,An.empty(),It.now()),Yd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return W.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Tr(i.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:_U(i.bundledQuery),readTime:Tr(i.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(){this.overlays=new at(se.comparator),this.hr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ks();return W.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const i=ks(),s=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return W.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new at((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=ks(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=ks(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return W.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Qj(n,r));let s=this.hr.get(n);s===void 0&&(s=Se(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(){this.Pr=new Ft(Rt.Ir),this.Tr=new Ft(Rt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Rt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new se(new et([])),r=new Rt(n,e),i=new Rt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new se(new et([])),r=new Rt(n,e),i=new Rt(n,e+1);let s=Se();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Rt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return se.comparator(e.key,n.key)||Ne(e.pr,n.pr)}static Er(e,n){return Ne(e.pr,n.pr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ft(Rt.Ir)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Gj(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return W.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),i=new Rt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),W.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(Ne);return n.forEach(i=>{const s=new Rt(i,0),o=new Rt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),W.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;se.isDocumentKey(s)||(s=s.child(""));const o=new Rt(new se(s),0);let a=new Ft(Ne);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),W.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){qe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return W.forEach(n.mutations,i=>{const s=new Rt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Rt(n,0),i=this.wr.firstAfterOrEqual(r);return W.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.vr=e,this.docs=function(){return new at(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let r=si();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Yt.newInvalidDocument(i))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=si();const o=n.path,a=new se(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||dj(hj(h),r)<=0||(i.has(h.key)||Yd(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return W.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ce()}Fr(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xU(this)}getSize(e){return W.resolve(this.size)}}class xU extends TU{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e){this.persistence=e,this.Mr=new Ia(n=>yv(n),vv),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Pv,this.targetCount=0,this.Lr=fa.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),W.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new fa(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.qn(n),W.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),W.waitFor(s).next(()=>i)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),W.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e,n){this.Br={},this.overlays={},this.kr=new fv(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new bU(this),this.indexManager=new wU,this.remoteDocumentCache=function(i){return new CU(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new vU(n),this.$r=new IU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new AU(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new DU(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return W.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class DU extends pj{constructor(e){super(),this.currentSequenceNumber=e}}class Iv{constructor(e){this.persistence=e,this.zr=new Pv,this.jr=null}static Hr(e){return new Iv(e)}get Jr(){if(this.jr)return this.jr;throw ce()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),W.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Jr,r=>{const i=se.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,de.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return W.or([()=>W.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Se(),i=Se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Rv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return PM()?8:mj(Ut())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new OU;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(sl()<=Ie.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),W.resolve()):(sl()<=Ie.DEBUG&&J("QueryEngine","Query:",wo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(sl()<=Ie.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(n))):W.resolve())}ji(e,n){if(RE(n))return W.resolve(null);let r=Er(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=fg(n,null,"F"),r=Er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Se(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,fg(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return RE(n)||i.isEqual(de.min())?W.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?W.resolve(null):(sl()<=Ie.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wo(n)),this.es(e,o,n,cj(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ft(VR(e));return n.forEach((i,s)=>{Yd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return sl()<=Ie.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",wo(n)),this.zi.getDocumentsMatchingQuery(e,n,Ji.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new at(Ne),this.rs=new Ia(s=>yv(s),vv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PU(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function MU(t,e,n,r){return new LU(t,e,n,r)}async function sA(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Se();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function VU(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,f=d.keys();let g=W.resolve();return f.forEach(v=>{g=g.next(()=>h.getEntry(l,v)).next(T=>{const A=c.docVersions.get(v);qe(A!==null),T.version.compareTo(A)<0&&(d.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),h.addEntry(T)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Se();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function oA(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function FU(t,e){const n=me(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,h.addedDocuments,d)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(tn.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(d,g),function(T,A,E){return T.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,g,h)&&a.push(n.Qr.updateTargetData(s,g))});let l=si(),c=Se();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(jU(s,o,e.documentUpdates).next(h=>{l=h.cs,c=h.ls})),!r.isEqual(de.min())){const h=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return W.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function jU(t,e,n){let r=Se(),i=Se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=si();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):J("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function UU(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function BU(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,W.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Ni(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function vg(t,e,n){const r=me(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Vu(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function VE(t,e,n){const r=me(t);let i=de.min(),s=Se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=me(l),f=d.rs.get(h);return f!==void 0?W.resolve(d.ns.get(f)):d.Qr.getTargetData(c,h)}(r,o,Er(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:de.min(),n?s:Se())).next(a=>(zU(r,Oj(e),a),{documents:a,hs:s})))}function zU(t,e,n){let r=t.ss.get(e)||de.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class FE{constructor(){this.activeTargetIds=jj()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $U{constructor(){this.no=new FE,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new FE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc=null;function Ep(){return bc===null?bc=function(){return 268435456+Math.round(2147483648*Math.random())}():bc++,"0x"+bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class KU extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=Ep(),l=this.vo(n,r.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,l,c,i).then(h=>(J("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ua("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=HU[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=Ep();return new Promise((o,a)=>{const l=new _R;l.setWithCredentials(!0),l.listenOnce(ER.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Zc.NO_ERROR:const h=l.getResponseJson();J(Kt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Zc.TIMEOUT:J(Kt,`RPC '${e}' ${s} timed out`),a(new re($.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const d=l.getStatus();if(J(Kt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const v=function(A){const E=A.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(E)>=0?E:$.UNKNOWN}(g.status);a(new re(v,g.message))}else a(new re($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new re($.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{J(Kt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);J(Kt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=Ep(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=PR(),a=SR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new wR({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");J(Kt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);let f=!1,g=!1;const v=new qU({lo:A=>{g?J(Kt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(f||(J(Kt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),J(Kt,`RPC '${e}' stream ${i} sending:`,A),d.send(A))},ho:()=>d.close()}),T=(A,E,_)=>{A.listen(E,w=>{try{_(w)}catch(k){setTimeout(()=>{throw k},0)}})};return T(d,gl.EventType.OPEN,()=>{g||(J(Kt,`RPC '${e}' stream ${i} transport opened.`),v.mo())}),T(d,gl.EventType.CLOSE,()=>{g||(g=!0,J(Kt,`RPC '${e}' stream ${i} transport closed`),v.po())}),T(d,gl.EventType.ERROR,A=>{g||(g=!0,ua(Kt,`RPC '${e}' stream ${i} transport errored:`,A),v.po(new re($.UNAVAILABLE,"The operation could not be completed")))}),T(d,gl.EventType.MESSAGE,A=>{var E;if(!g){const _=A.data[0];qe(!!_);const w=_,k=w.error||((E=w[0])===null||E===void 0?void 0:E.error);if(k){J(Kt,`RPC '${e}' stream ${i} received error:`,k);const M=k.status;let R=function(S){const C=mt[S];if(C!==void 0)return QR(C)}(M),I=k.message;R===void 0&&(R=$.INTERNAL,I="Unknown error status: "+M+" with message "+k.message),g=!0,v.po(new re(R,I)),d.close()}else J(Kt,`RPC '${e}' stream ${i} received:`,_),v.yo(_)}}),T(a,TR.STAT_EVENT,A=>{A.stat===lg.PROXY?J(Kt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===lg.NOPROXY&&J(Kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.fo()},0),v}}function Tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t){return new iU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new aA(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(ii(n.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new re($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GU extends lA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=aU(this.serializer,e),r=function(s){if(!("targetChange"in s))return de.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?Tr(o.readTime):de.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=yg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=dg(l)?{documents:cU(s,l)}:{query:hU(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=JR(s,o.resumeToken);const c=pg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(de.min())>0){a.readTime=sd(s,o.snapshotVersion.toTimestamp());const c=pg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=fU(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=yg(this.serializer),n.removeTarget=e,this.i_(n)}}class QU extends lA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=uU(e.writeResults,e.commitTime),r=Tr(e.commitTime);return this.listener.A_(r,n)}return qe(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=yg(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>lU(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new re($.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,mg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re($.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,mg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re($.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class YU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(ii(n),this.y_=!1):J("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{so(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=me(l);c.M_.add(4),await Uu(c),c.N_.set("Unknown"),c.M_.delete(4),await nf(c)}(this))})}),this.N_=new YU(r,i)}}async function nf(t){if(so(t))for(const e of t.x_)await e(!0)}async function Uu(t){for(const e of t.x_)await e(!1)}function uA(t,e){const n=me(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),bv(n)?xv(n):Ra(n).Xo()&&Cv(n,e))}function Av(t,e){const n=me(t),r=Ra(n);n.F_.delete(e),r.Xo()&&cA(n,e),n.F_.size===0&&(r.Xo()?r.n_():so(n)&&n.N_.set("Unknown"))}function Cv(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ra(t).P_(e)}function cA(t,e){t.L_.xe(e),Ra(t).I_(e)}function xv(t){t.L_=new eU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ra(t).start(),t.N_.w_()}function bv(t){return so(t)&&!Ra(t).Zo()&&t.F_.size>0}function so(t){return me(t).M_.size===0}function hA(t){t.L_=void 0}async function ZU(t){t.N_.set("Online")}async function e4(t){t.F_.forEach((e,n)=>{Cv(t,e)})}async function t4(t,e){hA(t),bv(t)?(t.N_.D_(e),xv(t)):t.N_.set("Unknown")}async function n4(t,e,n){if(t.N_.set("Online"),e instanceof YR&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await od(t,r)}else if(e instanceof nh?t.L_.Ke(e):e instanceof XR?t.L_.He(e):t.L_.We(e),!n.isEqual(de.min()))try{const r=await oA(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.F_.get(c);h&&s.F_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.F_.get(l);if(!h)return;s.F_.set(l,h.withResumeToken(tn.EMPTY_BYTE_STRING,h.snapshotVersion)),cA(s,l);const d=new Ni(h.target,l,c,h.sequenceNumber);Cv(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await od(t,r)}}async function od(t,e,n){if(!Vu(e))throw e;t.M_.add(1),await Uu(t),t.N_.set("Offline"),n||(n=()=>oA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await nf(t)})}function dA(t,e){return e().catch(n=>od(t,n,e))}async function rf(t){const e=me(t),n=es(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;r4(e);)try{const i=await UU(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,i4(e,i)}catch(i){await od(e,i)}fA(e)&&pA(e)}function r4(t){return so(t)&&t.v_.length<10}function i4(t,e){t.v_.push(e);const n=es(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function fA(t){return so(t)&&!es(t).Zo()&&t.v_.length>0}function pA(t){es(t).start()}async function s4(t){es(t).V_()}async function o4(t){const e=es(t);for(const n of t.v_)e.d_(n.mutations)}async function a4(t,e,n){const r=t.v_.shift(),i=Ev.from(r,e,n);await dA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await rf(t)}async function l4(t,e){e&&es(t).E_&&await async function(r,i){if(function(o){return Yj(o)&&o!==$.ABORTED}(i.code)){const s=r.v_.shift();es(r).t_(),await dA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await rf(r)}}(t,e),fA(t)&&pA(t)}async function UE(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=so(n);n.M_.add(3),await Uu(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await nf(n)}async function u4(t,e){const n=me(t);e?(n.M_.delete(2),await nf(n)):e||(n.M_.add(2),await Uu(n),n.N_.set("Unknown"))}function Ra(t){return t.B_||(t.B_=function(n,r,i){const s=me(n);return s.f_(),new GU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:ZU.bind(null,t),To:e4.bind(null,t),Ao:t4.bind(null,t),h_:n4.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),bv(t)?xv(t):t.N_.set("Unknown")):(await t.B_.stop(),hA(t))})),t.B_}function es(t){return t.k_||(t.k_=function(n,r,i){const s=me(n);return s.f_(),new QU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:s4.bind(null,t),Ao:l4.bind(null,t),R_:o4.bind(null,t),A_:a4.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await rf(t)):(await t.k_.stop(),t.v_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new kv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dv(t,e){if(ii("AsyncQueue",`${e}: ${t}`),Vu(t))return new re($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=yl(),this.sortedSet=new at(this.comparator)}static emptySet(e){return new Yo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Yo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.q_=new at(se.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ce():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class pa{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new pa(e,n,Yo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class h4{constructor(){this.queries=new Ia(e=>MR(e),Xd),this.onlineState="Unknown",this.z_=new Set}}async function mA(t,e){const n=me(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new c4,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Dv(o,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&Ov(n)}async function gA(t,e){const n=me(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function d4(t,e){const n=me(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&Ov(n)}function f4(t,e,n){const r=me(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function Ov(t){t.z_.forEach(e=>{e.next()})}var _g,zE;(zE=_g||(_g={})).J_="default",zE.Cache="cache";class yA{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==_g.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.key=e}}class _A{constructor(e){this.key=e}}class p4{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Se(),this.mutatedKeys=Se(),this.Ia=VR(e),this.Ta=new Yo(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new BE,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),g=Yd(this.query,d)?d:null,v=!!f&&this.mutatedKeys.has(f.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let A=!1;f&&g?f.data.isEqual(g.data)?v!==T&&(r.track({type:3,doc:g}),A=!0):this.Ra(f,g)||(r.track({type:2,doc:g}),A=!0,(l&&this.Ia(g,l)>0||c&&this.Ia(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),A=!0):f&&!g&&(r.track({type:1,doc:f}),A=!0,(l||c)&&(a=!0)),A&&(g?(o=o.add(g),s=T?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((h,d)=>function(g,v){const T=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return T(g)-T(v)}(h.type,d.type)||this.Ia(h.doc,d.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,c=l!==this.ha;return this.ha=l,o.length!==0||c?{snapshot:new pa(this.query,e.Ta,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new BE,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Se(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new _A(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new vA(r))}),n}pa(e){this.la=e.hs,this.Pa=Se();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return pa.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class m4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class g4{constructor(e){this.key=e,this.wa=!1}}class y4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Ia(a=>MR(a),Xd),this.Da=new Map,this.Ca=new Set,this.va=new at(se.comparator),this.Fa=new Map,this.Ma=new Pv,this.xa={},this.Oa=new Map,this.Na=fa.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function v4(t,e,n=!0){const r=IA(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await wA(r,e,n,!0),i}async function _4(t,e){const n=IA(t);await wA(n,e,!0,!1)}async function wA(t,e,n,r){const i=await BU(t.localStore,Er(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await w4(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&uA(t.remoteStore,i),a}async function w4(t,e,n,r,i){t.Ba=(d,f,g)=>async function(T,A,E,_){let w=A.view.da(E);w.Xi&&(w=await VE(T.localStore,A.query,!1).then(({documents:I})=>A.view.da(I,w)));const k=_&&_.targetChanges.get(A.targetId),M=_&&_.targetMismatches.get(A.targetId)!=null,R=A.view.applyChanges(w,T.isPrimaryClient,k,M);return WE(T,A.targetId,R.fa),R.snapshot}(t,d,f,g);const s=await VE(t.localStore,e,!0),o=new p4(e,s.hs),a=o.da(s.documents),l=ju.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);WE(t,n,c.fa);const h=new m4(e,n,o);return t.ba.set(e,h),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function E4(t,e,n){const r=me(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Xd(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await vg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Av(r.remoteStore,i.targetId),wg(r,i.targetId)}).catch(Mu)):(wg(r,i.targetId),await vg(r.localStore,i.targetId,!0))}async function T4(t,e){const n=me(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Av(n.remoteStore,r.targetId))}async function S4(t,e,n){const r=b4(t);try{const i=await function(o,a){const l=me(o),c=It.now(),h=a.reduce((g,v)=>g.add(v.key),Se());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=si(),T=Se();return l.os.getEntries(g,h).next(A=>{v=A,v.forEach((E,_)=>{_.isValidDocument()||(T=T.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(A=>{d=A;const E=[];for(const _ of a){const w=qj(_,d.get(_.key).overlayedDocument);w!=null&&E.push(new us(_.key,w,xR(w.value.mapValue),$n.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,E,a)}).next(A=>{f=A;const E=A.applyToLocalDocumentSet(d,T);return l.documentOverlayCache.saveOverlays(g,A.batchId,E)})}).then(()=>({batchId:f.batchId,changes:jR(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.xa[o.currentUser.toKey()];c||(c=new at(Ne)),c=c.insert(a,l),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Bu(r,i.changes),await rf(r.remoteStore)}catch(i){const s=Dv(i,"Failed to persist write");n.reject(s)}}async function EA(t,e){const n=me(t);try{const r=await FU(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?qe(o.wa):i.removedDocuments.size>0&&(qe(o.wa),o.wa=!1))}),await Bu(n,r,e)}catch(r){await Mu(r)}}function $E(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=me(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const f of d.U_)f.j_(a)&&(c=!0)}),c&&Ov(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function P4(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new at(se.comparator);o=o.insert(s,Yt.newNoDocument(s,de.min()));const a=Se().add(s),l=new ef(de.min(),new Map,new at(Ne),o,a);await EA(r,l),r.va=r.va.remove(s),r.Fa.delete(e),Nv(r)}else await vg(r.localStore,e,!1).then(()=>wg(r,e,n)).catch(Mu)}async function I4(t,e){const n=me(t),r=e.batch.batchId;try{const i=await VU(n.localStore,e);SA(n,r,null),TA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bu(n,i)}catch(i){await Mu(i)}}async function R4(t,e,n){const r=me(t);try{const i=await function(o,a){const l=me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(qe(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);SA(r,e,n),TA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bu(r,i)}catch(i){await Mu(i)}}function TA(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function SA(t,e,n){const r=me(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function wg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||PA(t,r)})}function PA(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Av(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Nv(t))}function WE(t,e,n){for(const r of n)r instanceof vA?(t.Ma.addReference(r.key,e),A4(t,r)):r instanceof _A?(J("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||PA(t,r.key)):ce()}function A4(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(J("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Nv(t))}function Nv(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new se(et.fromString(e)),r=t.Na.next();t.Fa.set(r,new g4(n)),t.va=t.va.insert(n,r),uA(t.remoteStore,new Ni(Er(_v(n.path)),r,"TargetPurposeLimboResolution",fv.oe))}}async function Bu(t,e,n){const r=me(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=Rv.Ki(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(l,c){const h=me(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>W.forEach(c,f=>W.forEach(f.qi,g=>h.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>W.forEach(f.Qi,g=>h.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!Vu(d))throw d;J("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const g=h.ns.get(f),v=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(v);h.ns=h.ns.insert(f,T)}}}(r.localStore,s))}async function C4(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await sA(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new re($.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bu(n,r.us)}}function x4(t,e){const n=me(t),r=n.Fa.get(e);if(r&&r.wa)return Se().add(r.key);{let i=Se();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function IA(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=EA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P4.bind(null,e),e.Sa.h_=d4.bind(null,e.eventManager),e.Sa.ka=f4.bind(null,e.eventManager),e}function b4(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R4.bind(null,e),e}class HE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=tf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return MU(this.persistence,new NU,e.initialUser,this.serializer)}createPersistence(e){return new kU(Iv.Hr,this.serializer)}createSharedClientState(e){return new $U}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class k4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$E(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=C4.bind(null,this.syncEngine),await u4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new h4}()}createDatastore(e){const n=tf(e.databaseInfo.databaseId),r=function(s){return new KU(s)}(e.databaseInfo);return function(s,o,a,l){return new XU(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new JU(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>$E(this.syncEngine,n,0),function(){return jE.D()?new jE:new WU}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const d=new y4(i,s,o,a,l,c);return h&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=me(r);J("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Uu(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qt.UNAUTHENTICATED,this.clientId=RR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{J("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(J("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sp(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await sA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function qE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await N4(t);J("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>UE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>UE(e.remoteStore,i)),t._onlineComponents=e}function O4(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function N4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!O4(n))throw n;ua("Error using user provided cache. Falling back to memory cache: "+n),await Sp(t,new HE)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await Sp(t,new HE);return t._offlineComponents}async function AA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await qE(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await qE(t,new k4))),t._onlineComponents}function L4(t){return AA(t).then(e=>e.syncEngine)}async function CA(t){const e=await AA(t),n=e.eventManager;return n.onListen=v4.bind(null,e.syncEngine),n.onUnlisten=E4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=T4.bind(null,e.syncEngine),n}function M4(t,e,n={}){const r=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new RA({next:f=>{o.enqueueAndForget(()=>gA(s,d));const g=f.docs.has(a);!g&&f.fromCache?c.reject(new re($.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?c.reject(new re($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new yA(_v(a.path),h,{includeMetadataChanges:!0,ra:!0});return mA(s,d)}(await CA(t),t.asyncQueue,e,n,r)),r.promise}function V4(t,e,n={}){const r=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new RA({next:f=>{o.enqueueAndForget(()=>gA(s,d)),f.fromCache&&l.source==="server"?c.reject(new re($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new yA(a,h,{includeMetadataChanges:!0,ra:!0});return mA(s,d)}(await CA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t,e,n){if(!n)throw new re($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function F4(t,e,n,r){if(e===!0&&r===!0)throw new re($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function GE(t){if(!se.isDocumentKey(t))throw new re($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QE(t){if(se.isDocumentKey(t))throw new re($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function lr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lv(t);throw new re($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new re($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tj;switch(r.type){case"firstParty":return new sj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=KE.get(n);r&&(J("ComponentProvider","Removing Datastore"),KE.delete(n),r.terminate())}(this),Promise.resolve()}}function j4(t,e,n,r={}){var i;const s=(t=lr(t,sf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Qt.MOCK_USER;else{a=vM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new re($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Qt(c)}t._authCredentials=new nj(new IR(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new of(this.firestore,e,this._query)}}class vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class qi extends of{constructor(e,n,r){super(e,n,_v(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new se(e))}withConverter(e){return new qi(this.firestore,e,this._path)}}function kA(t,e,...n){if(t=ln(t),bA("collection","path",e),t instanceof sf){const r=et.fromString(e,...n);return QE(r),new qi(t,null,r)}{if(!(t instanceof vn||t instanceof qi))throw new re($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return QE(r),new qi(t.firestore,null,r)}}function Aa(t,e,...n){if(t=ln(t),arguments.length===1&&(e=RR.newId()),bA("doc","path",e),t instanceof sf){const r=et.fromString(e,...n);return GE(r),new vn(t,null,new se(r))}{if(!(t instanceof vn||t instanceof qi))throw new re($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return GE(r),new vn(t.firestore,t instanceof qi?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new aA(this,"async_queue_retry"),this.hu=()=>{const n=Tp();n&&J("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Tp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Tp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Kr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Vu(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ii("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=kv.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&ce()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class oo extends sf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new U4}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||DA(this),this._firestoreClient.terminate()}}function B4(t,e){const n=typeof t=="object"?t:MI(),r=typeof t=="string"?t:"(default)",i=nv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=gM("firestore");s&&j4(i,...s)}return i}function Mv(t){return t._firestoreClient||DA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function DA(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,h){return new vj(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,xA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new D4(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ma(tn.fromBase64String(e))}catch(n){throw new re($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ma(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=/^__.*__$/;class $4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fu(e,this.data,n,this.fieldTransforms)}}class OA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new us(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function NA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class jv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new jv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return ad(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(NA(this.fu)&&z4.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class W4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tf(e)}Fu(e,n,r,i=!1){return new jv({fu:e,methodName:n,vu:r,path:Mt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uv(t){const e=t._freezeSettings(),n=tf(t._databaseId);return new W4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LA(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);Bv("Data must be an object, but it was:",o,r);const a=MA(r,o);let l,c;if(s.merge)l=new An(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=Eg(e,d,n);if(!o.contains(f))throw new re($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);FA(h,f)||h.push(f)}l=new An(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new $4(new fn(a),l,c)}class lf extends Vv{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lf}}function H4(t,e,n,r){const i=t.Fu(1,e,n);Bv("Data must be an object, but it was:",i,r);const s=[],o=fn.empty();io(r,(l,c)=>{const h=zv(e,l,n);c=ln(c);const d=i.Su(h);if(c instanceof lf)s.push(h);else{const f=uf(c,d);f!=null&&(s.push(h),o.set(h,f))}});const a=new An(s);return new OA(o,a,i.fieldTransforms)}function q4(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[Eg(e,r,n)],l=[i];if(s.length%2!=0)throw new re($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Eg(e,s[f])),l.push(s[f+1]);const c=[],h=fn.empty();for(let f=a.length-1;f>=0;--f)if(!FA(c,a[f])){const g=a[f];let v=l[f];v=ln(v);const T=o.Su(g);if(v instanceof lf)c.push(g);else{const A=uf(v,T);A!=null&&(c.push(g),h.set(g,A))}}const d=new An(c);return new OA(h,d,o.fieldTransforms)}function uf(t,e){if(VA(t=ln(t)))return Bv("Unsupported field value:",e,t),MA(t,e);if(t instanceof Vv)return function(r,i){if(!NA(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=uf(a,i.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Uj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=It.fromDate(r);return{timestampValue:sd(i.serializer,s)}}if(r instanceof It){const s=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sd(i.serializer,s)}}if(r instanceof Fv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ma)return{bytesValue:JR(i.serializer,r._byteString)};if(r instanceof vn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Sv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Lv(r)}`)}(t,e)}function MA(t,e){const n={};return AR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(t,(r,i)=>{const s=uf(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function VA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof It||t instanceof Fv||t instanceof ma||t instanceof vn||t instanceof Vv)}function Bv(t,e,n){if(!VA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Lv(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Eg(t,e,n){if((e=ln(e))instanceof af)return e._internalPath;if(typeof e=="string")return zv(t,e);throw ad("Field path arguments must be of type string or ",t,!1,void 0,n)}const K4=new RegExp("[~\\*/\\[\\]]");function zv(t,e,n){if(e.search(K4)>=0)throw ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new af(...e.split("."))._internalPath}catch{throw ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ad(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new re($.INVALID_ARGUMENT,a+t+l)}function FA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(UA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G4 extends jA{data(){return super.data()}}function UA(t,e){return typeof e=="string"?zv(t,e):e instanceof af?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X4{convertValue(e,n="none"){switch(Js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return io(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Fv(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const n=Zi(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=et.fromString(e);qe(iA(r));const i=new fu(r.get(1),r.get(3)),s=new se(r.popFirst(5));return i.isEqual(n)||ii(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zA extends jA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(UA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rh extends zA{data(e={}){return super.data(e)}}class Y4{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _l(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rh(this._firestore,this._userDataWriter,r.key,r,new _l(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new rh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _l(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new rh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _l(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:J4(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function J4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t){t=lr(t,vn);const e=lr(t.firestore,oo);return M4(Mv(e),t._key).then(n=>iB(e,t,n))}class $A extends X4{constructor(e){super(),this.firestore=e}convertBytes(e){return new ma(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function eB(t){t=lr(t,of);const e=lr(t.firestore,oo),n=Mv(e),r=new $A(e);return Q4(t._query),V4(n,t._query).then(i=>new Y4(e,r,t,i))}function WA(t,e,n){t=lr(t,vn);const r=lr(t.firestore,oo),i=BA(t.converter,e,n);return cf(r,[LA(Uv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$n.none())])}function tB(t,e,n,...r){t=lr(t,vn);const i=lr(t.firestore,oo),s=Uv(i);let o;return o=typeof(e=ln(e))=="string"||e instanceof af?q4(s,"updateDoc",t._key,e,n,r):H4(s,"updateDoc",t._key,e),cf(i,[o.toMutation(t._key,$n.exists(!0))])}function nB(t){return cf(lr(t.firestore,oo),[new wv(t._key,$n.none())])}function rB(t,e){const n=lr(t.firestore,oo),r=Aa(t),i=BA(t.converter,e);return cf(n,[LA(Uv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$n.exists(!1))]).then(()=>r)}function cf(t,e){return function(r,i){const s=new Kr;return r.asyncQueue.enqueueAndForget(async()=>S4(await L4(r),i,s)),s.promise}(Mv(t),e)}function iB(t,e,n){const r=n.docs.get(e._key),i=new $A(t);return new zA(t,i,e._key,r,new _l(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Pa=i})(Ta),la(new qs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new oo(new rj(r.getProvider("auth-internal")),new aj(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new re($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Hi(yE,"4.6.4",e),Hi(yE,"4.6.4","esm2017")})();const sB={apiKey:"AIzaSyANabuvzOXSvnpwPRnFWPiUXqjbSjN_NTo",authDomain:"petlove-4aff4.firebaseapp.com",projectId:"petlove-4aff4",storageBucket:"petlove-4aff4.appspot.com",messagingSenderId:"441810433275",appId:"1:441810433275:web:e151c8aca04ef9aba8ac5e",measurementId:"G-6X5HZ6W70P"},HA=LI(sB),qA=ZF(HA),ao=B4(HA),oB=async(t,e,n)=>{const i=(await F2(qA,e,n)).user;return await WA(Aa(ao,"users",i.uid),{name:t,email:e,avatar:""}),{uid:i.uid,name:t,email:e,avatar:""}},aB=async(t,e)=>{const r=(await j2(qA,t,e)).user,i=await Z4(Aa(ao,"users",r.uid));if(i.exists())return{uid:r.uid,...i.data()};throw new Error("No such user!")},lB=async t=>{const e=Aa(ao,"users",t.uid);return await WA(e,t,{merge:!0}),t},uB=async(t,e)=>{const n=Aa(ao,"users",t);return await tB(n,{avatar:e}),{avatar:e}},cB=Rr("user/signup",async({name:t,email:e,password:n})=>await oB(t,e,n)),hB=Rr("user/login",async({email:t,password:e})=>await aB(t,e)),dB=Rr("user/updateUser",async t=>await lB(t)),fB=Rr("user/updateAvatar",async({uid:t,avatar:e})=>{const n=await uB(t,e);return{uid:t,avatar:n.avatar}}),KA=ur({name:"user",initialState:{user:null,token:null,status:"idle",error:null},reducers:{logout:t=>{t.user=null,t.token=null}},extraReducers:t=>{t.addCase(cB.fulfilled,(e,n)=>{e.user=n.payload,e.token=n.payload.token,e.status="succeeded"}).addCase(hB.fulfilled,(e,n)=>{e.user=n.payload,e.token=n.payload.token,e.status="succeeded"}).addCase(dB.fulfilled,(e,n)=>{e.user=n.payload,e.status="succeeded"}).addCase(fB.fulfilled,(e,n)=>{e.user&&(e.user.avatar=n.payload.avatar),e.status="succeeded"}).addMatcher(e=>e.type.endsWith("/pending"),e=>{e.status="loading"}).addMatcher(e=>e.type.endsWith("/rejected"),(e,n)=>{e.status="failed",e.error=n.error.message})}}),{logout:GA}=KA.actions,pB=KA.reducer;var QA={exports:{}},mB="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gB=mB,yB=gB;function XA(){}function YA(){}YA.resetWarningCache=XA;var vB=function(){function t(r,i,s,o,a,l){if(l!==yB){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:YA,resetWarningCache:XA};return n.PropTypes=n,n};QA.exports=vB();var _B=QA.exports;const hn=vd(_B),Zs=({text:t,to:e,className:n,onClick:r})=>B.jsx(jr,{to:e,className:`button-auth ${n}`,onClick:r,children:t});Zs.propTypes={text:hn.string.isRequired,to:hn.string.isRequired,className:hn.string,onClick:hn.func};Zs.defaultProps={className:"",onClick:null};const wB="/Petlove/images/avatar.png";var JA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},YE=dt.createContext&&dt.createContext(JA),EB=["attr","size","title"];function TB(t,e){if(t==null)return{};var n=SB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SB(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ld.apply(this,arguments)}function JE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JE(Object(n),!0).forEach(function(r){PB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PB(t,e,n){return e=IB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IB(t){var e=RB(t,"string");return typeof e=="symbol"?e:e+""}function RB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZA(t){return t&&t.map((e,n)=>dt.createElement(e.tag,ud({key:n},e.attr),ZA(e.child)))}function $v(t){return e=>dt.createElement(AB,ld({attr:ud({},t.attr)},e),ZA(t.child))}function AB(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=TB(t,EB),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),dt.createElement("svg",ld({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:ud(ud({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&dt.createElement("title",null,s),t.children)};return YE!==void 0?dt.createElement(YE.Consumer,null,n=>e(n)):e(JA)}function CB(t){return $v({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"},child:[]}]})(t)}function lH(t){return $v({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(t)}function uH(t){return $v({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(t)}const Wv=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),hf=L.createContext({}),df=L.createContext(null),Hv=typeof window<"u",eC=Hv?L.useLayoutEffect:L.useEffect,tC=L.createContext({strict:!1}),ff=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xB="framerAppearId",nC="data-"+ff(xB),bB={skipAnimations:!1,useManualTiming:!1};function kB(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,h=!1,d=!1)=>{const g=d&&r?e:n;return h&&s.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(c))}};return l}const kc=["read","resolveKeyframes","update","preRender","render","postRender"],DB=40;function rC(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=kc.reduce((E,_)=>(E[_]=kB(s),E),{}),{read:a,resolveKeyframes:l,update:c,preRender:h,render:d,postRender:f}=o,g=()=>{const E=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,DB),1),i.timestamp=E,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),h.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(g))},v=()=>{n=!0,r=!0,i.isProcessing||t(g)};return{schedule:kc.reduce((E,_)=>{const w=o[_];return E[_]=(k,M=!1,R=!1)=>(n||v(),w.schedule(k,M,R)),E},{}),cancel:E=>{for(let _=0;_<kc.length;_++)o[kc[_]].cancel(E)},state:i,steps:o}}const{schedule:qv,cancel:cH}=rC(queueMicrotask,!1);function Vo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const iC=L.createContext({});let ZE=!1;function OB(t,e,n,r,i){const{visualElement:s}=L.useContext(hf),o=L.useContext(tC),a=L.useContext(df),l=L.useContext(Wv).reducedMotion,c=L.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const h=c.current,d=L.useContext(iC);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&LB(c.current,n,i,d),L.useInsertionEffect(()=>{h&&h.update(n,a)});const f=L.useRef(!!(n[nC]&&!window.HandoffComplete));return eC(()=>{h&&(h.updateFeatures(),qv.render(h.render),f.current&&h.animationState&&h.animationState.animateChanges())}),L.useEffect(()=>{h&&(!f.current&&h.animationState&&h.animationState.animateChanges(),f.current&&(f.current=!1,ZE||(ZE=!0,queueMicrotask(NB))))}),h}function NB(){window.HandoffComplete=!0}function LB(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:sC(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Vo(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function sC(t){if(t)return t.options.allowProjection!==!1?t.projection:sC(t.parent)}function MB(t,e,n){return L.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Vo(n)&&(n.current=r))},[e])}function yu(t){return typeof t=="string"||Array.isArray(t)}function vu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Kv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gv=["initial",...Kv];function pf(t){return vu(t.animate)||Gv.some(e=>yu(t[e]))}function oC(t){return!!(pf(t)||t.variants)}function VB(t,e){if(pf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||yu(n)?n:void 0,animate:yu(r)?r:void 0}}return t.inherit!==!1?e:{}}function FB(t){const{initial:e,animate:n}=VB(t,L.useContext(hf));return L.useMemo(()=>({initial:e,animate:n}),[eT(e),eT(n)])}function eT(t){return Array.isArray(t)?t.join(" "):t}const tT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ga={};for(const t in tT)ga[t]={isEnabled:e=>tT[t].some(n=>!!e[n])};function jB(t){for(const e in t)ga[e]={...ga[e],...t[e]}}const Qv=L.createContext({}),UB=Symbol.for("motionComponentSymbol"),Zt=t=>t;let Tg=Zt;function BB({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&jB(t);function s(a,l){let c;const h={...L.useContext(Wv),...a,layoutId:zB(a)},{isStatic:d}=h,f=FB(a),g=r(a,d);if(!d&&Hv){$B();const v=WB(h);c=v.MeasureLayout,f.visualElement=OB(i,g,h,e,v.ProjectionNode)}return B.jsxs(hf.Provider,{value:f,children:[c&&f.visualElement?B.jsx(c,{visualElement:f.visualElement,...h}):null,n(i,a,MB(g,f.visualElement,l),g,d,f.visualElement)]})}const o=L.forwardRef(s);return o[UB]=i,o}function zB({layoutId:t}){const e=L.useContext(Qv).id;return e&&t!==void 0?e+"-"+t:t}function $B(t,e){L.useContext(tC).strict}function WB(t){const{drag:e,layout:n}=ga;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function HB(t){function e(r,i={}){return BB(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const qB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xv(t){return typeof t!="string"||t.includes("-")?!1:!!(qB.indexOf(t)>-1||/[A-Z]/u.test(t))}const cd={};function KB(t){Object.assign(cd,t)}const zu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cs=new Set(zu);function aC(t,{layout:e,layoutId:n}){return cs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!cd[t]||t==="opacity")}const Jt=t=>!!(t&&t.getVelocity),GB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QB=zu.length;function XB(t,e,n){let r="";for(let i=0;i<QB;i++){const s=zu[i];if(t[s]!==void 0){const o=GB[s]||s;r+=`${o}(${t[s]}) `}}return r=r.trim(),n?r=n(t,e?"":r):e&&(r="none"),r}const lC=t=>e=>typeof e=="string"&&e.startsWith(t),uC=lC("--"),YB=lC("var(--"),Yv=t=>YB(t)?JB.test(t.split("/*")[0].trim()):!1,JB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ZB=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ts=(t,e,n)=>n>e?e:n<t?t:n,Ca={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Vl={...Ca,transform:t=>ts(0,1,t)},Dc={...Ca,default:1},Fl=t=>Math.round(t*1e5)/1e5,Jv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,e3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,t3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function $u(t){return typeof t=="string"}function n3(t){return t==null}const Wu=t=>({test:e=>$u(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Si=Wu("deg"),Sr=Wu("%"),ae=Wu("px"),r3=Wu("vh"),i3=Wu("vw"),nT={...Sr,parse:t=>Sr.parse(t)/100,transform:t=>Sr.transform(t*100)},rT={...Ca,transform:Math.round},cC={borderWidth:ae,borderTopWidth:ae,borderRightWidth:ae,borderBottomWidth:ae,borderLeftWidth:ae,borderRadius:ae,radius:ae,borderTopLeftRadius:ae,borderTopRightRadius:ae,borderBottomRightRadius:ae,borderBottomLeftRadius:ae,width:ae,maxWidth:ae,height:ae,maxHeight:ae,size:ae,top:ae,right:ae,bottom:ae,left:ae,padding:ae,paddingTop:ae,paddingRight:ae,paddingBottom:ae,paddingLeft:ae,margin:ae,marginTop:ae,marginRight:ae,marginBottom:ae,marginLeft:ae,rotate:Si,rotateX:Si,rotateY:Si,rotateZ:Si,scale:Dc,scaleX:Dc,scaleY:Dc,scaleZ:Dc,skew:Si,skewX:Si,skewY:Si,distance:ae,translateX:ae,translateY:ae,translateZ:ae,x:ae,y:ae,z:ae,perspective:ae,transformPerspective:ae,opacity:Vl,originX:nT,originY:nT,originZ:ae,zIndex:rT,backgroundPositionX:ae,backgroundPositionY:ae,fillOpacity:Vl,strokeOpacity:Vl,numOctaves:rT};function Zv(t,e,n){const{style:r,vars:i,transform:s,transformOrigin:o}=t;let a=!1,l=!1,c=!0;for(const h in e){const d=e[h];if(uC(h)){i[h]=d;continue}const f=cC[h],g=ZB(d,f);if(cs.has(h)){if(a=!0,s[h]=g,!c)continue;d!==(f.default||0)&&(c=!1)}else h.startsWith("origin")?(l=!0,o[h]=g):r[h]=g}if(e.transform||(a||n?r.transform=XB(t.transform,c,n):r.transform&&(r.transform="none")),l){const{originX:h="50%",originY:d="50%",originZ:f=0}=o;r.transformOrigin=`${h} ${d} ${f}`}}const e0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hC(t,e,n){for(const r in e)!Jt(e[r])&&!aC(r,n)&&(t[r]=e[r])}function s3({transformTemplate:t},e){return L.useMemo(()=>{const n=e0();return Zv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function o3(t,e){const n=t.style||{},r={};return hC(r,n,t),Object.assign(r,s3(t,e)),r}function a3(t,e){const n={},r=o3(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const l3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||l3.has(t)}let dC=t=>!hd(t);function u3(t){t&&(dC=e=>e.startsWith("on")?!hd(e):t(e))}try{u3(require("@emotion/is-prop-valid").default)}catch{}function c3(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(dC(i)||n===!0&&hd(i)||!e&&!hd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function iT(t,e,n){return typeof t=="string"?t:ae.transform(e+n*t)}function h3(t,e,n){const r=iT(e,t.x,t.width),i=iT(n,t.y,t.height);return`${r} ${i}`}const d3={offset:"stroke-dashoffset",array:"stroke-dasharray"},f3={offset:"strokeDashoffset",array:"strokeDasharray"};function p3(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?d3:f3;t[s.offset]=ae.transform(-r);const o=ae.transform(e),a=ae.transform(n);t[s.array]=`${o} ${a}`}function t0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,d){if(Zv(t,c,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g,dimensions:v}=t;f.transform&&(v&&(g.transform=f.transform),delete f.transform),v&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=h3(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&p3(f,o,a,l,!1)}const fC=()=>({...e0(),attrs:{}}),n0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function m3(t,e,n,r){const i=L.useMemo(()=>{const s=fC();return t0(s,e,n0(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};hC(s,t.style,t),i.style={...s,...i.style}}return i}function g3(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Xv(n)?m3:a3)(r,s,o,n),c=c3(r,typeof n=="string",t),h=n!==L.Fragment?{...c,...l,ref:i}:{},{children:d}=r,f=L.useMemo(()=>Jt(d)?d.get():d,[d]);return L.createElement(n,{...h,children:f})}}function pC(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const mC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gC(t,e,n,r){pC(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(mC.has(i)?i:ff(i),e.attrs[i])}function r0(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Jt(i[o])||e.style&&Jt(e.style[o])||aC(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return n&&i&&typeof i.willChange=="string"&&(n.applyWillChange=!1),s}function yC(t,e,n){const r=r0(t,e,n);for(const i in t)if(Jt(t[i])||Jt(e[i])){const s=zu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function sT(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function i0(t,e,n,r){if(typeof e=="function"){const[i,s]=sT(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=sT(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function s0(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const Sg=t=>Array.isArray(t),y3=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),v3=t=>Sg(t)?t[t.length-1]||0:t;function ih(t){const e=Jt(t)?t.get():t;return y3(e)?e.toValue():e}const vC=new Set(["opacity","clipPath","filter","transform"]);function _C(t){if(cs.has(t))return"transform";if(vC.has(t))return ff(t)}function mf(t,e){t.indexOf(e)===-1&&t.push(e)}function gf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function _3({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},i,s,o,a){const l={latestValues:E3(i,s,o,a?!1:t,e),renderState:n()};return r&&(l.mount=c=>r(i,c,l)),l}const wC=t=>(e,n)=>{const r=L.useContext(hf),i=L.useContext(df),s=()=>_3(t,e,r,i,n);return n?s():s0(s)};function w3(t,e){const n=_C(e);n&&mf(t,n)}function oT(t,e,n){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const s=i0(t,r[i]);if(s){const{transitionEnd:o,transition:a,...l}=s;n(l,o)}}}function E3(t,e,n,r,i){var s;const o={},a=[],l=r&&((s=t.style)===null||s===void 0?void 0:s.willChange)===void 0,c=i(t,{});for(const A in c)o[A]=ih(c[A]);let{initial:h,animate:d}=t;const f=pf(t),g=oC(t);e&&g&&!f&&t.inherit!==!1&&(h===void 0&&(h=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||h===!1;const T=v?d:h;return T&&typeof T!="boolean"&&!vu(T)&&oT(t,T,(A,E)=>{for(const _ in A){let w=A[_];if(Array.isArray(w)){const k=v?w.length-1:0;w=w[k]}w!==null&&(o[_]=w)}for(const _ in E)o[_]=E[_]}),l&&(d&&h!==!1&&!vu(d)&&oT(t,d,A=>{for(const E in A)w3(a,E)}),a.length&&(o.willChange=a.join(","))),o}const{schedule:ze,cancel:oi,state:Nt,steps:Pp}=rC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zt,!0),T3={useVisualState:wC({scrapeMotionValuesFromProps:yC,createRenderState:fC,onMount:(t,e,{renderState:n,latestValues:r})=>{ze.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ze.render(()=>{t0(n,r,n0(e.tagName),t.transformTemplate),gC(e,n)})}})},S3={useVisualState:wC({applyWillChange:!0,scrapeMotionValuesFromProps:r0,createRenderState:e0})};function P3(t,{forwardMotionProps:e=!1},n,r){return{...Xv(t)?T3:S3,preloadedFeatures:n,useRender:g3(e),createVisualElement:r,Component:t}}function $r(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const EC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function yf(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const I3=t=>e=>EC(e)&&t(e,yf(e));function Gr(t,e,n,r){return $r(t,e,I3(n),r)}const R3=(t,e)=>n=>e(t(n)),Qr=(...t)=>t.reduce(R3);function TC(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const aT=TC("dragHorizontal"),lT=TC("dragVertical");function SC(t){let e=!1;if(t==="y")e=lT();else if(t==="x")e=aT();else{const n=aT(),r=lT();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function PC(){const t=SC(!0);return t?(t(),!1):!0}class hs{constructor(e){this.isMounted=!1,this.node=e}update(){}}function uT(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||PC())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&ze.postRender(()=>l(s,o))};return Gr(t.current,n,i,{passive:!t.getProps()[r]})}class A3 extends hs{mount(){this.unmount=Qr(uT(this.node,!0),uT(this.node,!1))}unmount(){}}class C3 extends hs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qr($r(this.node.current,"focus",()=>this.onFocus()),$r(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const IC=(t,e)=>e?t===e?!0:IC(t,e.parentElement):!1;function Ip(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,yf(n))}class x3 extends hs{constructor(){super(...arguments),this.removeStartListeners=Zt,this.removeEndListeners=Zt,this.removeAccessibleListeners=Zt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Gr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:d}=this.node.getProps(),f=!d&&!IC(this.node.current,a.target)?h:c;f&&ze.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Gr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Qr(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Ip("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&ze.postRender(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=$r(this.node.current,"keyup",o),Ip("down",(a,l)=>{this.startPress(a,l)})},n=$r(this.node.current,"keydown",e),r=()=>{this.isPressing&&Ip("cancel",(s,o)=>this.cancelPress(s,o))},i=$r(this.node.current,"blur",r);this.removeAccessibleListeners=Qr(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ze.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!PC()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ze.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Gr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=$r(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Qr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Pg=new WeakMap,Rp=new WeakMap,b3=t=>{const e=Pg.get(t.target);e&&e(t)},k3=t=>{t.forEach(b3)};function D3({root:t,...e}){const n=t||document;Rp.has(n)||Rp.set(n,{});const r=Rp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(k3,{root:t,...e})),r[i]}function O3(t,e,n){const r=D3(e);return Pg.set(t,n),r.observe(t),()=>{Pg.delete(t),r.unobserve(t)}}const N3={some:0,all:1};class L3 extends hs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:N3[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=c?h:d;f&&f(l)};return O3(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(M3(e,n))&&this.startObserver()}unmount(){}}function M3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const V3={inView:{Feature:L3},tap:{Feature:x3},focus:{Feature:C3},hover:{Feature:A3}};function RC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function vf(t,e,n){const r=t.getProps();return i0(r,e,n!==void 0?n:r.custom,t)}const Ki=t=>t*1e3,Xr=t=>t/1e3,F3={type:"spring",stiffness:500,damping:25,restSpeed:10},j3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),U3={type:"keyframes",duration:.8},B3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},z3=(t,{keyframes:e})=>e.length>2?U3:cs.has(t)?t.startsWith("scale")?j3(e[1]):F3:B3;function $3({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function o0(t,e){return t[e]||t.default||t}const W3=t=>t!==null;function _f(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(W3),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}let sh;function H3(){sh=void 0}const Gi={now:()=>(sh===void 0&&Gi.set(Nt.isProcessing||bB.useManualTiming?Nt.timestamp:performance.now()),sh),set:t=>{sh=t,queueMicrotask(H3)}},AC=t=>/^0[^.\s]+$/u.test(t);function q3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||AC(t):!0}const CC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),K3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function G3(t){const e=K3.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function xC(t,e,n=1){const[r,i]=G3(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return CC(o)?parseFloat(o):o}return Yv(i)?xC(i,e,n+1):i}const Q3=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),cT=t=>t===Ca||t===ae,hT=(t,e)=>parseFloat(t.split(", ")[e]),dT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return hT(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?hT(s[1],t):0}},X3=new Set(["x","y","z"]),Y3=zu.filter(t=>!X3.has(t));function J3(t){const e=[];return Y3.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ya={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:dT(4,13),y:dT(5,14)};ya.translateX=ya.x;ya.translateY=ya.y;const bC=t=>e=>e.test(t),Z3={test:t=>t==="auto",parse:t=>t},kC=[Ca,ae,Sr,Si,i3,r3,Z3],fT=t=>kC.find(bC(t)),Ms=new Set;let Ig=!1,Rg=!1;function DC(){if(Rg){const t=Array.from(Ms).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=J3(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Rg=!1,Ig=!1,Ms.forEach(t=>t.complete()),Ms.clear()}function OC(){Ms.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Rg=!0)})}function ez(){OC(),DC()}class a0{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ms.add(this),Ig||(Ig=!0,ze.read(OC),ze.resolveKeyframes(DC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ms.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ms.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const l0=(t,e)=>n=>!!($u(n)&&t3.test(n)&&n.startsWith(t)||e&&!n3(n)&&Object.prototype.hasOwnProperty.call(n,e)),NC=(t,e,n)=>r=>{if(!$u(r))return r;const[i,s,o,a]=r.match(Jv);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},tz=t=>ts(0,255,t),Ap={...Ca,transform:t=>Math.round(tz(t))},Ds={test:l0("rgb","red"),parse:NC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ap.transform(t)+", "+Ap.transform(e)+", "+Ap.transform(n)+", "+Fl(Vl.transform(r))+")"};function nz(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Ag={test:l0("#"),parse:nz,transform:Ds.transform},Fo={test:l0("hsl","hue"),parse:NC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Sr.transform(Fl(e))+", "+Sr.transform(Fl(n))+", "+Fl(Vl.transform(r))+")"},Gt={test:t=>Ds.test(t)||Ag.test(t)||Fo.test(t),parse:t=>Ds.test(t)?Ds.parse(t):Fo.test(t)?Fo.parse(t):Ag.parse(t),transform:t=>$u(t)?t:t.hasOwnProperty("red")?Ds.transform(t):Fo.transform(t)};function rz(t){var e,n;return isNaN(t)&&$u(t)&&(((e=t.match(Jv))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(e3))===null||n===void 0?void 0:n.length)||0)>0}const LC="number",MC="color",iz="var",sz="var(",pT="${}",oz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _u(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(oz,l=>(Gt.test(l)?(r.color.push(s),i.push(MC),n.push(Gt.parse(l))):l.startsWith(sz)?(r.var.push(s),i.push(iz),n.push(l)):(r.number.push(s),i.push(LC),n.push(parseFloat(l))),++s,pT)).split(pT);return{values:n,split:a,indexes:r,types:i}}function VC(t){return _u(t).values}function FC(t){const{split:e,types:n}=_u(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===LC?s+=Fl(i[o]):a===MC?s+=Gt.transform(i[o]):s+=i[o]}return s}}const az=t=>typeof t=="number"?0:t;function lz(t){const e=VC(t);return FC(t)(e.map(az))}const ns={test:rz,parse:VC,createTransformer:FC,getAnimatableNone:lz},uz=new Set(["brightness","contrast","saturate","opacity"]);function cz(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Jv)||[];if(!r)return t;const i=n.replace(r,"");let s=uz.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const hz=/\b([a-z-]*)\(.*?\)/gu,Cg={...ns,getAnimatableNone:t=>{const e=t.match(hz);return e?e.map(cz).join(" "):t}},dz={...cC,color:Gt,backgroundColor:Gt,outlineColor:Gt,fill:Gt,stroke:Gt,borderColor:Gt,borderTopColor:Gt,borderRightColor:Gt,borderBottomColor:Gt,borderLeftColor:Gt,filter:Cg,WebkitFilter:Cg},u0=t=>dz[t];function jC(t,e){let n=u0(t);return n!==Cg&&(n=ns),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const fz=new Set(["auto","none","0"]);function pz(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!fz.has(s)&&_u(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=jC(n,i)}class UC extends a0{constructor(e,n,r,i){super(e,n,r,i,i==null?void 0:i.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Yv(c))){const h=xC(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Q3.has(r)||e.length!==2)return;const[i,s]=e,o=fT(i),a=fT(s);if(o!==a)if(cT(o)&&cT(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)q3(e[i])&&r.push(i);r.length&&pz(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ya[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=ya[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function BC(t){let e;return()=>(e===void 0&&(e=t()),e)}const mT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ns.test(t)||t==="0")&&!t.startsWith("url("));function mz(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function gz(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=mT(i,e),a=mT(s,e);return!o||!a?!1:mz(t)||n==="spring"&&r}class zC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&ez(),this._resolved}onKeyframesResolved(e,n){this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!gz(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(_f(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function $C(t,e){return e?t*(1e3/e):0}const yz=5;function WC(t,e,n){const r=Math.max(e-yz,0);return $C(n-t(r),e-r)}const Cp=.001,vz=.01,_z=10,wz=.05,Ez=1;function Tz({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=ts(wz,Ez,o),t=ts(vz,_z,Xr(t)),o<1?(i=c=>{const h=c*o,d=h*t,f=h-n,g=xg(c,o),v=Math.exp(-d);return Cp-f/g*v},s=c=>{const d=c*o*t,f=d*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-d),T=xg(Math.pow(c,2),o);return(-i(c)+Cp>0?-1:1)*((f-g)*v)/T}):(i=c=>{const h=Math.exp(-c*t),d=(c-n)*t+1;return-Cp+h*d},s=c=>{const h=Math.exp(-c*t),d=(n-c)*(t*t);return h*d});const a=5/t,l=Pz(i,s,a);if(t=Ki(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const Sz=12;function Pz(t,e,n){let r=n;for(let i=1;i<Sz;i++)r=r-t(r)/e(r);return r}function xg(t,e){return t*Math.sqrt(1-e*e)}const Iz=["duration","bounce"],Rz=["stiffness","damping","mass"];function gT(t,e){return e.some(n=>t[n]!==void 0)}function Az(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!gT(t,Rz)&&gT(t,Iz)){const n=Tz(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function HC({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:h,velocity:d,isResolvedFromDuration:f}=Az({...r,velocity:-Xr(r.velocity||0)}),g=d||0,v=l/(2*Math.sqrt(a*c)),T=s-i,A=Xr(Math.sqrt(a/c)),E=Math.abs(T)<5;n||(n=E?.01:2),e||(e=E?.005:.5);let _;if(v<1){const w=xg(A,v);_=k=>{const M=Math.exp(-v*A*k);return s-M*((g+v*A*T)/w*Math.sin(w*k)+T*Math.cos(w*k))}}else if(v===1)_=w=>s-Math.exp(-A*w)*(T+(g+A*T)*w);else{const w=A*Math.sqrt(v*v-1);_=k=>{const M=Math.exp(-v*A*k),R=Math.min(w*k,300);return s-M*((g+v*A*T)*Math.sinh(R)+w*T*Math.cosh(R))/w}}return{calculatedDuration:f&&h||null,next:w=>{const k=_(w);if(f)o.done=w>=h;else{let M=g;w!==0&&(v<1?M=WC(_,w,k):M=0);const R=Math.abs(M)<=n,I=Math.abs(s-k)<=e;o.done=R&&I}return o.value=o.done?s:k,o}}}function yT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=t[0],f={done:!1,value:d},g=y=>a!==void 0&&y<a||l!==void 0&&y>l,v=y=>a===void 0?l:l===void 0||Math.abs(a-y)<Math.abs(l-y)?a:l;let T=n*e;const A=d+T,E=o===void 0?A:o(A);E!==A&&(T=E-d);const _=y=>-T*Math.exp(-y/r),w=y=>E+_(y),k=y=>{const S=_(y),C=w(y);f.done=Math.abs(S)<=c,f.value=f.done?E:C};let M,R;const I=y=>{g(f.value)&&(M=y,R=HC({keyframes:[f.value,v(f.value)],velocity:WC(w,y,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return I(0),{calculatedDuration:null,next:y=>{let S=!1;return!R&&M===void 0&&(S=!0,k(y),I(y)),M!==void 0&&y>=M?R.next(y-M):(!S&&k(y),f)}}}const qC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Cz=1e-7,xz=12;function bz(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=qC(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>Cz&&++a<xz);return o}function Hu(t,e,n,r){if(t===e&&n===r)return Zt;const i=s=>bz(s,0,1,t,n);return s=>s===0||s===1?s:qC(i(s),e,r)}const kz=Hu(.42,0,1,1),Dz=Hu(0,0,.58,1),KC=Hu(.42,0,.58,1),Oz=t=>Array.isArray(t)&&typeof t[0]!="number",GC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,QC=t=>e=>1-t(1-e),c0=t=>1-Math.sin(Math.acos(t)),XC=QC(c0),Nz=GC(c0),YC=Hu(.33,1.53,.69,.99),h0=QC(YC),Lz=GC(h0),Mz=t=>(t*=2)<1?.5*h0(t):.5*(2-Math.pow(2,-10*(t-1))),vT={linear:Zt,easeIn:kz,easeInOut:KC,easeOut:Dz,circIn:c0,circInOut:Nz,circOut:XC,backIn:h0,backInOut:Lz,backOut:YC,anticipate:Mz},_T=t=>{if(Array.isArray(t)){Tg(t.length===4);const[e,n,r,i]=t;return Hu(e,n,r,i)}else if(typeof t=="string")return Tg(vT[t]!==void 0),vT[t];return t},wu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},it=(t,e,n)=>t+(e-t)*n;function xp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Vz({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=xp(l,a,t+1/3),s=xp(l,a,t),o=xp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function dd(t,e){return n=>n>0?e:t}const bp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Fz=[Ag,Ds,Fo],jz=t=>Fz.find(e=>e.test(t));function wT(t){const e=jz(t);if(!e)return!1;let n=e.parse(t);return e===Fo&&(n=Vz(n)),n}const ET=(t,e)=>{const n=wT(t),r=wT(e);if(!n||!r)return dd(t,e);const i={...n};return s=>(i.red=bp(n.red,r.red,s),i.green=bp(n.green,r.green,s),i.blue=bp(n.blue,r.blue,s),i.alpha=it(n.alpha,r.alpha,s),Ds.transform(i))},bg=new Set(["none","hidden"]);function Uz(t,e){return bg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Bz(t,e){return n=>it(t,e,n)}function d0(t){return typeof t=="number"?Bz:typeof t=="string"?Yv(t)?dd:Gt.test(t)?ET:Wz:Array.isArray(t)?JC:typeof t=="object"?Gt.test(t)?ET:zz:dd}function JC(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>d0(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function zz(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=d0(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function $z(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const Wz=(t,e)=>{const n=ns.createTransformer(e),r=_u(t),i=_u(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?bg.has(t)&&!i.values.length||bg.has(e)&&!r.values.length?Uz(t,e):Qr(JC($z(r,i),i.values),n):dd(t,e)};function ZC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?it(t,e,n):d0(t)(t,e)}function Hz(t,e,n){const r=[],i=n||ZC,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Zt:e;a=Qr(l,a)}r.push(a)}return r}function qz(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Tg(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Hz(e,r,i),a=o.length,l=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=wu(t[h],t[h+1],c);return o[h](d)};return n?c=>l(ts(t[0],t[s-1],c)):l}function Kz(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=wu(0,e,r);t.push(it(n,1,i))}}function Gz(t){const e=[0];return Kz(e,t.length-1),e}function Qz(t,e){return t.map(n=>n*e)}function Xz(t,e){return t.map(()=>e||KC).splice(0,t.length-1)}function fd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Oz(r)?r.map(_T):_T(r),s={done:!1,value:e[0]},o=Qz(n&&n.length===e.length?n:Gz(e),t),a=qz(o,e,{ease:Array.isArray(i)?i:Xz(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const TT=2e4;function Yz(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<TT;)e+=n,r=t.next(e);return e>=TT?1/0:e}const Jz=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ze.update(e,!0),stop:()=>oi(e),now:()=>Nt.isProcessing?Nt.timestamp:Gi.now()}},Zz={decay:yT,inertia:yT,tween:fd,keyframes:fd,spring:HC},e9=t=>t/100;class f0 extends zC{constructor({KeyframeResolver:e=a0,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:r,motionValue:i,keyframes:s}=this.options,o=(a,l)=>this.onKeyframesResolved(a,l);r&&i&&i.owner?this.resolver=i.owner.resolveKeyframes(s,o,r,i):this.resolver=new e(s,o,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Zz[n]||fd;let l,c;a!==fd&&typeof e[0]!="number"&&(l=Qr(e9,ZC(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=Yz(h));const{calculatedDuration:d}=h,f=d+i,g=f*(r+1)-i;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:y}=this.options;return{done:!0,value:y[y.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:h,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:g,repeatType:v,repeatDelay:T,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const E=this.currentTime-f*(this.speed>=0?1:-1),_=this.speed>=0?E<0:E>h;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let w=this.currentTime,k=s;if(g){const y=Math.min(this.currentTime,h)/d;let S=Math.floor(y),C=y%1;!C&&y>=1&&(C=1),C===1&&S--,S=Math.min(S,g+1),!!(S%2)&&(v==="reverse"?(C=1-C,T&&(C-=T/d)):v==="mirror"&&(k=o)),w=ts(0,1,C)*d}const M=_?{done:!1,value:l[0]}:k.next(w);a&&(M.value=a(M.value));let{done:R}=M;!_&&c!==null&&(R=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return I&&i!==void 0&&(M.value=_f(l,this.options,i)),A&&A(M.value),I&&this.finish(),M}get duration(){const{resolved:e}=this;return e?Xr(e.calculatedDuration):0}get time(){return Xr(this.currentTime)}set time(e){e=Ki(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Xr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Jz,onPlay:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ex=t=>Array.isArray(t)&&typeof t[0]=="number";function tx(t){return!!(!t||typeof t=="string"&&t in p0||ex(t)||Array.isArray(t)&&t.every(tx))}const wl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,p0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wl([0,.65,.55,1]),circOut:wl([.55,0,1,.45]),backIn:wl([.31,.01,.66,-.59]),backOut:wl([.33,1.53,.69,.99])};function t9(t){return nx(t)||p0.easeOut}function nx(t){if(t)return ex(t)?wl(t):Array.isArray(t)?t.map(t9):p0[t]}function n9(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=nx(a);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const r9=BC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),pd=10,i9=2e4;function s9(t){return t.type==="spring"||!tx(t.ease)}function o9(t,e){const n=new f0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<i9;)r=n.sample(s),i.push(r.value),s+=pd;return{times:void 0,keyframes:i,duration:s-pd,ease:"linear"}}class ST extends zC{constructor(e){super(e);const{name:n,motionValue:r,keyframes:i}=this.options;this.resolver=new UC(i,(s,o)=>this.onKeyframesResolved(s,o),n,r),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(s9(this.options)){const{onComplete:d,onUpdate:f,motionValue:g,...v}=this.options,T=o9(e,v);e=T.keyframes,e.length===1&&(e[1]=e[0]),i=T.duration,s=T.times,o=T.ease,a="keyframes"}const h=n9(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return h.startTime=Gi.now(),this.pendingTimeline?(h.timeline=this.pendingTimeline,this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:d}=this.options;l.set(_f(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Xr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Xr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ki(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Zt;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Zt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:d,...f}=this.options,g=new f0({...f,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),v=Ki(this.time);c.setWithVelocity(g.sample(v-pd).value,g.sample(v).value,pd)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return r9()&&r&&vC.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}function a9(t,e){let n;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return ze.update(r,!0),()=>oi(r)}const l9=BC(()=>window.ScrollTimeline!==void 0);class u9{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(l9()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),a9(i=>{r.time=r.duration*i},e)});return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const m0=(t,e,n,r={},i,s,o)=>a=>{const l=o0(r,t)||{},c=l.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Ki(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-h,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:s?void 0:i};$3(l)||(d={...d,...z3(t,d)}),d.duration&&(d.duration=Ki(d.duration)),d.repeatDelay&&(d.repeatDelay=Ki(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const g=_f(d.keyframes,l);if(g!==void 0)return ze.update(()=>{d.onUpdate(g),d.onComplete()}),new u9([])}return!s&&ST.supports(d)?new ST(d):new f0(d)};class g0{constructor(){this.subscriptions=[]}add(e){return mf(this.subscriptions,e),()=>gf(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const PT=30,c9=t=>!isNaN(parseFloat(t));class rx{constructor(e,n={}){this.version="11.3.19",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Gi.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Gi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=c9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new g0);const r=this.events[e].add(n);return e==="change"?()=>{r(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Gi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>PT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,PT);return $C(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Eu(t,e){return new rx(t,e)}function h9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Eu(n))}function d9(t,e){const n=vf(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=v3(s[o]);h9(t,o,a)}}function ix(t){return t.getProps()[nC]}class f9 extends rx{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=_C(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let i=!1;return()=>{if(i)return;i=!0;const s=this.counts.get(n)-1;this.counts.set(n,s),s===0&&(gf(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}function p9(t){return!!(Jt(t)&&t.add)}function kg(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new f9("auto"),t.addValue("willChange",r)),p9(r))return r.add(e)}function m9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function sx(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const f=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),g=l[d];if(g===void 0||h&&m9(h,d))continue;const v={delay:n,elapsed:0,...o0(o||{},d)};let T=!1;if(window.HandoffAppearAnimations){const E=ix(t);if(E){const _=window.HandoffAppearAnimations(E,d,f,ze);_!==null&&(v.elapsed=_,T=!0)}}f.start(m0(d,f,g,t.shouldReduceMotion&&cs.has(d)?{type:!1}:v,t,T,kg(t,d)));const A=f.animation;A&&c.push(A)}return a&&Promise.all(c).then(()=>{ze.update(()=>{a&&d9(t,a)})}),c}function Dg(t,e,n={}){var r;const i=vf(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(sx(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=s;return g9(t,e,h+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,h]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function g9(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(y9).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(Dg(c,e,{...s,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function y9(t,e){return t.sortNodePosition(e)}function v9(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Dg(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Dg(t,e,n);else{const i=typeof e=="function"?vf(t,e,n.custom):e;r=Promise.all(sx(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const _9=[...Kv].reverse(),w9=Kv.length;function E9(t){return e=>Promise.all(e.map(({animation:n,options:r})=>v9(t,n,r)))}function T9(t){let e=E9(t),n=IT(),r=!0;const i=l=>(c,h)=>{var d;const f=vf(t,h,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:g,transitionEnd:v,...T}=f;c={...c,...T,...v}}return c};function s(l){e=l(t)}function o(l){const c=t.getProps(),h=t.getVariantContext(!0)||{},d=[],f=new Set;let g={},v=1/0;for(let A=0;A<w9;A++){const E=_9[A],_=n[E],w=c[E]!==void 0?c[E]:h[E],k=yu(w),M=E===l?_.isActive:null;M===!1&&(v=A);let R=w===h[E]&&w!==c[E]&&k;if(R&&r&&t.manuallyAnimateOnMount&&(R=!1),_.protectedKeys={...g},!_.isActive&&M===null||!w&&!_.prevProp||vu(w)||typeof w=="boolean")continue;let y=S9(_.prevProp,w)||E===l&&_.isActive&&!R&&k||A>v&&k,S=!1;const C=Array.isArray(w)?w:[w];let x=C.reduce(i(E),{});M===!1&&(x={});const{prevResolvedValues:D={}}=_,b={...D,...x},G=le=>{y=!0,f.has(le)&&(S=!0,f.delete(le)),_.needsAnimating[le]=!0;const be=t.getValue(le);be&&(be.liveStyle=!1)};for(const le in b){const be=x[le],fe=D[le];if(g.hasOwnProperty(le))continue;let q=!1;Sg(be)&&Sg(fe)?q=!RC(be,fe):q=be!==fe,q?be!=null?G(le):f.add(le):be!==void 0&&f.has(le)?G(le):_.protectedKeys[le]=!0}_.prevProp=w,_.prevResolvedValues=x,_.isActive&&(g={...g,...x}),r&&t.blockInitialAnimation&&(y=!1),y&&(!R||S)&&d.push(...C.map(le=>({animation:le,options:{type:E}})))}if(f.size){const A={};f.forEach(E=>{const _=t.getBaseTarget(E),w=t.getValue(E);w&&(w.liveStyle=!0),A[E]=_??null}),d.push({animation:A})}let T=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(d):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=IT(),r=!0}}}function S9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!RC(e,t):!1}function vs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function IT(){return{animate:vs(!0),whileInView:vs(),whileHover:vs(),whileTap:vs(),whileDrag:vs(),whileFocus:vs(),exit:vs()}}class P9 extends hs{constructor(e){super(e),e.animationState||(e.animationState=T9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let I9=0;class R9 extends hs{constructor(){super(...arguments),this.id=I9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const A9={animation:{Feature:P9},exit:{Feature:R9}},RT=(t,e)=>Math.abs(t-e);function C9(t,e){const n=RT(t.x,e.x),r=RT(t.y,e.y);return Math.sqrt(n**2+r**2)}class ox{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Dp(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=C9(d.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:v}=d,{timestamp:T}=Nt;this.history.push({...v,timestamp:T});const{onStart:A,onMove:E}=this.handlers;f||(A&&A(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=kp(f,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Dp(d.type==="pointercancel"?this.lastMoveEventInfo:kp(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,A),v&&v(d,A)},!EC(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=yf(e),a=kp(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Nt;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Dp(a,this.history)),this.removeListeners=Qr(Gr(this.contextWindow,"pointermove",this.handlePointerMove),Gr(this.contextWindow,"pointerup",this.handlePointerUp),Gr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),oi(this.updatePoint)}}function kp(t,e){return e?{point:e(t.point)}:t}function AT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Dp({point:t},e){return{point:t,delta:AT(t,ax(e)),offset:AT(t,x9(e)),velocity:b9(e,.1)}}function x9(t){return t[0]}function ax(t){return t[t.length-1]}function b9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=ax(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ki(e)));)n--;if(!r)return{x:0,y:0};const s=Xr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const lx=1e-4,k9=1-lx,D9=1+lx,ux=.01,O9=0-ux,N9=0+ux;function Dn(t){return t.max-t.min}function L9(t,e,n){return Math.abs(t-e)<=n}function CT(t,e,n,r=.5){t.origin=r,t.originPoint=it(e.min,e.max,t.origin),t.scale=Dn(n)/Dn(e),t.translate=it(n.min,n.max,t.origin)-t.originPoint,(t.scale>=k9&&t.scale<=D9||isNaN(t.scale))&&(t.scale=1),(t.translate>=O9&&t.translate<=N9||isNaN(t.translate))&&(t.translate=0)}function jl(t,e,n,r){CT(t.x,e.x,n.x,r?r.originX:void 0),CT(t.y,e.y,n.y,r?r.originY:void 0)}function xT(t,e,n){t.min=n.min+e.min,t.max=t.min+Dn(e)}function M9(t,e,n){xT(t.x,e.x,n.x),xT(t.y,e.y,n.y)}function bT(t,e,n){t.min=e.min-n.min,t.max=t.min+Dn(e)}function Ul(t,e,n){bT(t.x,e.x,n.x),bT(t.y,e.y,n.y)}function V9(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?it(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?it(n,t,r.max):Math.min(t,n)),t}function kT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function F9(t,{top:e,left:n,bottom:r,right:i}){return{x:kT(t.x,n,i),y:kT(t.y,e,r)}}function DT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function j9(t,e){return{x:DT(t.x,e.x),y:DT(t.y,e.y)}}function U9(t,e){let n=.5;const r=Dn(t),i=Dn(e);return i>r?n=wu(e.min,e.max-r,t.min):r>i&&(n=wu(t.min,t.max-i,e.min)),ts(0,1,n)}function B9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Og=.35;function z9(t=Og){return t===!1?t=0:t===!0&&(t=Og),{x:OT(t,"left","right"),y:OT(t,"top","bottom")}}function OT(t,e,n){return{min:NT(t,e),max:NT(t,n)}}function NT(t,e){return typeof t=="number"?t:t[e]||0}const LT=()=>({translate:0,scale:1,origin:0,originPoint:0}),jo=()=>({x:LT(),y:LT()}),MT=()=>({min:0,max:0}),ht=()=>({x:MT(),y:MT()});function Fn(t){return[t("x"),t("y")]}function cx({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function $9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function W9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Op(t){return t===void 0||t===1}function Ng({scale:t,scaleX:e,scaleY:n}){return!Op(t)||!Op(e)||!Op(n)}function Ss(t){return Ng(t)||hx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function hx(t){return VT(t.x)||VT(t.y)}function VT(t){return t&&t!=="0%"}function md(t,e,n){const r=t-n,i=e*r;return n+i}function FT(t,e,n,r,i){return i!==void 0&&(t=md(t,i,r)),md(t,n,r)+e}function Lg(t,e=0,n=1,r,i){t.min=FT(t.min,e,n,r,i),t.max=FT(t.max,e,n,r,i)}function dx(t,{x:e,y:n}){Lg(t.x,e.translate,e.scale,e.originPoint),Lg(t.y,n.translate,n.scale,n.originPoint)}const jT=.999999999999,UT=1.0000000000001;function H9(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Bo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,dx(t,o)),r&&Ss(s.latestValues)&&Bo(t,s.latestValues))}e.x<UT&&e.x>jT&&(e.x=1),e.y<UT&&e.y>jT&&(e.y=1)}function Uo(t,e){t.min=t.min+e,t.max=t.max+e}function BT(t,e,n,r,i=.5){const s=it(t.min,t.max,i);Lg(t,e,n,s,r)}function Bo(t,e){BT(t.x,e.x,e.scaleX,e.scale,e.originX),BT(t.y,e.y,e.scaleY,e.scale,e.originY)}function fx(t,e){return cx(W9(t.getBoundingClientRect(),e))}function q9(t,e,n){const r=fx(t,n),{scroll:i}=e;return i&&(Uo(r.x,i.offset.x),Uo(r.y,i.offset.y)),r}const px=({current:t})=>t?t.ownerDocument.defaultView:null,K9=new WeakMap;class G9{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(yf(h,"page").point)},s=(h,d)=>{var f;const{drag:g,dragPropagation:v,onDragStart:T}=this.getProps();if(g&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=SC(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fn(E=>{let _=this.getAxisMotionValue(E).get()||0;if(Sr.test(_)){const{projection:w}=this.visualElement;if(w&&w.layout){const k=w.layout.layoutBox[E];k&&(_=Dn(k)*(parseFloat(_)/100))}}this.originPoint[E]=_}),T&&ze.postRender(()=>T(h,d)),(f=this.removeWillChange)===null||f===void 0||f.call(this),this.removeWillChange=kg(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:v,onDrag:T}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:A}=d;if(g&&this.currentDirection===null){this.currentDirection=Q9(A),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,A),this.updateAxis("y",d.point,A),this.visualElement.render(),T&&T(h,d)},a=(h,d)=>this.stop(h,d),l=()=>Fn(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new ox(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:px(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&ze.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Oc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=V9(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Vo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=F9(i.layoutBox,n):this.constraints=!1,this.elastic=z9(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Fn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=B9(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Vo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=q9(r,i.root,this.visualElement.getTransformPagePoint());let o=j9(i.layout.layoutBox,s);if(n){const a=n($9(o));this.hasMutatedConstraints=!!a,a&&(o=cx(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Fn(h=>{if(!Oc(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const f=i?200:1e6,g=i?40:1e7,v={type:"inertia",velocity:r?e[h]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(m0(e,r,0,n,this.visualElement,!1,kg(this.visualElement,e)))}stopAnimation(){Fn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Fn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Fn(n=>{const{drag:r}=this.getProps();if(!Oc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-it(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Vo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Fn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=U9({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fn(o=>{if(!Oc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(it(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;K9.set(this.visualElement,this);const e=this.visualElement.current,n=Gr(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Vo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ze.read(r);const o=$r(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Fn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Og,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Oc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Q9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class X9 extends hs{constructor(e){super(e),this.removeGroupControls=Zt,this.removeListeners=Zt,this.controls=new G9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zt}unmount(){this.removeGroupControls(),this.removeListeners()}}const zT=t=>(e,n)=>{t&&ze.postRender(()=>t(e,n))};class Y9 extends hs{constructor(){super(...arguments),this.removePointerDownListener=Zt}onPointerDown(e){this.session=new ox(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:px(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:zT(e),onStart:zT(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ze.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Gr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function J9(){const t=L.useContext(df);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=L.useId();L.useEffect(()=>r(i),[]);const s=L.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const oh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $T(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ol={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ae.test(t))t=parseFloat(t);else return t;const n=$T(t,e.target.x),r=$T(t,e.target.y);return`${n}% ${r}%`}},Z9={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ns.parse(t);if(i.length>5)return r;const s=ns.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=it(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class e5 extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;KB(t5),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),oh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ze.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mx(t){const[e,n]=J9(),r=L.useContext(Qv);return B.jsx(e5,{...t,layoutGroup:r,switchLayoutGroup:L.useContext(iC),isPresent:e,safeToRemove:n})}const t5={borderRadius:{...ol,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ol,borderTopRightRadius:ol,borderBottomLeftRadius:ol,borderBottomRightRadius:ol,boxShadow:Z9},gx=["TopLeft","TopRight","BottomLeft","BottomRight"],n5=gx.length,WT=t=>typeof t=="string"?parseFloat(t):t,HT=t=>typeof t=="number"||ae.test(t);function r5(t,e,n,r,i,s){i?(t.opacity=it(0,n.opacity!==void 0?n.opacity:1,i5(r)),t.opacityExit=it(e.opacity!==void 0?e.opacity:1,0,s5(r))):s&&(t.opacity=it(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<n5;o++){const a=`border${gx[o]}Radius`;let l=qT(e,a),c=qT(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||HT(l)===HT(c)?(t[a]=Math.max(it(WT(l),WT(c),r),0),(Sr.test(c)||Sr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=it(e.rotate||0,n.rotate||0,r))}function qT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const i5=yx(0,.5,XC),s5=yx(.5,.95,Zt);function yx(t,e,n){return r=>r<t?0:r>e?1:n(wu(t,e,r))}function KT(t,e){t.min=e.min,t.max=e.max}function Vn(t,e){KT(t.x,e.x),KT(t.y,e.y)}function GT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function QT(t,e,n,r,i){return t-=e,t=md(t,1/n,r),i!==void 0&&(t=md(t,1/i,r)),t}function o5(t,e=0,n=1,r=.5,i,s=t,o=t){if(Sr.test(e)&&(e=parseFloat(e),e=it(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=it(s.min,s.max,r);t===s&&(a-=e),t.min=QT(t.min,e,n,a,i),t.max=QT(t.max,e,n,a,i)}function XT(t,e,[n,r,i],s,o){o5(t,e[n],e[r],e[i],e.scale,s,o)}const a5=["x","scaleX","originX"],l5=["y","scaleY","originY"];function YT(t,e,n,r){XT(t.x,e,a5,n?n.x:void 0,r?r.x:void 0),XT(t.y,e,l5,n?n.y:void 0,r?r.y:void 0)}function JT(t){return t.translate===0&&t.scale===1}function vx(t){return JT(t.x)&&JT(t.y)}function ZT(t,e){return t.min===e.min&&t.max===e.max}function u5(t,e){return ZT(t.x,e.x)&&ZT(t.y,e.y)}function eS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _x(t,e){return eS(t.x,e.x)&&eS(t.y,e.y)}function tS(t){return Dn(t.x)/Dn(t.y)}function nS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class c5{constructor(){this.members=[]}add(e){mf(this.members,e),e.scheduleRender()}remove(e){if(gf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function h5(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:f,skewX:g,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const d5=(t,e)=>t.depth-e.depth;class f5{constructor(){this.children=[],this.isDirty=!1}add(e){mf(this.children,e),this.isDirty=!0}remove(e){gf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(d5),this.isDirty=!1,this.children.forEach(e)}}function p5(t,e){const n=Gi.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(oi(r),t(s-e))};return ze.read(r,!0),()=>oi(r)}function m5(t){return t instanceof SVGElement&&t.tagName!=="svg"}function g5(t,e,n){const r=Jt(t)?t:Eu(t);return r.start(m0("",r,e,n)),r.animation}const Ps={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},El=typeof window<"u"&&window.MotionDebug!==void 0,Np=["","X","Y","Z"],y5={visibility:"hidden"},rS=1e3;let v5=0;function Lp(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function wx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return!1;const{visualElement:e}=t.options;return e?ix(e)?!0:t.parent&&!t.parent.hasCheckedOptimisedAppear?wx(t.parent):!1:!1}function Ex({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=v5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,El&&(Ps.totalNodes=Ps.resolvedTargetDeltas=Ps.recalculatedProjection=0),this.nodes.forEach(E5),this.nodes.forEach(R5),this.nodes.forEach(A5),this.nodes.forEach(T5),El&&window.MotionDebug.record(Ps)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new f5)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new g0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=m5(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=p5(f,250),oh.hasAnimatedSinceResize&&(oh.hasAnimatedSinceResize=!1,this.nodes.forEach(sS))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||h.getDefaultTransition()||D5,{onLayoutAnimationStart:A,onLayoutAnimationComplete:E}=h.getProps(),_=!this.targetLayout||!_x(this.targetLayout,v)||g,w=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const k={...o0(T,"layout"),onPlay:A,onComplete:E};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else f||sS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,oi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(C5),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&wx(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iS);return}this.isUpdating||this.nodes.forEach(P5),this.isUpdating=!1,this.nodes.forEach(I5),this.nodes.forEach(_5),this.nodes.forEach(w5),this.clearAllSnapshots();const a=Gi.now();Nt.delta=ts(0,1e3/60,a-Nt.timestamp),Nt.timestamp=a,Nt.isProcessing=!0,Pp.update.process(Nt),Pp.preRender.process(Nt),Pp.render.process(Nt),Nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(S5),this.sharedNodes.forEach(x5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!vx(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||Ss(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),O5(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return ht();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(N5))){const{scroll:h}=this.root;h&&(Uo(l.x,h.offset.x),Uo(l.y,h.offset.y))}return l}removeElementScroll(o){var a;const l=ht();if(Vn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Vn(l,o),Uo(l.x,d.offset.x),Uo(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=ht();Vn(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Bo(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ss(h.latestValues)&&Bo(l,h.latestValues)}return Ss(this.latestValues)&&Bo(l,this.latestValues),l}removeTransform(o){const a=ht();Vn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ss(c.latestValues))continue;Ng(c.latestValues)&&c.updateSnapshot();const h=ht(),d=c.measurePageBox();Vn(h,d),YT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Ss(this.latestValues)&&YT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Nt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),Ul(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),M9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vn(this.target,this.layout.layoutBox),dx(this.target,this.targetDelta)):Vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),Ul(this.relativeTargetOrigin,this.target,g.target),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}El&&Ps.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ng(this.parent.latestValues)||hx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Nt.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;Vn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;H9(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ht());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(GT(this.prevProjectionDelta.x,this.projectionDelta.x),GT(this.prevProjectionDelta.y,this.projectionDelta.y)),jl(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!nS(this.projectionDelta.x,this.prevProjectionDelta.x)||!nS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),El&&Ps.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jo(),this.projectionDelta=jo(),this.projectionDeltaWithTransform=jo()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=jo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ht(),g=l?l.source:void 0,v=this.layout?this.layout.source:void 0,T=g!==v,A=this.getStack(),E=!A||A.members.length<=1,_=!!(T&&!E&&this.options.crossfade===!0&&!this.path.some(k5));this.animationProgress=0;let w;this.mixTargetDelta=k=>{const M=k/1e3;oS(d.x,o.x,M),oS(d.y,o.y,M),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ul(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),b5(this.relativeTarget,this.relativeTargetOrigin,f,M),w&&u5(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ht()),Vn(w,this.relativeTarget)),T&&(this.animationValues=h,r5(h,c,this.latestValues,M,_,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(oi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{oh.hasAnimatedSinceResize=!0,this.currentAnimation=g5(0,rS,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Tx(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ht();const d=Dn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Dn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Vn(a,l),Bo(a,h),jl(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new c5),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Lp("z",o,c,this.animationValues);for(let h=0;h<Np.length;h++)Lp(`rotate${Np[h]}`,o,c,this.animationValues),Lp(`skew${Np[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return y5;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ih(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=ih(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ss(this.latestValues)&&(T.transform=h?h({},""):"none",this.hasProjected=!1),T}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=h5(this.projectionDeltaWithTransform,this.treeScale,f),h&&(c.transform=h(f,c.transform));const{x:g,y:v}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const T in cd){if(f[T]===void 0)continue;const{correct:A,applyTo:E}=cd[T],_=c.transform==="none"?f[T]:A(f[T],d);if(E){const w=E.length;for(let k=0;k<w;k++)c[E[k]]=_}else c[T]=_}return this.options.layoutId&&(c.pointerEvents=d===this?ih(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(iS),this.root.sharedNodes.clear()}}}function _5(t){t.updateLayout()}function w5(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Fn(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],g=Dn(f);f.min=r[d].min,f.max=f.min+g}):Tx(s,n.layoutBox,r)&&Fn(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],g=Dn(r[d]);f.max=f.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=jo();jl(a,r,n.layoutBox);const l=jo();o?jl(l,t.applyTransform(i,!0),n.measuredBox):jl(l,r,n.layoutBox);const c=!vx(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:g}=d;if(f&&g){const v=ht();Ul(v,n.layoutBox,f.layoutBox);const T=ht();Ul(T,r,g.layoutBox),_x(v,T)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function E5(t){El&&Ps.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function T5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function S5(t){t.clearSnapshot()}function iS(t){t.clearMeasurements()}function P5(t){t.isLayoutDirty=!1}function I5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function sS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function R5(t){t.resolveTargetDelta()}function A5(t){t.calcProjection()}function C5(t){t.resetSkewAndRotation()}function x5(t){t.removeLeadSnapshot()}function oS(t,e,n){t.translate=it(e.translate,0,n),t.scale=it(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function aS(t,e,n,r){t.min=it(e.min,n.min,r),t.max=it(e.max,n.max,r)}function b5(t,e,n,r){aS(t.x,e.x,n.x,r),aS(t.y,e.y,n.y,r)}function k5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const D5={duration:.45,ease:[.4,0,.1,1]},lS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),uS=lS("applewebkit/")&&!lS("chrome/")?Math.round:Zt;function cS(t){t.min=uS(t.min),t.max=uS(t.max)}function O5(t){cS(t.x),cS(t.y)}function Tx(t,e,n){return t==="position"||t==="preserve-aspect"&&!L9(tS(e),tS(n),.2)}function N5(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const L5=Ex({attachResizeListener:(t,e)=>$r(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mp={current:void 0},Sx=Ex({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Mp.current){const t=new L5({});t.mount(window),t.setOptions({layoutScroll:!0}),Mp.current=t}return Mp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),M5={pan:{Feature:Y9},drag:{Feature:X9,ProjectionNode:Sx,MeasureLayout:mx}},Mg={current:null},Px={current:!1};function V5(){if(Px.current=!0,!!Hv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Mg.current=t.matches;t.addListener(e),e()}else Mg.current=!1}function F5(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Jt(i))t.addValue(r,i);else if(Jt(s))t.addValue(r,Eu(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Eu(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const hS=new WeakMap,j5=[...kC,Gt,ns],U5=t=>j5.find(bC(t)),dS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],B5=Gv.length;class z5{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.applyWillChange=!1,this.resolveKeyframes=(f,g,v,T)=>new this.KeyframeResolver(f,g,v,T,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=a0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,ze.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=pf(n),this.isVariantNode=oC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const g=d[f];l[f]!==void 0&&Jt(g)&&g.set(l[f],!1)}}mount(e){this.current=e,hS.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Px.current||V5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){hS.delete(this.current),this.projection&&this.projection.unmount(),oi(this.notifyUpdate),oi(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){const r=cs.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ga){const n=ga[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<dS.length;r++){const i=dS[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=F5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<B5;r++){const i=Gv[r],s=this.props[i];(yu(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Eu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(CC(i)||AC(i))?i=parseFloat(i):!U5(i)&&ns.test(n)&&(i=jC(e,n)),this.setBaseTarget(e,Jt(i)?i.get():i)),Jt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=i0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Jt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new g0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Ix extends z5{constructor(){super(...arguments),this.KeyframeResolver=UC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function $5(t){return window.getComputedStyle(t)}class W5 extends Ix{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=pC}readValueFromInstance(e,n){if(cs.has(n)){const r=u0(n);return r&&r.default||0}else{const r=$5(e),i=(uC(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return fx(e,n)}build(e,n,r){Zv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return r0(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Jt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class H5 extends Ix{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ht}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(cs.has(n)){const r=u0(n);return r&&r.default||0}return n=mC.has(n)?n:ff(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return yC(e,n,r)}build(e,n,r){t0(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){gC(e,n,r,i)}mount(e){this.isSVGTag=n0(e.tagName),super.mount(e)}}const q5=(t,e)=>Xv(t)?new H5(e):new W5(e,{allowProjection:t!==L.Fragment}),K5={layout:{ProjectionNode:Sx,MeasureLayout:mx}},G5={...A9,...V3,...M5,...K5},Q5=HB((t,e)=>P3(t,e,G5,q5));class X5 extends L.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Y5({children:t,isPresent:e}){const n=L.useId(),r=L.useRef(null),i=L.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=L.useContext(Wv);return L.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),B.jsx(X5,{isPresent:e,childRef:r,sizeRef:i,children:L.cloneElement(t,{ref:r})})}const J5=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=s0(Z5),l=L.useId(),c=L.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:h=>{a.set(h,!0);for(const d of a.values())if(!d)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random()]:[n]);return L.useMemo(()=>{a.forEach((h,d)=>a.set(d,!1))},[n]),L.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=B.jsx(Y5,{isPresent:n,children:t})),B.jsx(df.Provider,{value:c,children:t})};function Z5(){return new Map}const Nc=t=>t.key||"";function fS(t){const e=[];return L.Children.forEach(t,n=>{L.isValidElement(n)&&e.push(n)}),e}const e6=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=L.useMemo(()=>fS(t),[t]),l=a.map(Nc),c=L.useRef(!0),h=L.useRef(a),d=s0(()=>new Map),[f,g]=L.useState(a),[v,T]=L.useState(a);eC(()=>{c.current=!1,h.current=a;for(let _=0;_<v.length;_++){const w=Nc(v[_]);l.includes(w)?d.delete(w):d.get(w)!==!0&&d.set(w,!1)}},[v,l.length,l.join("-")]);const A=[];if(a!==f){let _=[...a];for(let w=0;w<v.length;w++){const k=v[w],M=Nc(k);l.includes(M)||(_.splice(w,0,k),A.push(k))}o==="wait"&&A.length&&(_=A),T(fS(_)),g(a);return}const{forceRender:E}=L.useContext(Qv);return B.jsx(B.Fragment,{children:v.map(_=>{const w=Nc(_),k=a===v||l.includes(w),M=()=>{if(d.has(w))d.set(w,!0);else return;let R=!0;d.forEach(I=>{I||(R=!1)}),R&&(E==null||E(),T(h.current),i&&i())};return B.jsx(J5,{isPresent:k,initial:!c.current||r?void 0:!1,custom:k?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:k?void 0:M,children:_},w)})})},t6="/Petlove/assets/cat-leaving-CHtL4m24.png";function Vg(t){const{text:e,isFavorite:n,className:r,style:i,type:s="button",color:o="primary",isActive:a,isClearable:l,onClear:c,children:h,...d}=t,f=g=>{g.stopPropagation(),c&&c()};return B.jsxs("button",{...d,className:`button_elem ${n?"white":o} ${a?"active":""} ${r}`,style:i,type:s,children:[B.jsx("span",{className:"button-text",children:e}),h,l&&B.jsx("span",{className:"clear_icon",onClick:f,children:""})]})}Vg.propTypes={text:hn.string.isRequired,isFavorite:hn.bool,className:hn.string,type:hn.string,style:hn.object,color:hn.string,isActive:hn.bool,isClearable:hn.bool,onClear:hn.func,children:hn.node};const n6=({isOpen:t,onClose:e,onConfirm:n})=>{const r=o=>{o.key==="Escape"&&e()},i=o=>{o.target===o.currentTarget&&e()},s=()=>{n(),e()};return L.useLayoutEffect(()=>(document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}),[]),L.useLayoutEffect(()=>{t?document.body.style.overflow="hidden":document.body.style.overflow="unset"},[t]),B.jsx(e6,{children:t&&B.jsx("div",{className:"backdrop",onClick:i,children:B.jsx(Q5.div,{className:"modal-window",initial:"hidden",animate:"visible",exit:"exit",variants:{hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{duration:.5,ease:"easeInOut"}},exit:{opacity:0,scale:.8,transition:{duration:.3,ease:"easeInOut"}}},children:B.jsxs("div",{className:"modal-content",children:[B.jsx("button",{className:"close-btn",onClick:e,children:B.jsx(CB,{size:"24px"})}),B.jsx("img",{src:t6,alt:"cat leaving"}),B.jsx("h3",{children:"Already leaving?"}),B.jsxs("div",{className:"buttons_modal",children:[B.jsx(Vg,{text:"Yes",onClick:s,className:"confirm-btn"}),B.jsx(Vg,{text:"Cancel",onClick:e,className:"cancel-btn"})]})]})})})})},r6=t=>t.charAt(0).toUpperCase()+t.slice(1),i6=()=>{const t=pI(),e=Qy(a=>a.user.user),[n,r]=L.useState(!1),i=()=>{t(GA())},s=()=>{r(!0)},o=()=>{r(!1)};return B.jsxs("div",{className:"user-bar",children:[B.jsxs(jr,{to:"/profile",className:"user_info",children:[B.jsx("img",{src:(e==null?void 0:e.avatar)||wB,alt:`${e==null?void 0:e.name}'s avatar`,className:"user-avatar"}),B.jsx("span",{className:"user-name",children:e?r6(e.name):""})]}),B.jsx(Zs,{text:"Logout",to:"#",className:"logout",onClick:s}),B.jsx(n6,{isOpen:n,onClose:o,onConfirm:i})]})},s6=()=>{const t=Qy(r=>r.user.user),e=pI(),n=()=>{e(GA())};return B.jsx("div",{className:"auth_nav",children:t?B.jsx(i6,{avatar:t.avatar,name:t.name,onLogout:n}):B.jsxs(B.Fragment,{children:[B.jsx(Zs,{text:"Log In",to:"/login",className:"login"}),B.jsx(Zs,{text:"Registration",to:"/registration",className:"registration"})]})})},o6="data:image/svg+xml,%3csvg%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M27%209L9%2027'%20stroke='%23262626'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9%209L27%2027'%20stroke='%23262626'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",a6="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M24%208L8%2024'%20stroke='white'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%208L24%2024'%20stroke='white'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",l6=({isMenuOpen:t,handleToggleMenu:e})=>{const n=ci(),r=n.pathname==="/login"||n.pathname==="/registration";return B.jsxs("div",{className:`mobile-menu ${t?"open":""} ${r?"auth-page":""}`,children:[B.jsx("img",{src:r?a6:o6,className:"x-menu",alt:"x-menu",onClick:e}),B.jsxs("div",{className:"menu-links",children:[B.jsx(jr,{to:"/news",onClick:e,activeClassName:"active",children:"News"}),B.jsx(jr,{to:"/find_pet",onClick:e,activeClassName:"active",children:"Find pet"}),B.jsx(jr,{to:"/our_friends",onClick:e,activeClassName:"active",children:"Our friends"})]}),B.jsxs("div",{className:"auth-bar",children:[B.jsx(Zs,{text:"Log In",to:"/login",className:"login",onClick:e}),B.jsx(Zs,{text:"Registration",to:"/registration",className:"registration",onClick:e})]})]})},u6=({isHomePage:t})=>{const[e,n]=dt.useState(!1),r=()=>{n(!e)};return B.jsxs("header",{className:t?"header homePageHeader":"header",children:[B.jsxs("div",{className:"center",children:[B.jsx("div",{className:"logo",children:t?B.jsx(Hm,{to:"/",children:B.jsx("img",{src:qN,alt:"logo"})}):B.jsx(Hm,{to:"/",children:B.jsx("img",{src:KN,alt:"logo"})})}),B.jsx(HN,{}),B.jsx(s6,{})]}),B.jsx("img",{className:"burger-menu",src:GN,alt:"burger-menu",onClick:r}),B.jsx(l6,{isMenuOpen:e,handleToggleMenu:r})]})};function Vp(t,e,n,r){if(typeof n!==r)throw new TypeError(`Invalid prop '${e}' of type '${typeof n}' supplied to '${t}', expected '${r}'.`)}function c6(t,e){e===void 0&&(e={});var n=e.insertAt;if(typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var h6="Jelly-module_container__LB5dG",d6="Jelly-module_svg__Ae81n";function f6(t){let{size:e=50,color:n="black",speed:r=.9}=t;return Vp("Jelly","size",e,"number"),Vp("Jelly","color",n,"string"),Vp("Jelly","speed",r,"number"),dt.createElement(dt.Fragment,null,dt.createElement("div",{className:h6,style:{"--uib-size":e+"px","--uib-color":n,"--uib-speed":r+"s"}}),dt.createElement("svg",{width:"0",height:"0",className:d6},dt.createElement("defs",null,dt.createElement("filter",{id:"uib-jelly-ooze"},dt.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:e/8,result:"blur"}),dt.createElement("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7",result:"ooze"}),dt.createElement("feBlend",{in:"SourceGraphic",in2:"ooze"})))))}c6('.Jelly-module_container__LB5dG{animation:Jelly-module_rotate__gDXQZ calc(var(--uib-speed)*2) linear infinite;filter:url(#uib-jelly-ooze);height:calc(var(--uib-size)/2);position:relative;width:var(--uib-size);will-change:transform}.Jelly-module_container__LB5dG:after,.Jelly-module_container__LB5dG:before{background:var(--uib-color);border-radius:100%;content:"";height:100%;left:25%;position:absolute;top:0;width:50%;will-change:transform}.Jelly-module_container__LB5dG:before{animation:Jelly-module_shift-left__20PCG var(--uib-speed) ease infinite}.Jelly-module_container__LB5dG:after{animation:Jelly-module_shift-right__WCf3m var(--uib-speed) ease infinite}.Jelly-module_svg__Ae81n{height:0;position:absolute;width:0}@keyframes Jelly-module_rotate__gDXQZ{0%,49.999%,to{transform:none}50%,99.999%{transform:rotate(90deg)}}@keyframes Jelly-module_shift-left__20PCG{0%,to{transform:translateX(0)}50%{transform:scale(.65) translateX(-75%)}}@keyframes Jelly-module_shift-right__WCf3m{0%,to{transform:translateX(0)}50%{transform:scale(.65) translateX(75%)}}');function Rx(){return B.jsx("div",{className:"backdrop",children:B.jsx(f6,{size:180,speed:.8,color:"54ADFF"})})}const p6=()=>{const e=ci().pathname==="/";return B.jsxs("div",{children:[B.jsx(u6,{isHomePage:e}),B.jsx(L.Suspense,{fallback:B.jsx(Rx,{}),children:B.jsx(_N,{})})]})},Fp=({children:t})=>Qy(n=>n.user.user)?t:B.jsx(vN,{to:"/login",replace:!0}),m6="/Petlove/assets/errorpage-CBX1VmoW.png",g6=()=>B.jsxs("div",{children:[B.jsx("h1",{children:"Page Not Found"}),B.jsx("section",{className:"notfound",children:B.jsx("img",{src:m6})})]}),y6=L.lazy(()=>hi(()=>import("./HomePage-3NArqWdg.js"),__vite__mapDeps([0,1]))),v6=L.lazy(()=>hi(()=>import("./FindPetPage-FO0ucS2Z.js"),__vite__mapDeps([2,3,4,5,6,7,8,9]))),_6=L.lazy(()=>hi(()=>import("./NewsPage-DGdlflj-.js"),__vite__mapDeps([10,7,8,11]))),w6=L.lazy(()=>hi(()=>import("./RegistrationPage-DDwMB3D3.js"),__vite__mapDeps([12,13,6,14,15,16]))),E6=L.lazy(()=>hi(()=>import("./LoginPage-CGFKP0wW.js"),__vite__mapDeps([17,13,6,14,15,16]))),T6=L.lazy(()=>hi(()=>import("./ProfilePage-Nh8zVY2q.js"),__vite__mapDeps([18,13,6,19,20,3,4,21]))),S6=L.lazy(()=>hi(()=>import("./OurFriendsPage-cievATxH.js"),__vite__mapDeps([22,23]))),P6=L.lazy(()=>hi(()=>import("./FavoritePetsPage-DkD3HNOk.js"),__vite__mapDeps([24,3,4]))),I6=L.lazy(()=>hi(()=>import("./AddPetPage-GptQf1ak.js"),__vite__mapDeps([25,14,19,20,5,6,26]))),R6=AN([{element:B.jsx(p6,{}),children:[{path:"/",index:!0,element:B.jsx(L.Suspense,{fallback:B.jsx("div",{children:"Loading..."}),children:B.jsx(y6,{})})},{path:"/news",element:B.jsx(L.Suspense,{fallback:B.jsx("div",{children:"Loading..."}),children:B.jsx(_6,{})})},{path:"/find_pet",element:B.jsx(L.Suspense,{fallback:B.jsx("div",{children:"Loading..."}),children:B.jsx(v6,{})})},{path:"/our_friends",element:B.jsx(L.Suspense,{fallback:B.jsx("div",{children:"Loading..."}),children:B.jsx(S6,{})})},{path:"/registration",element:B.jsx(L.Suspense,{fallback:B.jsx("div",{children:"Loading..."}),children:B.jsx(w6,{})})},{path:"/login",element:B.jsx(L.Suspense,{fallback:B.jsx("div",{children:"Loading..."}),children:B.jsx(E6,{})})},{path:"/profile",element:B.jsx(Fp,{children:B.jsx(L.Suspense,{fallback:B.jsx("div",{children:"Loading..."}),children:B.jsx(T6,{})})})},{path:"/favorites",element:B.jsx(Fp,{children:B.jsx(L.Suspense,{fallback:B.jsx("div",{children:"Loading..."}),children:B.jsx(P6,{})})})},{path:"/add_pet",element:B.jsx(Fp,{children:B.jsx(L.Suspense,{fallback:B.jsx("div",{children:"Loading..."}),children:B.jsx(I6,{})})})},{path:"*",element:B.jsx(g6,{})}]}],{basename:"/Petlove"});var Ax={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ob,function(){return function(n){function r(s){if(i[s])return i[s].exports;var o=i[s]={exports:{},id:s,loaded:!1};return n[s].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var i={};return r.m=n,r.c=i,r.p="dist/",r(0)}([function(n,r,i){function s(G){return G&&G.__esModule?G:{default:G}}var o=Object.assign||function(G){for(var le=1;le<arguments.length;le++){var be=arguments[le];for(var fe in be)Object.prototype.hasOwnProperty.call(be,fe)&&(G[fe]=be[fe])}return G},a=i(1),l=(s(a),i(6)),c=s(l),h=i(7),d=s(h),f=i(8),g=s(f),v=i(9),T=s(v),A=i(10),E=s(A),_=i(11),w=s(_),k=i(14),M=s(k),R=[],I=!1,y={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},S=function(){var G=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(G&&(I=!0),I)return R=(0,w.default)(R,y),(0,E.default)(R,y.once),R},C=function(){R=(0,M.default)(),S()},x=function(){R.forEach(function(G,le){G.node.removeAttribute("data-aos"),G.node.removeAttribute("data-aos-easing"),G.node.removeAttribute("data-aos-duration"),G.node.removeAttribute("data-aos-delay")})},D=function(G){return G===!0||G==="mobile"&&T.default.mobile()||G==="phone"&&T.default.phone()||G==="tablet"&&T.default.tablet()||typeof G=="function"&&G()===!0},b=function(G){y=o(y,G),R=(0,M.default)();var le=document.all&&!window.atob;return D(y.disable)||le?x():(y.disableMutationObserver||g.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),y.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",y.easing),document.querySelector("body").setAttribute("data-aos-duration",y.duration),document.querySelector("body").setAttribute("data-aos-delay",y.delay),y.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?S(!0):y.startEvent==="load"?window.addEventListener(y.startEvent,function(){S(!0)}):document.addEventListener(y.startEvent,function(){S(!0)}),window.addEventListener("resize",(0,d.default)(S,y.debounceDelay,!0)),window.addEventListener("orientationchange",(0,d.default)(S,y.debounceDelay,!0)),window.addEventListener("scroll",(0,c.default)(function(){(0,E.default)(R,y.once)},y.throttleDelay)),y.disableMutationObserver||g.default.ready("[data-aos]",C),R)};n.exports={init:b,refresh:S,refreshHard:C}},function(n,r){},,,,,function(n,r){(function(i){function s(D,b,G){function le(Pe){var pt=ke,_t=je;return ke=je=void 0,nn=Pe,Me=D.apply(_t,pt)}function be(Pe){return nn=Pe,Ke=setTimeout(Z,b),rn?le(Pe):Me}function fe(Pe){var pt=Pe-xt,_t=Pe-nn,lo=b-pt;return Ve?C(lo,Ue-_t):lo}function q(Pe){var pt=Pe-xt,_t=Pe-nn;return xt===void 0||pt>=b||pt<0||Ve&&_t>=Ue}function Z(){var Pe=x();return q(Pe)?ie(Pe):void(Ke=setTimeout(Z,fe(Pe)))}function ie(Pe){return Ke=void 0,Re&&ke?le(Pe):(ke=je=void 0,Me)}function we(){Ke!==void 0&&clearTimeout(Ke),nn=0,ke=xt=je=Ke=void 0}function ve(){return Ke===void 0?Me:ie(x())}function _e(){var Pe=x(),pt=q(Pe);if(ke=arguments,je=this,xt=Pe,pt){if(Ke===void 0)return be(xt);if(Ve)return Ke=setTimeout(Z,b),le(xt)}return Ke===void 0&&(Ke=setTimeout(Z,b)),Me}var ke,je,Ue,Me,Ke,xt,nn=0,rn=!1,Ve=!1,Re=!0;if(typeof D!="function")throw new TypeError(f);return b=h(b)||0,a(G)&&(rn=!!G.leading,Ve="maxWait"in G,Ue=Ve?S(h(G.maxWait)||0,b):Ue,Re="trailing"in G?!!G.trailing:Re),_e.cancel=we,_e.flush=ve,_e}function o(D,b,G){var le=!0,be=!0;if(typeof D!="function")throw new TypeError(f);return a(G)&&(le="leading"in G?!!G.leading:le,be="trailing"in G?!!G.trailing:be),s(D,b,{leading:le,maxWait:b,trailing:be})}function a(D){var b=typeof D>"u"?"undefined":d(D);return!!D&&(b=="object"||b=="function")}function l(D){return!!D&&(typeof D>"u"?"undefined":d(D))=="object"}function c(D){return(typeof D>"u"?"undefined":d(D))=="symbol"||l(D)&&y.call(D)==v}function h(D){if(typeof D=="number")return D;if(c(D))return g;if(a(D)){var b=typeof D.valueOf=="function"?D.valueOf():D;D=a(b)?b+"":b}if(typeof D!="string")return D===0?D:+D;D=D.replace(T,"");var G=E.test(D);return G||_.test(D)?w(D.slice(2),G?2:8):A.test(D)?g:+D}var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},f="Expected a function",g=NaN,v="[object Symbol]",T=/^\s+|\s+$/g,A=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,_=/^0o[0-7]+$/i,w=parseInt,k=(typeof i>"u"?"undefined":d(i))=="object"&&i&&i.Object===Object&&i,M=(typeof self>"u"?"undefined":d(self))=="object"&&self&&self.Object===Object&&self,R=k||M||Function("return this")(),I=Object.prototype,y=I.toString,S=Math.max,C=Math.min,x=function(){return R.Date.now()};n.exports=o}).call(r,function(){return this}())},function(n,r){(function(i){function s(x,D,b){function G(Re){var Pe=_e,pt=ke;return _e=ke=void 0,xt=Re,Ue=x.apply(pt,Pe)}function le(Re){return xt=Re,Me=setTimeout(q,D),nn?G(Re):Ue}function be(Re){var Pe=Re-Ke,pt=Re-xt,_t=D-Pe;return rn?S(_t,je-pt):_t}function fe(Re){var Pe=Re-Ke,pt=Re-xt;return Ke===void 0||Pe>=D||Pe<0||rn&&pt>=je}function q(){var Re=C();return fe(Re)?Z(Re):void(Me=setTimeout(q,be(Re)))}function Z(Re){return Me=void 0,Ve&&_e?G(Re):(_e=ke=void 0,Ue)}function ie(){Me!==void 0&&clearTimeout(Me),xt=0,_e=Ke=ke=Me=void 0}function we(){return Me===void 0?Ue:Z(C())}function ve(){var Re=C(),Pe=fe(Re);if(_e=arguments,ke=this,Ke=Re,Pe){if(Me===void 0)return le(Ke);if(rn)return Me=setTimeout(q,D),G(Ke)}return Me===void 0&&(Me=setTimeout(q,D)),Ue}var _e,ke,je,Ue,Me,Ke,xt=0,nn=!1,rn=!1,Ve=!0;if(typeof x!="function")throw new TypeError(d);return D=c(D)||0,o(b)&&(nn=!!b.leading,rn="maxWait"in b,je=rn?y(c(b.maxWait)||0,D):je,Ve="trailing"in b?!!b.trailing:Ve),ve.cancel=ie,ve.flush=we,ve}function o(x){var D=typeof x>"u"?"undefined":h(x);return!!x&&(D=="object"||D=="function")}function a(x){return!!x&&(typeof x>"u"?"undefined":h(x))=="object"}function l(x){return(typeof x>"u"?"undefined":h(x))=="symbol"||a(x)&&I.call(x)==g}function c(x){if(typeof x=="number")return x;if(l(x))return f;if(o(x)){var D=typeof x.valueOf=="function"?x.valueOf():x;x=o(D)?D+"":D}if(typeof x!="string")return x===0?x:+x;x=x.replace(v,"");var b=A.test(x);return b||E.test(x)?_(x.slice(2),b?2:8):T.test(x)?f:+x}var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},d="Expected a function",f=NaN,g="[object Symbol]",v=/^\s+|\s+$/g,T=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,E=/^0o[0-7]+$/i,_=parseInt,w=(typeof i>"u"?"undefined":h(i))=="object"&&i&&i.Object===Object&&i,k=(typeof self>"u"?"undefined":h(self))=="object"&&self&&self.Object===Object&&self,M=w||k||Function("return this")(),R=Object.prototype,I=R.toString,y=Math.max,S=Math.min,C=function(){return M.Date.now()};n.exports=s}).call(r,function(){return this}())},function(n,r){function i(h){var d=void 0,f=void 0;for(d=0;d<h.length;d+=1)if(f=h[d],f.dataset&&f.dataset.aos||f.children&&i(f.children))return!0;return!1}function s(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function o(){return!!s()}function a(h,d){var f=window.document,g=s(),v=new g(l);c=d,v.observe(f.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function l(h){h&&h.forEach(function(d){var f=Array.prototype.slice.call(d.addedNodes),g=Array.prototype.slice.call(d.removedNodes),v=f.concat(g);if(i(v))return c()})}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){};r.default={isSupported:o,ready:a}},function(n,r){function i(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function s(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function f(g,v){for(var T=0;T<v.length;T++){var A=v[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(g,A.key,A)}}return function(g,v,T){return v&&f(g.prototype,v),T&&f(g,T),g}}(),a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,h=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,d=function(){function f(){i(this,f)}return o(f,[{key:"phone",value:function(){var g=s();return!(!a.test(g)&&!l.test(g.substr(0,4)))}},{key:"mobile",value:function(){var g=s();return!(!c.test(g)&&!h.test(g.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),f}();r.default=new d},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(o,a,l){var c=o.node.getAttribute("data-aos-once");a>o.position?o.node.classList.add("aos-animate"):typeof c<"u"&&(c==="false"||!l&&c!=="true")&&o.node.classList.remove("aos-animate")},s=function(o,a){var l=window.pageYOffset,c=window.innerHeight;o.forEach(function(h,d){i(h,c+l,a)})};r.default=s},function(n,r,i){function s(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),a=s(o),l=function(c,h){return c.forEach(function(d,f){d.node.classList.add("aos-init"),d.position=(0,a.default)(d.node,h.offset)}),c};r.default=l},function(n,r,i){function s(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(13),a=s(o),l=function(c,h){var d=0,f=0,g=window.innerHeight,v={offset:c.getAttribute("data-aos-offset"),anchor:c.getAttribute("data-aos-anchor"),anchorPlacement:c.getAttribute("data-aos-anchor-placement")};switch(v.offset&&!isNaN(v.offset)&&(f=parseInt(v.offset)),v.anchor&&document.querySelectorAll(v.anchor)&&(c=document.querySelectorAll(v.anchor)[0]),d=(0,a.default)(c).top,v.anchorPlacement){case"top-bottom":break;case"center-bottom":d+=c.offsetHeight/2;break;case"bottom-bottom":d+=c.offsetHeight;break;case"top-center":d+=g/2;break;case"bottom-center":d+=g/2+c.offsetHeight;break;case"center-center":d+=g/2+c.offsetHeight/2;break;case"top-top":d+=g;break;case"bottom-top":d+=c.offsetHeight+g;break;case"center-top":d+=c.offsetHeight/2+g}return v.anchorPlacement||v.offset||isNaN(h)||(f=h),d+f};r.default=l},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(s){for(var o=0,a=0;s&&!isNaN(s.offsetLeft)&&!isNaN(s.offsetTop);)o+=s.offsetLeft-(s.tagName!="BODY"?s.scrollLeft:0),a+=s.offsetTop-(s.tagName!="BODY"?s.scrollTop:0),s=s.offsetParent;return{top:a,left:o}};r.default=i},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(s){return s=s||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(s,function(o){return{node:o}})};r.default=i}])})})(Ax);var A6=Ax.exports;const pS=vd(A6);function C6(){return dt.useEffect(()=>{pS.init({duration:800,easing:"ease-in-sine",delay:100,offset:100}),pS.refresh()},[]),B.jsx(dt.Suspense,{fallback:B.jsx(Rx,{}),children:B.jsx(LN,{router:R6})})}var y0="persist:",Cx="persist/FLUSH",v0="persist/REHYDRATE",xx="persist/PAUSE",bx="persist/PERSIST",kx="persist/PURGE",Dx="persist/REGISTER",x6=-1;function ah(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ah=function(n){return typeof n}:ah=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ah(t)}function mS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mS(n,!0).forEach(function(r){k6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D6(t,e,n,r){r.debug;var i=b6({},n);return t&&ah(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function O6(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:y0).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(M){return M}:typeof t.serialize=="function"?a=t.serialize:a=N6;var l=t.writeFailHandler||null,c={},h={},d=[],f=null,g=null,v=function(M){Object.keys(M).forEach(function(R){E(R)&&c[R]!==M[R]&&d.indexOf(R)===-1&&d.push(R)}),Object.keys(c).forEach(function(R){M[R]===void 0&&E(R)&&d.indexOf(R)===-1&&c[R]!==void 0&&d.push(R)}),f===null&&(f=setInterval(T,i)),c=M};function T(){if(d.length===0){f&&clearInterval(f),f=null;return}var k=d.shift(),M=r.reduce(function(R,I){return I.in(R,k,c)},c[k]);if(M!==void 0)try{h[k]=a(M)}catch(R){console.error("redux-persist/createPersistoid: error serializing state",R)}else delete h[k];d.length===0&&A()}function A(){Object.keys(h).forEach(function(k){c[k]===void 0&&delete h[k]}),g=o.setItem(s,a(h)).catch(_)}function E(k){return!(n&&n.indexOf(k)===-1&&k!=="_persist"||e&&e.indexOf(k)!==-1)}function _(k){l&&l(k)}var w=function(){for(;d.length!==0;)T();return g||Promise.resolve()};return{update:v,flush:w}}function N6(t){return JSON.stringify(t)}function L6(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:y0).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=M6,r.getItem(n).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(l){o[l]=e.reduceRight(function(c,h){return h.out(c,l,a)},i(a[l]))}),o}catch(l){throw l}else return})}function M6(t){return JSON.parse(t)}function V6(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:y0).concat(t.key);return e.removeItem(n,F6)}function F6(t){}function gS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gS(n,!0).forEach(function(r){j6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U6(t,e){if(t==null)return{};var n=B6(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function B6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var z6=5e3;function $6(t,e){var n=t.version!==void 0?t.version:x6;t.debug;var r=t.stateReconciler===void 0?D6:t.stateReconciler,i=t.getStoredState||L6,s=t.timeout!==void 0?t.timeout:z6,o=null,a=!1,l=!0,c=function(d){return d._persist.rehydrated&&o&&!l&&o.update(d),d};return function(h,d){var f=h||{},g=f._persist,v=U6(f,["_persist"]),T=v;if(d.type===bx){var A=!1,E=function(y,S){A||(d.rehydrate(t.key,y,S),A=!0)};if(s&&setTimeout(function(){!A&&E(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),l=!1,o||(o=O6(t)),g)return Nr({},e(T,d),{_persist:g});if(typeof d.rehydrate!="function"||typeof d.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(t.key),i(t).then(function(I){var y=t.migrate||function(S,C){return Promise.resolve(S)};y(I,n).then(function(S){E(S)},function(S){E(void 0,S)})},function(I){E(void 0,I)}),Nr({},e(T,d),{_persist:{version:n,rehydrated:!1}})}else{if(d.type===kx)return a=!0,d.result(V6(t)),Nr({},e(T,d),{_persist:g});if(d.type===Cx)return d.result(o&&o.flush()),Nr({},e(T,d),{_persist:g});if(d.type===xx)l=!0;else if(d.type===v0){if(a)return Nr({},T,{_persist:Nr({},g,{rehydrated:!0})});if(d.key===t.key){var _=e(T,d),w=d.payload,k=r!==!1&&w!==void 0?r(w,h,_,t):_,M=Nr({},k,{_persist:Nr({},g,{rehydrated:!0})});return c(M)}}}if(!g)return e(h,d);var R=e(T,d);return R===T?h:c(Nr({},R,{_persist:g}))}}function yS(t){return q6(t)||H6(t)||W6()}function W6(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function H6(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function q6(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function vS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vS(n,!0).forEach(function(r){K6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ox={registry:[],bootstrapped:!1},G6=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ox,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Dx:return Fg({},e,{registry:[].concat(yS(e.registry),[n.key])});case v0:var r=e.registry.indexOf(n.key),i=yS(e.registry);return i.splice(r,1),Fg({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function Q6(t,e,n){var r=Yy(G6,Ox,void 0),i=function(l){r.dispatch({type:Dx,key:l})},s=function(l,c,h){var d={type:v0,payload:c,err:h,key:l};t.dispatch(d),r.dispatch(d)},o=Fg({},r,{purge:function(){var l=[];return t.dispatch({type:kx,result:function(h){l.push(h)}}),Promise.all(l)},flush:function(){var l=[];return t.dispatch({type:Cx,result:function(h){l.push(h)}}),Promise.all(l)},pause:function(){t.dispatch({type:xx})},persist:function(){t.dispatch({type:bx,register:i,rehydrate:s})}});return o.persist(),o}var _0={},w0={};w0.__esModule=!0;w0.default=J6;function lh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lh=function(n){return typeof n}:lh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},lh(t)}function jp(){}var X6={getItem:jp,setItem:jp,removeItem:jp};function Y6(t){if((typeof self>"u"?"undefined":lh(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function J6(t){var e="".concat(t,"Storage");return Y6(e)?self[e]:X6}_0.__esModule=!0;_0.default=t$;var Z6=e$(w0);function e$(t){return t&&t.__esModule?t:{default:t}}function t$(t){var e=(0,Z6.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var Nx=void 0,n$=r$(_0);function r$(t){return t&&t.__esModule?t:{default:t}}var i$=(0,n$.default)("local");Nx=i$;const s$={filters:{category:[],gender:[],type:[],location:[]}},Lx=ur({name:"notices",initialState:s$,reducers:{setCategoryFilter:(t,e)=>{t.filters.category=e.payload?[e.payload]:[]},setGenderFilter:(t,e)=>{t.filters.gender=e.payload?[e.payload]:[]},setTypeFilter:(t,e)=>{t.filters.type=e.payload?[e.payload]:[]},setLocationFilter:(t,e)=>{t.filters.location=e.payload?[e.payload]:[]}}});Lx.actions;const o$=Lx.reducer;function Mx(t,e){return function(){return t.apply(e,arguments)}}const{toString:a$}=Object.prototype,{getPrototypeOf:E0}=Object,wf=(t=>e=>{const n=a$.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),cr=t=>(t=t.toLowerCase(),e=>wf(e)===t),Ef=t=>e=>typeof e===t,{isArray:xa}=Array,Tu=Ef("undefined");function l$(t){return t!==null&&!Tu(t)&&t.constructor!==null&&!Tu(t.constructor)&&Wn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Vx=cr("ArrayBuffer");function u$(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Vx(t.buffer),e}const c$=Ef("string"),Wn=Ef("function"),Fx=Ef("number"),Tf=t=>t!==null&&typeof t=="object",h$=t=>t===!0||t===!1,uh=t=>{if(wf(t)!=="object")return!1;const e=E0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},d$=cr("Date"),f$=cr("File"),p$=cr("Blob"),m$=cr("FileList"),g$=t=>Tf(t)&&Wn(t.pipe),y$=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Wn(t.append)&&((e=wf(t))==="formdata"||e==="object"&&Wn(t.toString)&&t.toString()==="[object FormData]"))},v$=cr("URLSearchParams"),[_$,w$,E$,T$]=["ReadableStream","Request","Response","Headers"].map(cr),S$=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),xa(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function jx(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ux=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Bx=t=>!Tu(t)&&t!==Ux;function jg(){const{caseless:t}=Bx(this)&&this||{},e={},n=(r,i)=>{const s=t&&jx(e,i)||i;uh(e[s])&&uh(r)?e[s]=jg(e[s],r):uh(r)?e[s]=jg({},r):xa(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&qu(arguments[r],n);return e}const P$=(t,e,n,{allOwnKeys:r}={})=>(qu(e,(i,s)=>{n&&Wn(i)?t[s]=Mx(i,n):t[s]=i},{allOwnKeys:r}),t),I$=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),R$=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},A$=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&E0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},C$=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},x$=t=>{if(!t)return null;if(xa(t))return t;let e=t.length;if(!Fx(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},b$=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&E0(Uint8Array)),k$=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},D$=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},O$=cr("HTMLFormElement"),N$=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),_S=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),L$=cr("RegExp"),zx=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};qu(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},M$=t=>{zx(t,(e,n)=>{if(Wn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Wn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},V$=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return xa(t)?r(t):r(String(t).split(e)),n},F$=()=>{},j$=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Up="abcdefghijklmnopqrstuvwxyz",wS="0123456789",$x={DIGIT:wS,ALPHA:Up,ALPHA_DIGIT:Up+Up.toUpperCase()+wS},U$=(t=16,e=$x.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function B$(t){return!!(t&&Wn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const z$=t=>{const e=new Array(10),n=(r,i)=>{if(Tf(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=xa(r)?[]:{};return qu(r,(o,a)=>{const l=n(o,i+1);!Tu(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},$$=cr("AsyncFunction"),W$=t=>t&&(Tf(t)||Wn(t))&&Wn(t.then)&&Wn(t.catch),U={isArray:xa,isArrayBuffer:Vx,isBuffer:l$,isFormData:y$,isArrayBufferView:u$,isString:c$,isNumber:Fx,isBoolean:h$,isObject:Tf,isPlainObject:uh,isReadableStream:_$,isRequest:w$,isResponse:E$,isHeaders:T$,isUndefined:Tu,isDate:d$,isFile:f$,isBlob:p$,isRegExp:L$,isFunction:Wn,isStream:g$,isURLSearchParams:v$,isTypedArray:b$,isFileList:m$,forEach:qu,merge:jg,extend:P$,trim:S$,stripBOM:I$,inherits:R$,toFlatObject:A$,kindOf:wf,kindOfTest:cr,endsWith:C$,toArray:x$,forEachEntry:k$,matchAll:D$,isHTMLForm:O$,hasOwnProperty:_S,hasOwnProp:_S,reduceDescriptors:zx,freezeMethods:M$,toObjectSet:V$,toCamelCase:N$,noop:F$,toFiniteNumber:j$,findKey:jx,global:Ux,isContextDefined:Bx,ALPHABET:$x,generateString:U$,isSpecCompliantForm:B$,toJSONObject:z$,isAsyncFn:$$,isThenable:W$};function ge(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}U.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Wx=ge.prototype,Hx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Hx[t]={value:t}});Object.defineProperties(ge,Hx);Object.defineProperty(Wx,"isAxiosError",{value:!0});ge.from=(t,e,n,r,i,s)=>{const o=Object.create(Wx);return U.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ge.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const H$=null;function Ug(t){return U.isPlainObject(t)||U.isArray(t)}function qx(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function ES(t,e,n){return t?t.concat(e).map(function(i,s){return i=qx(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function q$(t){return U.isArray(t)&&!t.some(Ug)}const K$=U.toFlatObject(U,{},null,function(e){return/^is[A-Z]/.test(e)});function Sf(t,e,n){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,A){return!U.isUndefined(A[T])});const r=n.metaTokens,i=n.visitor||h,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(i))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(U.isDate(v))return v.toISOString();if(!l&&U.isBlob(v))throw new ge("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(v)||U.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function h(v,T,A){let E=v;if(v&&!A&&typeof v=="object"){if(U.endsWith(T,"{}"))T=r?T:T.slice(0,-2),v=JSON.stringify(v);else if(U.isArray(v)&&q$(v)||(U.isFileList(v)||U.endsWith(T,"[]"))&&(E=U.toArray(v)))return T=qx(T),E.forEach(function(w,k){!(U.isUndefined(w)||w===null)&&e.append(o===!0?ES([T],k,s):o===null?T:T+"[]",c(w))}),!1}return Ug(v)?!0:(e.append(ES(A,T,s),c(v)),!1)}const d=[],f=Object.assign(K$,{defaultVisitor:h,convertValue:c,isVisitable:Ug});function g(v,T){if(!U.isUndefined(v)){if(d.indexOf(v)!==-1)throw Error("Circular reference detected in "+T.join("."));d.push(v),U.forEach(v,function(E,_){(!(U.isUndefined(E)||E===null)&&i.call(e,E,U.isString(_)?_.trim():_,T,f))===!0&&g(E,T?T.concat(_):[_])}),d.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return g(t),e}function TS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function T0(t,e){this._pairs=[],t&&Sf(t,this,e)}const Kx=T0.prototype;Kx.append=function(e,n){this._pairs.push([e,n])};Kx.toString=function(e){const n=e?function(r){return e.call(this,r,TS)}:TS;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function G$(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Gx(t,e,n){if(!e)return t;const r=n&&n.encode||G$,i=n&&n.serialize;let s;if(i?s=i(e,n):s=U.isURLSearchParams(e)?e.toString():new T0(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class SS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Qx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Q$=typeof URLSearchParams<"u"?URLSearchParams:T0,X$=typeof FormData<"u"?FormData:null,Y$=typeof Blob<"u"?Blob:null,J$={isBrowser:!0,classes:{URLSearchParams:Q$,FormData:X$,Blob:Y$},protocols:["http","https","file","blob","url","data"]},S0=typeof window<"u"&&typeof document<"u",Z$=(t=>S0&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),eW=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tW=S0&&window.location.href||"http://localhost",nW=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:S0,hasStandardBrowserEnv:Z$,hasStandardBrowserWebWorkerEnv:eW,origin:tW},Symbol.toStringTag,{value:"Module"})),sr={...nW,...J$};function rW(t,e){return Sf(t,new sr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return sr.isNode&&U.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function iW(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function sW(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function Xx(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&U.isArray(i)?i.length:o,l?(U.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!U.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&U.isArray(i[o])&&(i[o]=sW(i[o])),!a)}if(U.isFormData(t)&&U.isFunction(t.entries)){const n={};return U.forEachEntry(t,(r,i)=>{e(iW(r),i,n,0)}),n}return null}function oW(t,e,n){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Ku={transitional:Qx,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=U.isObject(e);if(s&&U.isHTMLForm(e)&&(e=new FormData(e)),U.isFormData(e))return i?JSON.stringify(Xx(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e)||U.isReadableStream(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return rW(e,this.formSerializer).toString();if((a=U.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Sf(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),oW(e)):e}],transformResponse:[function(e){const n=this.transitional||Ku.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(U.isResponse(e)||U.isReadableStream(e))return e;if(e&&U.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ge.from(a,ge.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sr.classes.FormData,Blob:sr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],t=>{Ku.headers[t]={}});const aW=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lW=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&aW[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},PS=Symbol("internals");function al(t){return t&&String(t).trim().toLowerCase()}function ch(t){return t===!1||t==null?t:U.isArray(t)?t.map(ch):String(t)}function uW(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const cW=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Bp(t,e,n,r,i){if(U.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!U.isString(e)){if(U.isString(r))return e.indexOf(r)!==-1;if(U.isRegExp(r))return r.test(e)}}function hW(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function dW(t,e){const n=U.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class _n{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const h=al(l);if(!h)throw new Error("header name must be a non-empty string");const d=U.findKey(i,h);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=ch(a))}const o=(a,l)=>U.forEach(a,(c,h)=>s(c,h,l));if(U.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(U.isString(e)&&(e=e.trim())&&!cW(e))o(lW(e),n);else if(U.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=al(e),e){const r=U.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return uW(i);if(U.isFunction(n))return n.call(this,i,r);if(U.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=al(e),e){const r=U.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Bp(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=al(o),o){const a=U.findKey(r,o);a&&(!n||Bp(r,r[a],a,n))&&(delete r[a],i=!0)}}return U.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Bp(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return U.forEach(this,(i,s)=>{const o=U.findKey(r,s);if(o){n[o]=ch(i),delete n[s];return}const a=e?hW(s):String(s).trim();a!==s&&delete n[s],n[a]=ch(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return U.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&U.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[PS]=this[PS]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=al(o);r[a]||(dW(i,o),r[a]=!0)}return U.isArray(e)?e.forEach(s):s(e),this}}_n.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(_n.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});U.freezeMethods(_n);function zp(t,e){const n=this||Ku,r=e||n,i=_n.from(r.headers);let s=r.data;return U.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Yx(t){return!!(t&&t.__CANCEL__)}function ba(t,e,n){ge.call(this,t??"canceled",ge.ERR_CANCELED,e,n),this.name="CanceledError"}U.inherits(ba,ge,{__CANCEL__:!0});function Jx(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ge("Request failed with status code "+n.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function fW(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function pW(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),h=r[s];o||(o=c),n[i]=l,r[i]=c;let d=s,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const g=h&&c-h;return g?Math.round(f*1e3/g):void 0}}function mW(t,e){let n=0;const r=1e3/e;let i=null;return function(){const o=this===!0,a=Date.now();if(o||a-n>r)return i&&(clearTimeout(i),i=null),n=a,t.apply(null,arguments);i||(i=setTimeout(()=>(i=null,n=Date.now(),t.apply(null,arguments)),r-(a-n)))}}const gd=(t,e,n=3)=>{let r=0;const i=pW(50,250);return mW(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),h=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&h?(a-o)/c:void 0,event:s,lengthComputable:a!=null};d[e?"download":"upload"]=!0,t(d)},n)},gW=sr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=U.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),yW=sr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];U.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),U.isString(r)&&o.push("path="+r),U.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vW(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function _W(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Zx(t,e){return t&&!vW(e)?_W(t,e):e}const IS=t=>t instanceof _n?{...t}:t;function eo(t,e){e=e||{};const n={};function r(c,h,d){return U.isPlainObject(c)&&U.isPlainObject(h)?U.merge.call({caseless:d},c,h):U.isPlainObject(h)?U.merge({},h):U.isArray(h)?h.slice():h}function i(c,h,d){if(U.isUndefined(h)){if(!U.isUndefined(c))return r(void 0,c,d)}else return r(c,h,d)}function s(c,h){if(!U.isUndefined(h))return r(void 0,h)}function o(c,h){if(U.isUndefined(h)){if(!U.isUndefined(c))return r(void 0,c)}else return r(void 0,h)}function a(c,h,d){if(d in e)return r(c,h);if(d in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,h)=>i(IS(c),IS(h),!0)};return U.forEach(Object.keys(Object.assign({},t,e)),function(h){const d=l[h]||i,f=d(t[h],e[h],h);U.isUndefined(f)&&d!==a||(n[h]=f)}),n}const eb=t=>{const e=eo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=_n.from(o),e.url=Gx(Zx(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(U.isFormData(n)){if(sr.hasStandardBrowserEnv||sr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...h]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...h].join("; "))}}if(sr.hasStandardBrowserEnv&&(r&&U.isFunction(r)&&(r=r(e)),r||r!==!1&&gW(e.url))){const c=i&&s&&yW.read(s);c&&o.set(i,c)}return e},wW=typeof XMLHttpRequest<"u",EW=wW&&function(t){return new Promise(function(n,r){const i=eb(t);let s=i.data;const o=_n.from(i.headers).normalize();let{responseType:a}=i,l;function c(){i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let h=new XMLHttpRequest;h.open(i.method.toUpperCase(),i.url,!0),h.timeout=i.timeout;function d(){if(!h)return;const g=_n.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:g,config:t,request:h};Jx(function(E){n(E),c()},function(E){r(E),c()},T),h=null}"onloadend"in h?h.onloadend=d:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(d)},h.onabort=function(){h&&(r(new ge("Request aborted",ge.ECONNABORTED,i,h)),h=null)},h.onerror=function(){r(new ge("Network Error",ge.ERR_NETWORK,i,h)),h=null},h.ontimeout=function(){let v=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||Qx;i.timeoutErrorMessage&&(v=i.timeoutErrorMessage),r(new ge(v,T.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,i,h)),h=null},s===void 0&&o.setContentType(null),"setRequestHeader"in h&&U.forEach(o.toJSON(),function(v,T){h.setRequestHeader(T,v)}),U.isUndefined(i.withCredentials)||(h.withCredentials=!!i.withCredentials),a&&a!=="json"&&(h.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&h.addEventListener("progress",gd(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",gd(i.onUploadProgress)),(i.cancelToken||i.signal)&&(l=g=>{h&&(r(!g||g.type?new ba(null,t,h):g),h.abort(),h=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));const f=fW(i.url);if(f&&sr.protocols.indexOf(f)===-1){r(new ge("Unsupported protocol "+f+":",ge.ERR_BAD_REQUEST,t));return}h.send(s||null)})},TW=(t,e)=>{let n=new AbortController,r;const i=function(l){if(!r){r=!0,o();const c=l instanceof Error?l:this.reason;n.abort(c instanceof ge?c:new ba(c instanceof Error?c.message:c))}};let s=e&&setTimeout(()=>{i(new ge(`timeout ${e} of ms exceeded`,ge.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:a}=n;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},SW=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},PW=async function*(t,e,n){for await(const r of t)yield*SW(ArrayBuffer.isView(r)?r:await n(String(r)),e)},RS=(t,e,n,r,i)=>{const s=PW(t,e,i);let o=0;return new ReadableStream({type:"bytes",async pull(a){const{done:l,value:c}=await s.next();if(l){a.close(),r();return}let h=c.byteLength;n&&n(o+=h),a.enqueue(new Uint8Array(c))},cancel(a){return r(a),s.return()}},{highWaterMark:2})},AS=(t,e)=>{const n=t!=null;return r=>setTimeout(()=>e({lengthComputable:n,total:t,loaded:r}))},Pf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",tb=Pf&&typeof ReadableStream=="function",Bg=Pf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),IW=tb&&(()=>{let t=!1;const e=new Request(sr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),CS=64*1024,zg=tb&&!!(()=>{try{return U.isReadableStream(new Response("").body)}catch{}})(),yd={stream:zg&&(t=>t.body)};Pf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!yd[e]&&(yd[e]=U.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ge(`Response type '${e}' is not supported`,ge.ERR_NOT_SUPPORT,r)})})})(new Response);const RW=async t=>{if(t==null)return 0;if(U.isBlob(t))return t.size;if(U.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(U.isArrayBufferView(t))return t.byteLength;if(U.isURLSearchParams(t)&&(t=t+""),U.isString(t))return(await Bg(t)).byteLength},AW=async(t,e)=>{const n=U.toFiniteNumber(t.getContentLength());return n??RW(e)},CW=Pf&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:h,withCredentials:d="same-origin",fetchOptions:f}=eb(t);c=c?(c+"").toLowerCase():"text";let[g,v]=i||s||o?TW([i,s],o):[],T,A;const E=()=>{!T&&setTimeout(()=>{g&&g.unsubscribe()}),T=!0};let _;try{if(l&&IW&&n!=="get"&&n!=="head"&&(_=await AW(h,r))!==0){let R=new Request(e,{method:"POST",body:r,duplex:"half"}),I;U.isFormData(r)&&(I=R.headers.get("content-type"))&&h.setContentType(I),R.body&&(r=RS(R.body,CS,AS(_,gd(l)),null,Bg))}U.isString(d)||(d=d?"cors":"omit"),A=new Request(e,{...f,signal:g,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",withCredentials:d});let w=await fetch(A);const k=zg&&(c==="stream"||c==="response");if(zg&&(a||k)){const R={};["status","statusText","headers"].forEach(y=>{R[y]=w[y]});const I=U.toFiniteNumber(w.headers.get("content-length"));w=new Response(RS(w.body,CS,a&&AS(I,gd(a,!0)),k&&E,Bg),R)}c=c||"text";let M=await yd[U.findKey(yd,c)||"text"](w,t);return!k&&E(),v&&v(),await new Promise((R,I)=>{Jx(R,I,{data:M,headers:_n.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:A})})}catch(w){throw E(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new ge("Network Error",ge.ERR_NETWORK,t,A),{cause:w.cause||w}):ge.from(w,w&&w.code,t,A)}}),$g={http:H$,xhr:EW,fetch:CW};U.forEach($g,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const xS=t=>`- ${t}`,xW=t=>U.isFunction(t)||t===null||t===!1,nb={getAdapter:t=>{t=U.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!xW(n)&&(r=$g[(o=String(n)).toLowerCase()],r===void 0))throw new ge(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(xS).join(`
`):" "+xS(s[0]):"as no adapter specified";throw new ge("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:$g};function $p(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ba(null,t)}function bS(t){return $p(t),t.headers=_n.from(t.headers),t.data=zp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),nb.getAdapter(t.adapter||Ku.adapter)(t).then(function(r){return $p(t),r.data=zp.call(t,t.transformResponse,r),r.headers=_n.from(r.headers),r},function(r){return Yx(r)||($p(t),r&&r.response&&(r.response.data=zp.call(t,t.transformResponse,r.response),r.response.headers=_n.from(r.response.headers))),Promise.reject(r)})}const rb="1.7.2",P0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{P0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const kS={};P0.transitional=function(e,n,r){function i(s,o){return"[Axios v"+rb+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ge(i(o," has been removed"+(n?" in "+n:"")),ge.ERR_DEPRECATED);return n&&!kS[o]&&(kS[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function bW(t,e,n){if(typeof t!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new ge("option "+s+" must be "+l,ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ge("Unknown option "+s,ge.ERR_BAD_OPTION)}}const Wg={assertOptions:bW,validators:P0},Ei=Wg.validators;class Vs{constructor(e){this.defaults=e,this.interceptors={request:new SS,response:new SS}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=eo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Wg.assertOptions(r,{silentJSONParsing:Ei.transitional(Ei.boolean),forcedJSONParsing:Ei.transitional(Ei.boolean),clarifyTimeoutError:Ei.transitional(Ei.boolean)},!1),i!=null&&(U.isFunction(i)?n.paramsSerializer={serialize:i}:Wg.assertOptions(i,{encode:Ei.function,serialize:Ei.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&U.merge(s.common,s[n.method]);s&&U.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),n.headers=_n.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(l=l&&T.synchronous,a.unshift(T.fulfilled,T.rejected))});const c=[];this.interceptors.response.forEach(function(T){c.push(T.fulfilled,T.rejected)});let h,d=0,f;if(!l){const v=[bS.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,c),f=v.length,h=Promise.resolve(n);d<f;)h=h.then(v[d++],v[d++]);return h}f=a.length;let g=n;for(d=0;d<f;){const v=a[d++],T=a[d++];try{g=v(g)}catch(A){T.call(this,A);break}}try{h=bS.call(this,g)}catch(v){return Promise.reject(v)}for(d=0,f=c.length;d<f;)h=h.then(c[d++],c[d++]);return h}getUri(e){e=eo(this.defaults,e);const n=Zx(e.baseURL,e.url);return Gx(n,e.params,e.paramsSerializer)}}U.forEach(["delete","get","head","options"],function(e){Vs.prototype[e]=function(n,r){return this.request(eo(r||{},{method:e,url:n,data:(r||{}).data}))}});U.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(eo(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Vs.prototype[e]=n(),Vs.prototype[e+"Form"]=n(!0)});class I0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new ba(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new I0(function(i){e=i}),cancel:e}}}function kW(t){return function(n){return t.apply(null,n)}}function DW(t){return U.isObject(t)&&t.isAxiosError===!0}const Hg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hg).forEach(([t,e])=>{Hg[e]=t});function ib(t){const e=new Vs(t),n=Mx(Vs.prototype.request,e);return U.extend(n,Vs.prototype,e,{allOwnKeys:!0}),U.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return ib(eo(t,i))},n}const Je=ib(Ku);Je.Axios=Vs;Je.CanceledError=ba;Je.CancelToken=I0;Je.isCancel=Yx;Je.VERSION=rb;Je.toFormData=Sf;Je.AxiosError=ge;Je.Cancel=Je.CanceledError;Je.all=function(e){return Promise.all(e)};Je.spread=kW;Je.isAxiosError=DW;Je.mergeConfig=eo;Je.AxiosHeaders=_n;Je.formToJSON=t=>Xx(U.isHTMLForm(t)?new FormData(t):t);Je.getAdapter=nb.getAdapter;Je.HttpStatusCode=Hg;Je.default=Je;const Wp=Rr("location/fetchLocations",async(t,{rejectWithValue:e})=>{try{return(await Je.get("https://petlove.b.goit.study/api/cities")).data}catch(n){return e(n.response.data)}}),sb=ur({name:"location",initialState:{searchValue:"",locations:[],status:"idle",error:null},reducers:{setSearchValue(t,e){t.searchValue=e.payload},clearSearchValue(t){t.searchValue=""}},extraReducers:t=>{t.addCase(Wp.pending,e=>{e.status="loading"}).addCase(Wp.fulfilled,(e,n)=>{e.status="succeeded",e.locations=n.payload}).addCase(Wp.rejected,(e,n)=>{e.status="failed",e.error=n.payload})}});sb.actions;const OW=sb.reducer,NW={isOpen:!1,modalContent:""},ob=ur({name:"modal",initialState:NW,reducers:{openModal:(t,e)=>{t.isOpen=!0,t.modalContent=e.payload},closeModal:t=>{t.isOpen=!1,t.modalContent=""}}});ob.actions;const LW=ob.reducer,ab=ur({name:"favoritePets",initialState:{pets:[],showFavorites:!1},reducers:{addFavoritePet:(t,e)=>{t.pets.find(r=>r._id===e.payload._id)||t.pets.push(e.payload)},removeFavoritePet:(t,e)=>{t.pets=t.pets.filter(n=>n._id!==e.payload._id)},setShowFavorites:(t,e)=>{t.showFavorites=e.payload}}}),{addFavoritePet:dH,removeFavoritePet:fH,setShowFavorites:pH}=ab.actions,MW=ab.reducer,Lc="https://petlove.b.goit.study/api",Hp=Rr("data/fetchData",async()=>{const t=await Je.get(`${Lc}/notices/categories`),e=await Je.get(`${Lc}/notices/sex`),n=await Je.get(`${Lc}/notices/species`),r=await Je.get(`${Lc}/cities`);return{categories:t.data,genders:e.data,types:n.data,locations:r.data}}),VW=ur({name:"data",initialState:{categories:[],genders:[],types:[],locations:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Hp.pending,e=>{e.loading=!0}).addCase(Hp.fulfilled,(e,n)=>{e.loading=!1,e.categories=n.payload.categories,e.genders=n.payload.genders,e.types=n.payload.types,e.locations=n.payload.locations}).addCase(Hp.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message})}}),FW=VW.reducer,jW={category:"",gender:"",type:"",location:""},lb=ur({name:"filters",initialState:jW,reducers:{setCategoryFilter(t,e){t.category=e.payload},setGenderFilter(t,e){t.gender=e.payload},setTypeFilter(t,e){t.type=e.payload},setLocationFilter(t,e){t.location=e.payload}}}),{setCategoryFilter:mH,setGenderFilter:gH,setTypeFilter:yH,setLocationFilter:vH}=lb.actions,UW=lb.reducer,BW={viewedPets:[]},ub=ur({name:"viewedPets",initialState:BW,reducers:{addViewedPet(t,e){t.viewedPets.find(n=>n._id===e.payload._id)||t.viewedPets.push(e.payload)}}}),{addViewedPet:_H}=ub.actions,zW=ub.reducer,$W="https://petlove.b.goit.study/api",qp=Rr("search/fetchAllPetsByQuery",async({query:t})=>{console.log(`Fetching all pets for query: ${t}`);const e=async s=>(await Je.get(`${$W}/notices`,{params:{page:s,perPage:6,query:t}})).data;let n=1;const r=new Map;let i=1;do{const s=await e(n);s.results.forEach(o=>{r.set(o._id,o)}),i=s.totalPages,n+=1}while(n<=i);return console.log("Fetched all pets:",Array.from(r.values())),Array.from(r.values())}),cb=ur({name:"search",initialState:{pets:[],totalItems:0,loading:!1,error:null,query:"",currentPage:1},reducers:{setQuery(t,e){console.log(`Setting query: ${e.payload}`),t.query=e.payload,t.currentPage=1},setPage(t,e){console.log(`Setting page: ${e.payload}`),t.currentPage=e.payload}},extraReducers:t=>{t.addCase(qp.pending,e=>{e.loading=!0}).addCase(qp.fulfilled,(e,n)=>{e.loading=!1,e.pets=n.payload,e.totalItems=n.payload.length,console.log("Fetched all pets:",e.pets)}).addCase(qp.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message})}}),{setQuery:wH,setPage:EH}=cb.actions,WW=cb.reducer,hb=ur({name:"sort",initialState:{sortBy:"none"},reducers:{setSortBy(t,e){t.sortBy=e.payload}}}),{setSortBy:TH}=hb.actions,HW=hb.reducer,Kp=Rr("pets/addPetToFirestore",async(t,{rejectWithValue:e})=>{try{return{id:(await rB(kA(ao,"pets"),t)).id,...t}}catch(n){return e(n.message)}}),Gp=Rr("pets/deletePet",async(t,{rejectWithValue:e})=>{try{const n=Aa(ao,"pets",t);return await nB(n),t}catch(n){return e(n.message)}}),Qp=Rr("pets/fetchPets",async(t,{rejectWithValue:e})=>{try{const n=await eB(kA(ao,"pets")),r=[];return n.forEach(i=>{r.push({id:i.id,...i.data()})}),r}catch(n){return e(n.message)}}),qW=ur({name:"pets",initialState:{pets:[],status:"idle",error:null},reducers:{},extraReducers:t=>{t.addCase(Kp.pending,e=>{e.status="loading"}).addCase(Kp.fulfilled,(e,n)=>{e.status="succeeded",e.pets.push(n.payload)}).addCase(Kp.rejected,(e,n)=>{e.status="failed",e.error=n.payload}).addCase(Gp.pending,e=>{e.status="loading"}).addCase(Gp.fulfilled,(e,n)=>{e.status="succeeded",e.pets=e.pets.filter(r=>r.id!==n.payload)}).addCase(Gp.rejected,(e,n)=>{e.status="failed",e.error=n.payload}).addCase(Qp.pending,e=>{e.status="loading"}).addCase(Qp.fulfilled,(e,n)=>{e.status="succeeded",e.pets=n.payload}).addCase(Qp.rejected,(e,n)=>{e.status="failed",e.error=n.payload})}}),KW=qW.reducer,GW=mI({user:pB,notices:o$,modal:LW,location:OW,favoritePets:MW,data:FW,filters:UW,viewedPets:zW,search:WW,sort:HW,pets:KW}),QW={key:"root",storage:Nx,whitelist:["user","notices","location","favoritePets","viewedPets"]},XW=$6(QW,GW),db=$L({reducer:XW,middleware:t=>t({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE","persist/PAUSE","persist/FLUSH","persist/PURGE","persist/REGISTER"]}})}),YW=Q6(db);function hh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hh=function(n){return typeof n}:hh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},hh(t)}function JW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eH(t,e,n){return e&&ZW(t.prototype,e),t}function tH(t,e){return e&&(hh(e)==="object"||typeof e=="function")?e:dh(t)}function qg(t){return qg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},qg(t)}function dh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kg(t,e)}function Kg(t,e){return Kg=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Kg(t,e)}function fh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fb=function(t){nH(e,t);function e(){var n,r;JW(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=tH(this,(n=qg(e)).call.apply(n,[this].concat(s))),fh(dh(r),"state",{bootstrapped:!1}),fh(dh(r),"_unsubscribe",void 0),fh(dh(r),"handlePersistorState",function(){var a=r.props.persistor,l=a.getState(),c=l.bootstrapped;c&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return eH(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(L.PureComponent);fh(fb,"defaultProps",{children:null,loading:null});H1(document.getElementById("root")).render(B.jsx(mL,{store:db,children:B.jsx(fb,{loading:null,persistor:YW,children:B.jsx(C6,{})})}));export{e6 as A,Vg as B,Qp as C,dB as D,fB as E,pH as F,Zs as G,GA as H,CB as I,vd as J,dt as K,Hm as L,n6 as M,Ob as N,Kp as O,zy as P,Xp as R,Qy as a,fH as b,dH as c,iI as d,s6 as e,_H as f,Je as g,gH as h,yH as i,B as j,vH as k,TH as l,Q5 as m,pS as n,qp as o,Hp as p,wH as q,L as r,mH as s,EH as t,pI as u,uH as v,lH as w,cB as x,hB as y,Gp as z};
