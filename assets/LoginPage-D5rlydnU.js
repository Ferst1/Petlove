import{u as k,d as j,a as w,r as n,j as e,L as C,y}from"./index-CDfUhzho.js";import{F as E,a as S,b as g,E as u}from"./formik.esm-9s3eQDAv.js";import{c as L,a as x}from"./index.esm-CxBZQDTl.js";import{x as I,C as h,e as P,a as R}from"./PageStyles-BtO-trHX.js";import"./hoist-non-react-statics.cjs-P4dtTR3h.js";const q=()=>{const o=k(),i=j(),{user:c,status:r,error:a}=w(l=>l.user),[m,f]=n.useState(!1);n.useEffect(()=>{c&&i("/profile")},[c,i]);const v=L({email:x().email("Invalid email address").required("Required"),password:x().min(6,"Must be at least 6 characters").required("Required")}),N=(l,{setSubmitting:s})=>{o(y(l)).finally(()=>s(!1))};return e.jsxs("div",{className:"form_container",children:[e.jsxs("div",{className:"auth-title",children:[e.jsx("h2",{children:"Log In"}),e.jsx("p",{children:"Welcome! Please enter your credentials to login to the platform"})]}),e.jsx(E,{initialValues:{email:"",password:""},validationSchema:v,onSubmit:N,children:({isSubmitting:l,touched:s,errors:t,values:p,setFieldValue:b})=>e.jsxs(S,{className:"form",children:[e.jsxs("div",{className:"email-container",children:[e.jsx(g,{id:"email",type:"email",name:"email",className:`${s.email&&t.email?"invalid":s.email?"valid":""}`,autoComplete:"email",placeholder:"Email"}),s.email&&t.email&&e.jsx("img",{src:I,alt:"Clear",className:"clear-icon",onClick:()=>b("email","")}),s.email&&!t.email&&p.email&&e.jsx("img",{src:h,alt:"Check",className:"check-icon"}),e.jsx(u,{name:"email",component:"div",className:"error-message"})]}),e.jsxs("div",{className:"password-container",children:[e.jsx(g,{id:"password",type:m?"text":"password",name:"password",className:`${s.password&&t.password?"invalid":s.password?"valid":""}`,autoComplete:"current-password",placeholder:"Password"}),e.jsx("img",{src:m?P:R,alt:"Toggle visibility",className:"toggle-password-icon",onClick:()=>f(!m)}),s.password&&!t.password&&p.password&&e.jsx("img",{src:h,alt:"Check",className:"check-icon"}),e.jsx(u,{name:"password",component:"div",className:"error-message"})]}),e.jsx("button",{type:"submit",disabled:l,className:"btnSignup",children:"Log In"}),r==="failed"&&e.jsx("div",{children:a}),e.jsxs("p",{className:"auth-text",children:["Don't have an account? ",e.jsx(C,{to:"/registration",className:"auth-link",children:"Registration"})]})]})})]})},d="/Petlove/assets/dog-register-yC4_Ilju.jpg",F="/Petlove/assets/login-tablet-C1WklBVq.png",T=()=>{const o=j(),i=w(a=>a.user.user),[c,r]=n.useState(d);return n.useEffect(()=>{const a=()=>{window.innerWidth<=425?r(d):window.innerWidth<=768?r(F):r(d)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),n.useEffect(()=>{i&&o("/profile")},[i,o]),e.jsx("div",{className:"container",children:e.jsxs("div",{className:"page-container",children:[e.jsx("img",{className:"page-image",src:c,alt:"login-page"}),e.jsx("div",{className:"form-wrapper",children:e.jsx(q,{})})]})})};export{T as default};
