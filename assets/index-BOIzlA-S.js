const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage--KiGS64H.js","assets/HomePage-CF332L6t.css","assets/FindPetPage-Cls_yJW-.js","assets/PetCard-B1zITW7y.js","assets/Button-LVHcAxyP.js","assets/Button-Dtz6YTfg.css","assets/PetCard--jFTHO0m.css","assets/index-DFRKDVgl.js","assets/Modal-cvL9o2m0.js","assets/Modal-BwEYHK1L.css","assets/TypeSelect-DIkwl7UW.js","assets/hoist-non-react-statics.cjs-Dy8CP7jk.js","assets/Pagination-CrLORwNZ.js","assets/Pagination-DHEnBd_M.css","assets/FindPetPage-DlmK-Lxw.css","assets/NewsPage-CDVbkeip.js","assets/NewsPage-CoSWXhUq.css","assets/RegistrationPage-CIGsa-qx.js","assets/formik.esm-kU9fM2TP.js","assets/index.esm-DpP9hT2F.js","assets/RegistrationPage-BRlV410G.css","assets/FormStyles-Drf0VMZL.css","assets/LoginPage-CXl-1yQ7.js","assets/LoginPage-BBybFpJ-.css","assets/ProfilePage-BL58_UPf.js","assets/UploadInput-DCONcWJ3.js","assets/UploadInput-C4rHBcxb.css","assets/ProfilePage-DjJm69Vm.css","assets/OurFriendsPage-RKKkejvH.js","assets/OurFriendsPage-DDwwkCDk.css","assets/FavoritePetsPage-BxHQ7FPB.js","assets/AddPetPage-Bs17veDP.js","assets/AddPetPage-Df7WEMlb.css"])))=>i.map(i=>d[i]);
var tR=Object.defineProperty;var nR=(t,e,n)=>e in t?tR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ih=(t,e,n)=>nR(t,typeof e!="symbol"?e+"":e,n);function L0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var rR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var M0={exports:{}},ed={},V0={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sl=Symbol.for("react.element"),iR=Symbol.for("react.portal"),sR=Symbol.for("react.fragment"),oR=Symbol.for("react.strict_mode"),aR=Symbol.for("react.profiler"),lR=Symbol.for("react.provider"),uR=Symbol.for("react.context"),cR=Symbol.for("react.forward_ref"),dR=Symbol.for("react.suspense"),hR=Symbol.for("react.memo"),fR=Symbol.for("react.lazy"),Ey=Symbol.iterator;function pR(t){return t===null||typeof t!="object"?null:(t=Ey&&t[Ey]||t["@@iterator"],typeof t=="function"?t:null)}var F0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U0=Object.assign,j0={};function xo(t,e,n){this.props=t,this.context=e,this.refs=j0,this.updater=n||F0}xo.prototype.isReactComponent={};xo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function z0(){}z0.prototype=xo.prototype;function Hp(t,e,n){this.props=t,this.context=e,this.refs=j0,this.updater=n||F0}var Wp=Hp.prototype=new z0;Wp.constructor=Hp;U0(Wp,xo.prototype);Wp.isPureReactComponent=!0;var Ty=Array.isArray,B0=Object.prototype.hasOwnProperty,qp={current:null},$0={key:!0,ref:!0,__self:!0,__source:!0};function H0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)B0.call(e,r)&&!$0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Sl,type:t,key:s,ref:o,props:i,_owner:qp.current}}function mR(t,e){return{$$typeof:Sl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Kp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sl}function gR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Sy=/\/+/g;function sh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gR(""+t.key):e.toString(36)}function ku(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Sl:case iR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+sh(o,0):r,Ty(i)?(n="",t!=null&&(n=t.replace(Sy,"$&/")+"/"),ku(i,e,n,"",function(c){return c})):i!=null&&(Kp(i)&&(i=mR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Sy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ty(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+sh(s,a);o+=ku(s,e,n,u,i)}else if(u=pR(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+sh(s,a++),o+=ku(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function iu(t,e,n){if(t==null)return t;var r=[],i=0;return ku(t,r,"","",function(s){return e.call(n,s,i++)}),r}function yR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},bu={transition:null},vR={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:bu,ReactCurrentOwner:qp};function W0(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:iu,forEach:function(t,e,n){iu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return iu(t,function(){e++}),e},toArray:function(t){return iu(t,function(e){return e})||[]},only:function(t){if(!Kp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=xo;we.Fragment=sR;we.Profiler=aR;we.PureComponent=Hp;we.StrictMode=oR;we.Suspense=dR;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vR;we.act=W0;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=U0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=qp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)B0.call(e,u)&&!$0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Sl,type:t.type,key:i,ref:s,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:uR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lR,_context:t},t.Consumer=t};we.createElement=H0;we.createFactory=function(t){var e=H0.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:cR,render:t}};we.isValidElement=Kp;we.lazy=function(t){return{$$typeof:fR,_payload:{_status:-1,_result:t},_init:yR}};we.memo=function(t,e){return{$$typeof:hR,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=bu.transition;bu.transition={};try{t()}finally{bu.transition=e}};we.unstable_act=W0;we.useCallback=function(t,e){return Xt.current.useCallback(t,e)};we.useContext=function(t){return Xt.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};we.useEffect=function(t,e){return Xt.current.useEffect(t,e)};we.useId=function(){return Xt.current.useId()};we.useImperativeHandle=function(t,e,n){return Xt.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return Xt.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return Xt.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return Xt.current.useMemo(t,e)};we.useReducer=function(t,e,n){return Xt.current.useReducer(t,e,n)};we.useRef=function(t){return Xt.current.useRef(t)};we.useState=function(t){return Xt.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return Xt.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return Xt.current.useTransition()};we.version="18.3.1";V0.exports=we;var j=V0.exports;const en=Zc(j),lf=L0({__proto__:null,default:en},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _R=j,wR=Symbol.for("react.element"),ER=Symbol.for("react.fragment"),TR=Object.prototype.hasOwnProperty,SR=_R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IR={key:!0,ref:!0,__self:!0,__source:!0};function q0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)TR.call(e,r)&&!IR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:wR,type:t,key:s,ref:o,props:i,_owner:SR.current}}ed.Fragment=ER;ed.jsx=q0;ed.jsxs=q0;M0.exports=ed;var W=M0.exports,K0={exports:{}},Sn={},G0={exports:{}},Q0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,Z){var re=K.length;K.push(Z);e:for(;0<re;){var ve=re-1>>>1,me=K[ve];if(0<i(me,Z))K[ve]=Z,K[re]=me,re=ve;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var Z=K[0],re=K.pop();if(re!==Z){K[0]=re;e:for(var ve=0,me=K.length,ye=me>>>1;ve<ye;){var ke=2*(ve+1)-1,Ve=K[ke],Fe=ke+1,De=K[Fe];if(0>i(Ve,re))Fe<me&&0>i(De,Ve)?(K[ve]=De,K[Fe]=re,ve=Fe):(K[ve]=Ve,K[ke]=re,ve=ke);else if(Fe<me&&0>i(De,re))K[ve]=De,K[Fe]=re,ve=Fe;else break e}}return Z}function i(K,Z){var re=K.sortIndex-Z.sortIndex;return re!==0?re:K.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,f=null,m=3,y=!1,_=!1,R=!1,x=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(K){for(var Z=n(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=K)r(c),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=n(c)}}function O(K){if(R=!1,T(K),!_)if(n(u)!==null)_=!0,rt(V);else{var Z=n(c);Z!==null&&ge(O,Z.startTime-K)}}function V(K,Z){_=!1,R&&(R=!1,S(g),g=-1),y=!0;var re=m;try{for(T(Z),f=n(u);f!==null&&(!(f.expirationTime>Z)||K&&!k());){var ve=f.callback;if(typeof ve=="function"){f.callback=null,m=f.priorityLevel;var me=ve(f.expirationTime<=Z);Z=t.unstable_now(),typeof me=="function"?f.callback=me:f===n(u)&&r(u),T(Z)}else r(u);f=n(u)}if(f!==null)var ye=!0;else{var ke=n(c);ke!==null&&ge(O,ke.startTime-Z),ye=!1}return ye}finally{f=null,m=re,y=!1}}var C=!1,I=null,g=-1,E=5,A=-1;function k(){return!(t.unstable_now()-A<E)}function b(){if(I!==null){var K=t.unstable_now();A=K;var Z=!0;try{Z=I(!0,K)}finally{Z?P():(C=!1,I=null)}}else C=!1}var P;if(typeof v=="function")P=function(){v(b)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Ae=Q.port2;Q.port1.onmessage=b,P=function(){Ae.postMessage(null)}}else P=function(){x(b,0)};function rt(K){I=K,C||(C=!0,P())}function ge(K,Z){g=x(function(){K(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,rt(V))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(K){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var re=m;m=Z;try{return K()}finally{m=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,Z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var re=m;m=K;try{return Z()}finally{m=re}},t.unstable_scheduleCallback=function(K,Z,re){var ve=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ve+re:ve):re=ve,K){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=re+me,K={id:d++,callback:Z,priorityLevel:K,startTime:re,expirationTime:me,sortIndex:-1},re>ve?(K.sortIndex=re,e(c,K),n(u)===null&&K===n(c)&&(R?(S(g),g=-1):R=!0,ge(O,re-ve))):(K.sortIndex=me,e(u,K),_||y||(_=!0,rt(V))),K},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(K){var Z=m;return function(){var re=m;m=Z;try{return K.apply(this,arguments)}finally{m=re}}}})(Q0);G0.exports=Q0;var RR=G0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PR=j,wn=RR;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var J0=new Set,Ha={};function Ss(t,e){fo(t,e),fo(t+"Capture",e)}function fo(t,e){for(Ha[t]=e,t=0;t<e.length;t++)J0.add(e[t])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uf=Object.prototype.hasOwnProperty,AR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iy={},Ry={};function CR(t){return uf.call(Ry,t)?!0:uf.call(Iy,t)?!1:AR.test(t)?Ry[t]=!0:(Iy[t]=!0,!1)}function kR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bR(t,e,n,r){if(e===null||typeof e>"u"||kR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new Zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new Zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new Zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new Zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new Zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new Zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new Zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new Zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new Zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gp=/[\-:]([a-z])/g;function Qp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gp,Qp);Nt[e]=new Zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gp,Qp);Nt[e]=new Zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gp,Qp);Nt[e]=new Zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new Zt(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new Zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jp(t,e,n,r){var i=Nt.hasOwnProperty(e)?Nt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bR(e,n,i,r)&&(n=null),r||i===null?CR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jr=PR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,su=Symbol.for("react.element"),Bs=Symbol.for("react.portal"),$s=Symbol.for("react.fragment"),Yp=Symbol.for("react.strict_mode"),cf=Symbol.for("react.profiler"),Y0=Symbol.for("react.provider"),X0=Symbol.for("react.context"),Xp=Symbol.for("react.forward_ref"),df=Symbol.for("react.suspense"),hf=Symbol.for("react.suspense_list"),Zp=Symbol.for("react.memo"),ni=Symbol.for("react.lazy"),Z0=Symbol.for("react.offscreen"),Py=Symbol.iterator;function sa(t){return t===null||typeof t!="object"?null:(t=Py&&t[Py]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,oh;function va(t){if(oh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);oh=e&&e[1]||""}return`
`+oh+t}var ah=!1;function lh(t,e){if(!t||ah)return"";ah=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{ah=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?va(t):""}function xR(t){switch(t.tag){case 5:return va(t.type);case 16:return va("Lazy");case 13:return va("Suspense");case 19:return va("SuspenseList");case 0:case 2:case 15:return t=lh(t.type,!1),t;case 11:return t=lh(t.type.render,!1),t;case 1:return t=lh(t.type,!0),t;default:return""}}function ff(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $s:return"Fragment";case Bs:return"Portal";case cf:return"Profiler";case Yp:return"StrictMode";case df:return"Suspense";case hf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case X0:return(t.displayName||"Context")+".Consumer";case Y0:return(t._context.displayName||"Context")+".Provider";case Xp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zp:return e=t.displayName||null,e!==null?e:ff(t.type)||"Memo";case ni:e=t._payload,t=t._init;try{return ff(t(e))}catch{}}return null}function OR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ff(e);case 8:return e===Yp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ri(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ew(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NR(t){var e=ew(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ou(t){t._valueTracker||(t._valueTracker=NR(t))}function tw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ew(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pf(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ay(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ri(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nw(t,e){e=e.checked,e!=null&&Jp(t,"checked",e,!1)}function mf(t,e){nw(t,e);var n=Ri(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gf(t,e.type,n):e.hasOwnProperty("defaultValue")&&gf(t,e.type,Ri(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Cy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gf(t,e,n){(e!=="number"||rc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _a=Array.isArray;function no(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ri(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function yf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ky(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(_a(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ri(n)}}function rw(t,e){var n=Ri(e.value),r=Ri(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function by(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function iw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?iw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var au,sw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(au=au||document.createElement("div"),au.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=au.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DR=["Webkit","ms","Moz","O"];Object.keys(ka).forEach(function(t){DR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ka[e]=ka[t]})});function ow(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ka.hasOwnProperty(t)&&ka[t]?(""+e).trim():e+"px"}function aw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ow(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var LR=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _f(t,e){if(e){if(LR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function wf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef=null;function em(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tf=null,ro=null,io=null;function xy(t){if(t=Pl(t)){if(typeof Tf!="function")throw Error(H(280));var e=t.stateNode;e&&(e=sd(e),Tf(t.stateNode,t.type,e))}}function lw(t){ro?io?io.push(t):io=[t]:ro=t}function uw(){if(ro){var t=ro,e=io;if(io=ro=null,xy(t),e)for(t=0;t<e.length;t++)xy(e[t])}}function cw(t,e){return t(e)}function dw(){}var uh=!1;function hw(t,e,n){if(uh)return t(e,n);uh=!0;try{return cw(t,e,n)}finally{uh=!1,(ro!==null||io!==null)&&(dw(),uw())}}function qa(t,e){var n=t.stateNode;if(n===null)return null;var r=sd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Sf=!1;if(xr)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){Sf=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{Sf=!1}function MR(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ba=!1,ic=null,sc=!1,If=null,VR={onError:function(t){ba=!0,ic=t}};function FR(t,e,n,r,i,s,o,a,u){ba=!1,ic=null,MR.apply(VR,arguments)}function UR(t,e,n,r,i,s,o,a,u){if(FR.apply(this,arguments),ba){if(ba){var c=ic;ba=!1,ic=null}else throw Error(H(198));sc||(sc=!0,If=c)}}function Is(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Oy(t){if(Is(t)!==t)throw Error(H(188))}function jR(t){var e=t.alternate;if(!e){if(e=Is(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Oy(i),t;if(s===r)return Oy(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function pw(t){return t=jR(t),t!==null?mw(t):null}function mw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mw(t);if(e!==null)return e;t=t.sibling}return null}var gw=wn.unstable_scheduleCallback,Ny=wn.unstable_cancelCallback,zR=wn.unstable_shouldYield,BR=wn.unstable_requestPaint,lt=wn.unstable_now,$R=wn.unstable_getCurrentPriorityLevel,tm=wn.unstable_ImmediatePriority,yw=wn.unstable_UserBlockingPriority,oc=wn.unstable_NormalPriority,HR=wn.unstable_LowPriority,vw=wn.unstable_IdlePriority,td=null,rr=null;function WR(t){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(td,t,void 0,(t.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:GR,qR=Math.log,KR=Math.LN2;function GR(t){return t>>>=0,t===0?32:31-(qR(t)/KR|0)|0}var lu=64,uu=4194304;function wa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ac(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=wa(a):(s&=o,s!==0&&(r=wa(s)))}else o=n&~i,o!==0?r=wa(o):s!==0&&(r=wa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$n(e),i=1<<n,r|=t[n],e&=~i;return r}function QR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-$n(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=QR(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Rf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _w(){var t=lu;return lu<<=1,!(lu&4194240)&&(lu=64),t}function ch(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Il(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$n(e),t[e]=n}function YR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-$n(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function nm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$n(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Me=0;function ww(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ew,rm,Tw,Sw,Iw,Pf=!1,cu=[],fi=null,pi=null,mi=null,Ka=new Map,Ga=new Map,ii=[],XR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dy(t,e){switch(t){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":Ka.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ga.delete(e.pointerId)}}function aa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Pl(e),e!==null&&rm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ZR(t,e,n,r,i){switch(e){case"focusin":return fi=aa(fi,t,e,n,r,i),!0;case"dragenter":return pi=aa(pi,t,e,n,r,i),!0;case"mouseover":return mi=aa(mi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ka.set(s,aa(Ka.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ga.set(s,aa(Ga.get(s)||null,t,e,n,r,i)),!0}return!1}function Rw(t){var e=Ji(t.target);if(e!==null){var n=Is(e);if(n!==null){if(e=n.tag,e===13){if(e=fw(n),e!==null){t.blockedOn=e,Iw(t.priority,function(){Tw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Af(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ef=r,n.target.dispatchEvent(r),Ef=null}else return e=Pl(n),e!==null&&rm(e),t.blockedOn=n,!1;e.shift()}return!0}function Ly(t,e,n){xu(t)&&n.delete(e)}function eP(){Pf=!1,fi!==null&&xu(fi)&&(fi=null),pi!==null&&xu(pi)&&(pi=null),mi!==null&&xu(mi)&&(mi=null),Ka.forEach(Ly),Ga.forEach(Ly)}function la(t,e){t.blockedOn===e&&(t.blockedOn=null,Pf||(Pf=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,eP)))}function Qa(t){function e(i){return la(i,t)}if(0<cu.length){la(cu[0],t);for(var n=1;n<cu.length;n++){var r=cu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fi!==null&&la(fi,t),pi!==null&&la(pi,t),mi!==null&&la(mi,t),Ka.forEach(e),Ga.forEach(e),n=0;n<ii.length;n++)r=ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ii.length&&(n=ii[0],n.blockedOn===null);)Rw(n),n.blockedOn===null&&ii.shift()}var so=jr.ReactCurrentBatchConfig,lc=!0;function tP(t,e,n,r){var i=Me,s=so.transition;so.transition=null;try{Me=1,im(t,e,n,r)}finally{Me=i,so.transition=s}}function nP(t,e,n,r){var i=Me,s=so.transition;so.transition=null;try{Me=4,im(t,e,n,r)}finally{Me=i,so.transition=s}}function im(t,e,n,r){if(lc){var i=Af(t,e,n,r);if(i===null)wh(t,e,r,uc,n),Dy(t,r);else if(ZR(i,t,e,n,r))r.stopPropagation();else if(Dy(t,r),e&4&&-1<XR.indexOf(t)){for(;i!==null;){var s=Pl(i);if(s!==null&&Ew(s),s=Af(t,e,n,r),s===null&&wh(t,e,r,uc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else wh(t,e,r,null,n)}}var uc=null;function Af(t,e,n,r){if(uc=null,t=em(r),t=Ji(t),t!==null)if(e=Is(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return uc=t,null}function Pw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($R()){case tm:return 1;case yw:return 4;case oc:case HR:return 16;case vw:return 536870912;default:return 16}default:return 16}}var ci=null,sm=null,Ou=null;function Aw(){if(Ou)return Ou;var t,e=sm,n=e.length,r,i="value"in ci?ci.value:ci.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ou=i.slice(t,1<r?1-r:void 0)}function Nu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function du(){return!0}function My(){return!1}function In(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?du:My,this.isPropagationStopped=My,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=du)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=du)},persist:function(){},isPersistent:du}),e}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},om=In(Oo),Rl=tt({},Oo,{view:0,detail:0}),rP=In(Rl),dh,hh,ua,nd=tt({},Rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:am,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ua&&(ua&&t.type==="mousemove"?(dh=t.screenX-ua.screenX,hh=t.screenY-ua.screenY):hh=dh=0,ua=t),dh)},movementY:function(t){return"movementY"in t?t.movementY:hh}}),Vy=In(nd),iP=tt({},nd,{dataTransfer:0}),sP=In(iP),oP=tt({},Rl,{relatedTarget:0}),fh=In(oP),aP=tt({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),lP=In(aP),uP=tt({},Oo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cP=In(uP),dP=tt({},Oo,{data:0}),Fy=In(dP),hP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pP[t])?!!e[t]:!1}function am(){return mP}var gP=tt({},Rl,{key:function(t){if(t.key){var e=hP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:am,charCode:function(t){return t.type==="keypress"?Nu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yP=In(gP),vP=tt({},nd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uy=In(vP),_P=tt({},Rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:am}),wP=In(_P),EP=tt({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),TP=In(EP),SP=tt({},nd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),IP=In(SP),RP=[9,13,27,32],lm=xr&&"CompositionEvent"in window,xa=null;xr&&"documentMode"in document&&(xa=document.documentMode);var PP=xr&&"TextEvent"in window&&!xa,Cw=xr&&(!lm||xa&&8<xa&&11>=xa),jy=" ",zy=!1;function kw(t,e){switch(t){case"keyup":return RP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hs=!1;function AP(t,e){switch(t){case"compositionend":return bw(e);case"keypress":return e.which!==32?null:(zy=!0,jy);case"textInput":return t=e.data,t===jy&&zy?null:t;default:return null}}function CP(t,e){if(Hs)return t==="compositionend"||!lm&&kw(t,e)?(t=Aw(),Ou=sm=ci=null,Hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cw&&e.locale!=="ko"?null:e.data;default:return null}}var kP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function By(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kP[t.type]:e==="textarea"}function xw(t,e,n,r){lw(r),e=cc(e,"onChange"),0<e.length&&(n=new om("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Oa=null,Ja=null;function bP(t){Bw(t,0)}function rd(t){var e=Ks(t);if(tw(e))return t}function xP(t,e){if(t==="change")return e}var Ow=!1;if(xr){var ph;if(xr){var mh="oninput"in document;if(!mh){var $y=document.createElement("div");$y.setAttribute("oninput","return;"),mh=typeof $y.oninput=="function"}ph=mh}else ph=!1;Ow=ph&&(!document.documentMode||9<document.documentMode)}function Hy(){Oa&&(Oa.detachEvent("onpropertychange",Nw),Ja=Oa=null)}function Nw(t){if(t.propertyName==="value"&&rd(Ja)){var e=[];xw(e,Ja,t,em(t)),hw(bP,e)}}function OP(t,e,n){t==="focusin"?(Hy(),Oa=e,Ja=n,Oa.attachEvent("onpropertychange",Nw)):t==="focusout"&&Hy()}function NP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rd(Ja)}function DP(t,e){if(t==="click")return rd(e)}function LP(t,e){if(t==="input"||t==="change")return rd(e)}function MP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kn=typeof Object.is=="function"?Object.is:MP;function Ya(t,e){if(Kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!uf.call(e,i)||!Kn(t[i],e[i]))return!1}return!0}function Wy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qy(t,e){var n=Wy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wy(n)}}function Dw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Dw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lw(){for(var t=window,e=rc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rc(t.document)}return e}function um(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VP(t){var e=Lw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Dw(n.ownerDocument.documentElement,n)){if(r!==null&&um(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=qy(n,s);var o=qy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FP=xr&&"documentMode"in document&&11>=document.documentMode,Ws=null,Cf=null,Na=null,kf=!1;function Ky(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kf||Ws==null||Ws!==rc(r)||(r=Ws,"selectionStart"in r&&um(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Na&&Ya(Na,r)||(Na=r,r=cc(Cf,"onSelect"),0<r.length&&(e=new om("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ws)))}function hu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qs={animationend:hu("Animation","AnimationEnd"),animationiteration:hu("Animation","AnimationIteration"),animationstart:hu("Animation","AnimationStart"),transitionend:hu("Transition","TransitionEnd")},gh={},Mw={};xr&&(Mw=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function id(t){if(gh[t])return gh[t];if(!qs[t])return t;var e=qs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Mw)return gh[t]=e[n];return t}var Vw=id("animationend"),Fw=id("animationiteration"),Uw=id("animationstart"),jw=id("transitionend"),zw=new Map,Gy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(t,e){zw.set(t,e),Ss(e,[t])}for(var yh=0;yh<Gy.length;yh++){var vh=Gy[yh],UP=vh.toLowerCase(),jP=vh[0].toUpperCase()+vh.slice(1);xi(UP,"on"+jP)}xi(Vw,"onAnimationEnd");xi(Fw,"onAnimationIteration");xi(Uw,"onAnimationStart");xi("dblclick","onDoubleClick");xi("focusin","onFocus");xi("focusout","onBlur");xi(jw,"onTransitionEnd");fo("onMouseEnter",["mouseout","mouseover"]);fo("onMouseLeave",["mouseout","mouseover"]);fo("onPointerEnter",["pointerout","pointerover"]);fo("onPointerLeave",["pointerout","pointerover"]);Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ea));function Qy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,UR(r,e,void 0,t),t.currentTarget=null}function Bw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Qy(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Qy(i,a,c),s=u}}}if(sc)throw t=If,sc=!1,If=null,t}function Ge(t,e){var n=e[Df];n===void 0&&(n=e[Df]=new Set);var r=t+"__bubble";n.has(r)||($w(e,t,2,!1),n.add(r))}function _h(t,e,n){var r=0;e&&(r|=4),$w(n,t,r,e)}var fu="_reactListening"+Math.random().toString(36).slice(2);function Xa(t){if(!t[fu]){t[fu]=!0,J0.forEach(function(n){n!=="selectionchange"&&(zP.has(n)||_h(n,!1,t),_h(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fu]||(e[fu]=!0,_h("selectionchange",!1,e))}}function $w(t,e,n,r){switch(Pw(e)){case 1:var i=tP;break;case 4:i=nP;break;default:i=im}n=i.bind(null,e,n,t),i=void 0,!Sf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ji(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}hw(function(){var c=s,d=em(n),f=[];e:{var m=zw.get(t);if(m!==void 0){var y=om,_=t;switch(t){case"keypress":if(Nu(n)===0)break e;case"keydown":case"keyup":y=yP;break;case"focusin":_="focus",y=fh;break;case"focusout":_="blur",y=fh;break;case"beforeblur":case"afterblur":y=fh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Vy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=sP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=wP;break;case Vw:case Fw:case Uw:y=lP;break;case jw:y=TP;break;case"scroll":y=rP;break;case"wheel":y=IP;break;case"copy":case"cut":case"paste":y=cP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Uy}var R=(e&4)!==0,x=!R&&t==="scroll",S=R?m!==null?m+"Capture":null:m;R=[];for(var v=c,T;v!==null;){T=v;var O=T.stateNode;if(T.tag===5&&O!==null&&(T=O,S!==null&&(O=qa(v,S),O!=null&&R.push(Za(v,O,T)))),x)break;v=v.return}0<R.length&&(m=new y(m,_,null,n,d),f.push({event:m,listeners:R}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==Ef&&(_=n.relatedTarget||n.fromElement)&&(Ji(_)||_[Or]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=c,_=_?Ji(_):null,_!==null&&(x=Is(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=c),y!==_)){if(R=Vy,O="onMouseLeave",S="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(R=Uy,O="onPointerLeave",S="onPointerEnter",v="pointer"),x=y==null?m:Ks(y),T=_==null?m:Ks(_),m=new R(O,v+"leave",y,n,d),m.target=x,m.relatedTarget=T,O=null,Ji(d)===c&&(R=new R(S,v+"enter",_,n,d),R.target=T,R.relatedTarget=x,O=R),x=O,y&&_)t:{for(R=y,S=_,v=0,T=R;T;T=Vs(T))v++;for(T=0,O=S;O;O=Vs(O))T++;for(;0<v-T;)R=Vs(R),v--;for(;0<T-v;)S=Vs(S),T--;for(;v--;){if(R===S||S!==null&&R===S.alternate)break t;R=Vs(R),S=Vs(S)}R=null}else R=null;y!==null&&Jy(f,m,y,R,!1),_!==null&&x!==null&&Jy(f,x,_,R,!0)}}e:{if(m=c?Ks(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var V=xP;else if(By(m))if(Ow)V=LP;else{V=NP;var C=OP}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(V=DP);if(V&&(V=V(t,c))){xw(f,V,n,d);break e}C&&C(t,m,c),t==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&gf(m,"number",m.value)}switch(C=c?Ks(c):window,t){case"focusin":(By(C)||C.contentEditable==="true")&&(Ws=C,Cf=c,Na=null);break;case"focusout":Na=Cf=Ws=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,Ky(f,n,d);break;case"selectionchange":if(FP)break;case"keydown":case"keyup":Ky(f,n,d)}var I;if(lm)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Hs?kw(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(Cw&&n.locale!=="ko"&&(Hs||g!=="onCompositionStart"?g==="onCompositionEnd"&&Hs&&(I=Aw()):(ci=d,sm="value"in ci?ci.value:ci.textContent,Hs=!0)),C=cc(c,g),0<C.length&&(g=new Fy(g,t,null,n,d),f.push({event:g,listeners:C}),I?g.data=I:(I=bw(n),I!==null&&(g.data=I)))),(I=PP?AP(t,n):CP(t,n))&&(c=cc(c,"onBeforeInput"),0<c.length&&(d=new Fy("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=I))}Bw(f,e)})}function Za(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=qa(t,n),s!=null&&r.unshift(Za(t,s,i)),s=qa(t,e),s!=null&&r.push(Za(t,s,i))),t=t.return}return r}function Vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=qa(n,s),u!=null&&o.unshift(Za(n,u,a))):i||(u=qa(n,s),u!=null&&o.push(Za(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var BP=/\r\n?/g,$P=/\u0000|\uFFFD/g;function Yy(t){return(typeof t=="string"?t:""+t).replace(BP,`
`).replace($P,"")}function pu(t,e,n){if(e=Yy(e),Yy(t)!==e&&n)throw Error(H(425))}function dc(){}var bf=null,xf=null;function Of(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nf=typeof setTimeout=="function"?setTimeout:void 0,HP=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,WP=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(t){return Xy.resolve(null).then(t).catch(qP)}:Nf;function qP(t){setTimeout(function(){throw t})}function Eh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Qa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qa(e)}function gi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var No=Math.random().toString(36).slice(2),tr="__reactFiber$"+No,el="__reactProps$"+No,Or="__reactContainer$"+No,Df="__reactEvents$"+No,KP="__reactListeners$"+No,GP="__reactHandles$"+No;function Ji(t){var e=t[tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Or]||n[tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zy(t);t!==null;){if(n=t[tr])return n;t=Zy(t)}return e}t=n,n=t.parentNode}return null}function Pl(t){return t=t[tr]||t[Or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ks(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function sd(t){return t[el]||null}var Lf=[],Gs=-1;function Oi(t){return{current:t}}function Qe(t){0>Gs||(t.current=Lf[Gs],Lf[Gs]=null,Gs--)}function $e(t,e){Gs++,Lf[Gs]=t.current,t.current=e}var Pi={},Wt=Oi(Pi),sn=Oi(!1),os=Pi;function po(t,e){var n=t.type.contextTypes;if(!n)return Pi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function on(t){return t=t.childContextTypes,t!=null}function hc(){Qe(sn),Qe(Wt)}function ev(t,e,n){if(Wt.current!==Pi)throw Error(H(168));$e(Wt,e),$e(sn,n)}function Hw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,OR(t)||"Unknown",i));return tt({},n,r)}function fc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pi,os=Wt.current,$e(Wt,t),$e(sn,sn.current),!0}function tv(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=Hw(t,e,os),r.__reactInternalMemoizedMergedChildContext=t,Qe(sn),Qe(Wt),$e(Wt,t)):Qe(sn),$e(sn,n)}var Er=null,od=!1,Th=!1;function Ww(t){Er===null?Er=[t]:Er.push(t)}function QP(t){od=!0,Ww(t)}function Ni(){if(!Th&&Er!==null){Th=!0;var t=0,e=Me;try{var n=Er;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Er=null,od=!1}catch(i){throw Er!==null&&(Er=Er.slice(t+1)),gw(tm,Ni),i}finally{Me=e,Th=!1}}return null}var Qs=[],Js=0,pc=null,mc=0,An=[],Cn=0,as=null,Tr=1,Sr="";function Wi(t,e){Qs[Js++]=mc,Qs[Js++]=pc,pc=t,mc=e}function qw(t,e,n){An[Cn++]=Tr,An[Cn++]=Sr,An[Cn++]=as,as=t;var r=Tr;t=Sr;var i=32-$n(r)-1;r&=~(1<<i),n+=1;var s=32-$n(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Tr=1<<32-$n(e)+i|n<<i|r,Sr=s+t}else Tr=1<<s|n<<i|r,Sr=t}function cm(t){t.return!==null&&(Wi(t,1),qw(t,1,0))}function dm(t){for(;t===pc;)pc=Qs[--Js],Qs[Js]=null,mc=Qs[--Js],Qs[Js]=null;for(;t===as;)as=An[--Cn],An[Cn]=null,Sr=An[--Cn],An[Cn]=null,Tr=An[--Cn],An[Cn]=null}var vn=null,mn=null,Je=!1,zn=null;function Kw(t,e){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vn=t,mn=gi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vn=t,mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=as!==null?{id:Tr,overflow:Sr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vn=t,mn=null,!0):!1;default:return!1}}function Mf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vf(t){if(Je){var e=mn;if(e){var n=e;if(!nv(t,e)){if(Mf(t))throw Error(H(418));e=gi(n.nextSibling);var r=vn;e&&nv(t,e)?Kw(r,n):(t.flags=t.flags&-4097|2,Je=!1,vn=t)}}else{if(Mf(t))throw Error(H(418));t.flags=t.flags&-4097|2,Je=!1,vn=t}}}function rv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vn=t}function mu(t){if(t!==vn)return!1;if(!Je)return rv(t),Je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Of(t.type,t.memoizedProps)),e&&(e=mn)){if(Mf(t))throw Gw(),Error(H(418));for(;e;)Kw(t,e),e=gi(e.nextSibling)}if(rv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mn=gi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mn=null}}else mn=vn?gi(t.stateNode.nextSibling):null;return!0}function Gw(){for(var t=mn;t;)t=gi(t.nextSibling)}function mo(){mn=vn=null,Je=!1}function hm(t){zn===null?zn=[t]:zn.push(t)}var JP=jr.ReactCurrentBatchConfig;function ca(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function gu(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iv(t){var e=t._init;return e(t._payload)}function Qw(t){function e(S,v){if(t){var T=S.deletions;T===null?(S.deletions=[v],S.flags|=16):T.push(v)}}function n(S,v){if(!t)return null;for(;v!==null;)e(S,v),v=v.sibling;return null}function r(S,v){for(S=new Map;v!==null;)v.key!==null?S.set(v.key,v):S.set(v.index,v),v=v.sibling;return S}function i(S,v){return S=wi(S,v),S.index=0,S.sibling=null,S}function s(S,v,T){return S.index=T,t?(T=S.alternate,T!==null?(T=T.index,T<v?(S.flags|=2,v):T):(S.flags|=2,v)):(S.flags|=1048576,v)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,v,T,O){return v===null||v.tag!==6?(v=kh(T,S.mode,O),v.return=S,v):(v=i(v,T),v.return=S,v)}function u(S,v,T,O){var V=T.type;return V===$s?d(S,v,T.props.children,O,T.key):v!==null&&(v.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ni&&iv(V)===v.type)?(O=i(v,T.props),O.ref=ca(S,v,T),O.return=S,O):(O=ju(T.type,T.key,T.props,null,S.mode,O),O.ref=ca(S,v,T),O.return=S,O)}function c(S,v,T,O){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=bh(T,S.mode,O),v.return=S,v):(v=i(v,T.children||[]),v.return=S,v)}function d(S,v,T,O,V){return v===null||v.tag!==7?(v=rs(T,S.mode,O,V),v.return=S,v):(v=i(v,T),v.return=S,v)}function f(S,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=kh(""+v,S.mode,T),v.return=S,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case su:return T=ju(v.type,v.key,v.props,null,S.mode,T),T.ref=ca(S,null,v),T.return=S,T;case Bs:return v=bh(v,S.mode,T),v.return=S,v;case ni:var O=v._init;return f(S,O(v._payload),T)}if(_a(v)||sa(v))return v=rs(v,S.mode,T,null),v.return=S,v;gu(S,v)}return null}function m(S,v,T,O){var V=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return V!==null?null:a(S,v,""+T,O);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case su:return T.key===V?u(S,v,T,O):null;case Bs:return T.key===V?c(S,v,T,O):null;case ni:return V=T._init,m(S,v,V(T._payload),O)}if(_a(T)||sa(T))return V!==null?null:d(S,v,T,O,null);gu(S,T)}return null}function y(S,v,T,O,V){if(typeof O=="string"&&O!==""||typeof O=="number")return S=S.get(T)||null,a(v,S,""+O,V);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case su:return S=S.get(O.key===null?T:O.key)||null,u(v,S,O,V);case Bs:return S=S.get(O.key===null?T:O.key)||null,c(v,S,O,V);case ni:var C=O._init;return y(S,v,T,C(O._payload),V)}if(_a(O)||sa(O))return S=S.get(T)||null,d(v,S,O,V,null);gu(v,O)}return null}function _(S,v,T,O){for(var V=null,C=null,I=v,g=v=0,E=null;I!==null&&g<T.length;g++){I.index>g?(E=I,I=null):E=I.sibling;var A=m(S,I,T[g],O);if(A===null){I===null&&(I=E);break}t&&I&&A.alternate===null&&e(S,I),v=s(A,v,g),C===null?V=A:C.sibling=A,C=A,I=E}if(g===T.length)return n(S,I),Je&&Wi(S,g),V;if(I===null){for(;g<T.length;g++)I=f(S,T[g],O),I!==null&&(v=s(I,v,g),C===null?V=I:C.sibling=I,C=I);return Je&&Wi(S,g),V}for(I=r(S,I);g<T.length;g++)E=y(I,S,g,T[g],O),E!==null&&(t&&E.alternate!==null&&I.delete(E.key===null?g:E.key),v=s(E,v,g),C===null?V=E:C.sibling=E,C=E);return t&&I.forEach(function(k){return e(S,k)}),Je&&Wi(S,g),V}function R(S,v,T,O){var V=sa(T);if(typeof V!="function")throw Error(H(150));if(T=V.call(T),T==null)throw Error(H(151));for(var C=V=null,I=v,g=v=0,E=null,A=T.next();I!==null&&!A.done;g++,A=T.next()){I.index>g?(E=I,I=null):E=I.sibling;var k=m(S,I,A.value,O);if(k===null){I===null&&(I=E);break}t&&I&&k.alternate===null&&e(S,I),v=s(k,v,g),C===null?V=k:C.sibling=k,C=k,I=E}if(A.done)return n(S,I),Je&&Wi(S,g),V;if(I===null){for(;!A.done;g++,A=T.next())A=f(S,A.value,O),A!==null&&(v=s(A,v,g),C===null?V=A:C.sibling=A,C=A);return Je&&Wi(S,g),V}for(I=r(S,I);!A.done;g++,A=T.next())A=y(I,S,g,A.value,O),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?g:A.key),v=s(A,v,g),C===null?V=A:C.sibling=A,C=A);return t&&I.forEach(function(b){return e(S,b)}),Je&&Wi(S,g),V}function x(S,v,T,O){if(typeof T=="object"&&T!==null&&T.type===$s&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case su:e:{for(var V=T.key,C=v;C!==null;){if(C.key===V){if(V=T.type,V===$s){if(C.tag===7){n(S,C.sibling),v=i(C,T.props.children),v.return=S,S=v;break e}}else if(C.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ni&&iv(V)===C.type){n(S,C.sibling),v=i(C,T.props),v.ref=ca(S,C,T),v.return=S,S=v;break e}n(S,C);break}else e(S,C);C=C.sibling}T.type===$s?(v=rs(T.props.children,S.mode,O,T.key),v.return=S,S=v):(O=ju(T.type,T.key,T.props,null,S.mode,O),O.ref=ca(S,v,T),O.return=S,S=O)}return o(S);case Bs:e:{for(C=T.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(S,v.sibling),v=i(v,T.children||[]),v.return=S,S=v;break e}else{n(S,v);break}else e(S,v);v=v.sibling}v=bh(T,S.mode,O),v.return=S,S=v}return o(S);case ni:return C=T._init,x(S,v,C(T._payload),O)}if(_a(T))return _(S,v,T,O);if(sa(T))return R(S,v,T,O);gu(S,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(n(S,v.sibling),v=i(v,T),v.return=S,S=v):(n(S,v),v=kh(T,S.mode,O),v.return=S,S=v),o(S)):n(S,v)}return x}var go=Qw(!0),Jw=Qw(!1),gc=Oi(null),yc=null,Ys=null,fm=null;function pm(){fm=Ys=yc=null}function mm(t){var e=gc.current;Qe(gc),t._currentValue=e}function Ff(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function oo(t,e){yc=t,fm=Ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(fm!==t)if(t={context:t,memoizedValue:e,next:null},Ys===null){if(yc===null)throw Error(H(308));Ys=t,yc.dependencies={lanes:0,firstContext:t}}else Ys=Ys.next=t;return e}var Yi=null;function gm(t){Yi===null?Yi=[t]:Yi.push(t)}function Yw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,gm(e)):(n.next=i.next,i.next=n),e.interleaved=n,Nr(t,r)}function Nr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ri=!1;function ym(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Nr(t,n)}return i=r.interleaved,i===null?(e.next=e,gm(r)):(e.next=i.next,i.next=e),r.interleaved=e,Nr(t,n)}function Du(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nm(t,n)}}function sv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vc(t,e,n,r){var i=t.updateQueue;ri=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,d=c=u=null,a=s;do{var m=a.lane,y=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,R=a;switch(m=e,y=n,R.tag){case 1:if(_=R.payload,typeof _=="function"){f=_.call(y,f,m);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=R.payload,m=typeof _=="function"?_.call(y,f,m):_,m==null)break e;f=tt({},f,m);break e;case 2:ri=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,u=f):d=d.next=y,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);us|=o,t.lanes=o,t.memoizedState=f}}function ov(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Al={},ir=Oi(Al),tl=Oi(Al),nl=Oi(Al);function Xi(t){if(t===Al)throw Error(H(174));return t}function vm(t,e){switch($e(nl,e),$e(tl,t),$e(ir,Al),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vf(e,t)}Qe(ir),$e(ir,e)}function yo(){Qe(ir),Qe(tl),Qe(nl)}function Zw(t){Xi(nl.current);var e=Xi(ir.current),n=vf(e,t.type);e!==n&&($e(tl,t),$e(ir,n))}function _m(t){tl.current===t&&(Qe(ir),Qe(tl))}var Ze=Oi(0);function _c(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sh=[];function wm(){for(var t=0;t<Sh.length;t++)Sh[t]._workInProgressVersionPrimary=null;Sh.length=0}var Lu=jr.ReactCurrentDispatcher,Ih=jr.ReactCurrentBatchConfig,ls=0,et=null,yt=null,Tt=null,wc=!1,Da=!1,rl=0,YP=0;function Ut(){throw Error(H(321))}function Em(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kn(t[n],e[n]))return!1;return!0}function Tm(t,e,n,r,i,s){if(ls=s,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lu.current=t===null||t.memoizedState===null?tA:nA,t=n(r,i),Da){s=0;do{if(Da=!1,rl=0,25<=s)throw Error(H(301));s+=1,Tt=yt=null,e.updateQueue=null,Lu.current=rA,t=n(r,i)}while(Da)}if(Lu.current=Ec,e=yt!==null&&yt.next!==null,ls=0,Tt=yt=et=null,wc=!1,e)throw Error(H(300));return t}function Sm(){var t=rl!==0;return rl=0,t}function er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?et.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Nn(){if(yt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=Tt===null?et.memoizedState:Tt.next;if(e!==null)Tt=e,yt=t;else{if(t===null)throw Error(H(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Tt===null?et.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function il(t,e){return typeof e=="function"?e(t):e}function Rh(t){var e=Nn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=yt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var d=c.lane;if((ls&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,et.lanes|=d,us|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Kn(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,et.lanes|=s,us|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ph(t){var e=Nn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Kn(s,e.memoizedState)||(rn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function eE(){}function tE(t,e){var n=et,r=Nn(),i=e(),s=!Kn(r.memoizedState,i);if(s&&(r.memoizedState=i,rn=!0),r=r.queue,Im(iE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,sl(9,rE.bind(null,n,r,i,e),void 0,null),St===null)throw Error(H(349));ls&30||nE(n,e,i)}return i}function nE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rE(t,e,n,r){e.value=n,e.getSnapshot=r,sE(e)&&oE(t)}function iE(t,e,n){return n(function(){sE(e)&&oE(t)})}function sE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kn(t,n)}catch{return!0}}function oE(t){var e=Nr(t,1);e!==null&&Hn(e,t,1,-1)}function av(t){var e=er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:t},e.queue=t,t=t.dispatch=eA.bind(null,et,t),[e.memoizedState,t]}function sl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function aE(){return Nn().memoizedState}function Mu(t,e,n,r){var i=er();et.flags|=t,i.memoizedState=sl(1|e,n,void 0,r===void 0?null:r)}function ad(t,e,n,r){var i=Nn();r=r===void 0?null:r;var s=void 0;if(yt!==null){var o=yt.memoizedState;if(s=o.destroy,r!==null&&Em(r,o.deps)){i.memoizedState=sl(e,n,s,r);return}}et.flags|=t,i.memoizedState=sl(1|e,n,s,r)}function lv(t,e){return Mu(8390656,8,t,e)}function Im(t,e){return ad(2048,8,t,e)}function lE(t,e){return ad(4,2,t,e)}function uE(t,e){return ad(4,4,t,e)}function cE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dE(t,e,n){return n=n!=null?n.concat([t]):null,ad(4,4,cE.bind(null,e,t),n)}function Rm(){}function hE(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Em(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fE(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Em(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pE(t,e,n){return ls&21?(Kn(n,e)||(n=_w(),et.lanes|=n,us|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function XP(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=Ih.transition;Ih.transition={};try{t(!1),e()}finally{Me=n,Ih.transition=r}}function mE(){return Nn().memoizedState}function ZP(t,e,n){var r=_i(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gE(t))yE(e,n);else if(n=Yw(t,e,n,r),n!==null){var i=Yt();Hn(n,t,r,i),vE(n,e,r)}}function eA(t,e,n){var r=_i(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gE(t))yE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Kn(a,o)){var u=e.interleaved;u===null?(i.next=i,gm(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Yw(t,e,i,r),n!==null&&(i=Yt(),Hn(n,t,r,i),vE(n,e,r))}}function gE(t){var e=t.alternate;return t===et||e!==null&&e===et}function yE(t,e){Da=wc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nm(t,n)}}var Ec={readContext:On,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},tA={readContext:On,useCallback:function(t,e){return er().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:lv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Mu(4194308,4,cE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mu(4,2,t,e)},useMemo:function(t,e){var n=er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZP.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=er();return t={current:t},e.memoizedState=t},useState:av,useDebugValue:Rm,useDeferredValue:function(t){return er().memoizedState=t},useTransition:function(){var t=av(!1),e=t[0];return t=XP.bind(null,t[1]),er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,i=er();if(Je){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),St===null)throw Error(H(349));ls&30||nE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,lv(iE.bind(null,r,s,t),[t]),r.flags|=2048,sl(9,rE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=er(),e=St.identifierPrefix;if(Je){var n=Sr,r=Tr;n=(r&~(1<<32-$n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=YP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nA={readContext:On,useCallback:hE,useContext:On,useEffect:Im,useImperativeHandle:dE,useInsertionEffect:lE,useLayoutEffect:uE,useMemo:fE,useReducer:Rh,useRef:aE,useState:function(){return Rh(il)},useDebugValue:Rm,useDeferredValue:function(t){var e=Nn();return pE(e,yt.memoizedState,t)},useTransition:function(){var t=Rh(il)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:eE,useSyncExternalStore:tE,useId:mE,unstable_isNewReconciler:!1},rA={readContext:On,useCallback:hE,useContext:On,useEffect:Im,useImperativeHandle:dE,useInsertionEffect:lE,useLayoutEffect:uE,useMemo:fE,useReducer:Ph,useRef:aE,useState:function(){return Ph(il)},useDebugValue:Rm,useDeferredValue:function(t){var e=Nn();return yt===null?e.memoizedState=t:pE(e,yt.memoizedState,t)},useTransition:function(){var t=Ph(il)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:eE,useSyncExternalStore:tE,useId:mE,unstable_isNewReconciler:!1};function Fn(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Uf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ld={isMounted:function(t){return(t=t._reactInternals)?Is(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=_i(t),s=Cr(r,i);s.payload=e,n!=null&&(s.callback=n),e=yi(t,s,i),e!==null&&(Hn(e,t,i,r),Du(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=_i(t),s=Cr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=yi(t,s,i),e!==null&&(Hn(e,t,i,r),Du(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yt(),r=_i(t),i=Cr(n,r);i.tag=2,e!=null&&(i.callback=e),e=yi(t,i,r),e!==null&&(Hn(e,t,r,n),Du(e,t,r))}};function uv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ya(n,r)||!Ya(i,s):!0}function _E(t,e,n){var r=!1,i=Pi,s=e.contextType;return typeof s=="object"&&s!==null?s=On(s):(i=on(e)?os:Wt.current,r=e.contextTypes,s=(r=r!=null)?po(t,i):Pi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ld,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function cv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ld.enqueueReplaceState(e,e.state,null)}function jf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ym(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=On(s):(s=on(e)?os:Wt.current,i.context=po(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Uf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ld.enqueueReplaceState(i,i.state,null),vc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function vo(t,e){try{var n="",r=e;do n+=xR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ah(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var iA=typeof WeakMap=="function"?WeakMap:Map;function wE(t,e,n){n=Cr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sc||(Sc=!0,Yf=r),zf(t,e)},n}function EE(t,e,n){n=Cr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){zf(t,e),typeof r!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function dv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new iA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=vA.bind(null,t,e,n),e.then(t,t))}function hv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cr(-1,1),e.tag=2,yi(n,e,1))),n.lanes|=1),t)}var sA=jr.ReactCurrentOwner,rn=!1;function Jt(t,e,n,r){e.child=t===null?Jw(e,null,n,r):go(e,t.child,n,r)}function pv(t,e,n,r,i){n=n.render;var s=e.ref;return oo(e,i),r=Tm(t,e,n,r,s,i),n=Sm(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dr(t,e,i)):(Je&&n&&cm(e),e.flags|=1,Jt(t,e,r,i),e.child)}function mv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Nm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,TE(t,e,s,r,i)):(t=ju(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ya,n(o,r)&&t.ref===e.ref)return Dr(t,e,i)}return e.flags|=1,t=wi(s,r),t.ref=e.ref,t.return=e,e.child=t}function TE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ya(s,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,Dr(t,e,i)}return Bf(t,e,n,r,i)}function SE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Zs,fn),fn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(Zs,fn),fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,$e(Zs,fn),fn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,$e(Zs,fn),fn|=r;return Jt(t,e,i,n),e.child}function IE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Bf(t,e,n,r,i){var s=on(n)?os:Wt.current;return s=po(e,s),oo(e,i),n=Tm(t,e,n,r,s,i),r=Sm(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dr(t,e,i)):(Je&&r&&cm(e),e.flags|=1,Jt(t,e,n,i),e.child)}function gv(t,e,n,r,i){if(on(n)){var s=!0;fc(e)}else s=!1;if(oo(e,i),e.stateNode===null)Vu(t,e),_E(e,n,r),jf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=On(c):(c=on(n)?os:Wt.current,c=po(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&cv(e,o,r,c),ri=!1;var m=e.memoizedState;o.state=m,vc(e,r,o,i),u=e.memoizedState,a!==r||m!==u||sn.current||ri?(typeof d=="function"&&(Uf(e,n,d,r),u=e.memoizedState),(a=ri||uv(e,n,a,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Xw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Fn(e.type,a),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=On(u):(u=on(n)?os:Wt.current,u=po(e,u));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==u)&&cv(e,o,r,u),ri=!1,m=e.memoizedState,o.state=m,vc(e,r,o,i);var _=e.memoizedState;a!==f||m!==_||sn.current||ri?(typeof y=="function"&&(Uf(e,n,y,r),_=e.memoizedState),(c=ri||uv(e,n,c,r,m,_,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return $f(t,e,n,r,s,i)}function $f(t,e,n,r,i,s){IE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&tv(e,n,!1),Dr(t,e,s);r=e.stateNode,sA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=go(e,t.child,null,s),e.child=go(e,null,a,s)):Jt(t,e,a,s),e.memoizedState=r.state,i&&tv(e,n,!0),e.child}function RE(t){var e=t.stateNode;e.pendingContext?ev(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ev(t,e.context,!1),vm(t,e.containerInfo)}function yv(t,e,n,r,i){return mo(),hm(i),e.flags|=256,Jt(t,e,n,r),e.child}var Hf={dehydrated:null,treeContext:null,retryLane:0};function Wf(t){return{baseLanes:t,cachePool:null,transitions:null}}function PE(t,e,n){var r=e.pendingProps,i=Ze.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$e(Ze,i&1),t===null)return Vf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=dd(o,r,0,null),t=rs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Wf(n),e.memoizedState=Hf,t):Pm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return oA(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=wi(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=wi(a,s):(s=rs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Wf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Hf,r}return s=t.child,t=s.sibling,r=wi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Pm(t,e){return e=dd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yu(t,e,n,r){return r!==null&&hm(r),go(e,t.child,null,n),t=Pm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ah(Error(H(422))),yu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=dd({mode:"visible",children:r.children},i,0,null),s=rs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&go(e,t.child,null,o),e.child.memoizedState=Wf(o),e.memoizedState=Hf,s);if(!(e.mode&1))return yu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=Ah(s,r,void 0),yu(t,e,o,r)}if(a=(o&t.childLanes)!==0,rn||a){if(r=St,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Nr(t,i),Hn(r,t,i,-1))}return Om(),r=Ah(Error(H(421))),yu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_A.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,mn=gi(i.nextSibling),vn=e,Je=!0,zn=null,t!==null&&(An[Cn++]=Tr,An[Cn++]=Sr,An[Cn++]=as,Tr=t.id,Sr=t.overflow,as=e),e=Pm(e,r.children),e.flags|=4096,e)}function vv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ff(t.return,e,n)}function Ch(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function AE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Jt(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vv(t,n,e);else if(t.tag===19)vv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&_c(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ch(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_c(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ch(e,!0,n,null,s);break;case"together":Ch(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),us|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aA(t,e,n){switch(e.tag){case 3:RE(e),mo();break;case 5:Zw(e);break;case 1:on(e.type)&&fc(e);break;case 4:vm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;$e(gc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?PE(t,e,n):($e(Ze,Ze.current&1),t=Dr(t,e,n),t!==null?t.sibling:null);$e(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return AE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,SE(t,e,n)}return Dr(t,e,n)}var CE,qf,kE,bE;CE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qf=function(){};kE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xi(ir.current);var s=null;switch(n){case"input":i=pf(t,i),r=pf(t,r),s=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),s=[];break;case"textarea":i=yf(t,i),r=yf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dc)}_f(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ha.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ha.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ge("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};bE=function(t,e,n,r){n!==r&&(e.flags|=4)};function da(t,e){if(!Je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lA(t,e,n){var r=e.pendingProps;switch(dm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return on(e.type)&&hc(),jt(e),null;case 3:return r=e.stateNode,yo(),Qe(sn),Qe(Wt),wm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(ep(zn),zn=null))),qf(t,e),jt(e),null;case 5:_m(e);var i=Xi(nl.current);if(n=e.type,t!==null&&e.stateNode!=null)kE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return jt(e),null}if(t=Xi(ir.current),mu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[tr]=e,r[el]=s,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(i=0;i<Ea.length;i++)Ge(Ea[i],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":Ay(r,s),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ge("invalid",r);break;case"textarea":ky(r,s),Ge("invalid",r)}_f(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pu(r.textContent,a,t),i=["children",""+a]):Ha.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ge("scroll",r)}switch(n){case"input":ou(r),Cy(r,s,!0);break;case"textarea":ou(r),by(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=dc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=iw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[tr]=e,t[el]=r,CE(t,e,!1,!1),e.stateNode=t;e:{switch(o=wf(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),i=r;break;case"iframe":case"object":case"embed":Ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ea.length;i++)Ge(Ea[i],t);i=r;break;case"source":Ge("error",t),i=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),i=r;break;case"details":Ge("toggle",t),i=r;break;case"input":Ay(t,r),i=pf(t,r),Ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":ky(t,r),i=yf(t,r),Ge("invalid",t);break;default:i=r}_f(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?aw(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&sw(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Wa(t,u):typeof u=="number"&&Wa(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ha.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ge("scroll",t):u!=null&&Jp(t,s,u,o))}switch(n){case"input":ou(t),Cy(t,r,!1);break;case"textarea":ou(t),by(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ri(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?no(t,!!r.multiple,s,!1):r.defaultValue!=null&&no(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=dc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)bE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Xi(nl.current),Xi(ir.current),mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[tr]=e,(s=r.nodeValue!==n)&&(t=vn,t!==null))switch(t.tag){case 3:pu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tr]=e,e.stateNode=r}return jt(e),null;case 13:if(Qe(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Je&&mn!==null&&e.mode&1&&!(e.flags&128))Gw(),mo(),e.flags|=98560,s=!1;else if(s=mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[tr]=e}else mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),s=!1}else zn!==null&&(ep(zn),zn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?_t===0&&(_t=3):Om())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return yo(),qf(t,e),t===null&&Xa(e.stateNode.containerInfo),jt(e),null;case 10:return mm(e.type._context),jt(e),null;case 17:return on(e.type)&&hc(),jt(e),null;case 19:if(Qe(Ze),s=e.memoizedState,s===null)return jt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)da(s,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=_c(t),o!==null){for(e.flags|=128,da(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(Ze,Ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&lt()>_o&&(e.flags|=128,r=!0,da(s,!1),e.lanes=4194304)}else{if(!r)if(t=_c(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),da(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Je)return jt(e),null}else 2*lt()-s.renderingStartTime>_o&&n!==1073741824&&(e.flags|=128,r=!0,da(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=lt(),e.sibling=null,n=Ze.current,$e(Ze,r?n&1|2:n&1),e):(jt(e),null);case 22:case 23:return xm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fn&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function uA(t,e){switch(dm(e),e.tag){case 1:return on(e.type)&&hc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yo(),Qe(sn),Qe(Wt),wm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _m(e),null;case 13:if(Qe(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));mo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(Ze),null;case 4:return yo(),null;case 10:return mm(e.type._context),null;case 22:case 23:return xm(),null;case 24:return null;default:return null}}var vu=!1,$t=!1,cA=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Xs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(t,e,r)}else n.current=null}function Kf(t,e,n){try{n()}catch(r){st(t,e,r)}}var _v=!1;function dA(t,e){if(bf=lc,t=Lw(),um(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,f=t,m=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++d===r&&(u=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(xf={focusedElem:t,selectionRange:n},lc=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var R=_.memoizedProps,x=_.memoizedState,S=e.stateNode,v=S.getSnapshotBeforeUpdate(e.elementType===e.type?R:Fn(e.type,R),x);S.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(O){st(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return _=_v,_v=!1,_}function La(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Kf(e,n,s)}i=i.next}while(i!==r)}}function ud(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xE(t){var e=t.alternate;e!==null&&(t.alternate=null,xE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[tr],delete e[el],delete e[Df],delete e[KP],delete e[GP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function OE(t){return t.tag===5||t.tag===3||t.tag===4}function wv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||OE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dc));else if(r!==4&&(t=t.child,t!==null))for(Qf(t,e,n),t=t.sibling;t!==null;)Qf(t,e,n),t=t.sibling}function Jf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jf(t,e,n),t=t.sibling;t!==null;)Jf(t,e,n),t=t.sibling}var Ct=null,Un=!1;function Xr(t,e,n){for(n=n.child;n!==null;)NE(t,e,n),n=n.sibling}function NE(t,e,n){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(td,n)}catch{}switch(n.tag){case 5:$t||Xs(n,e);case 6:var r=Ct,i=Un;Ct=null,Xr(t,e,n),Ct=r,Un=i,Ct!==null&&(Un?(t=Ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(Un?(t=Ct,n=n.stateNode,t.nodeType===8?Eh(t.parentNode,n):t.nodeType===1&&Eh(t,n),Qa(t)):Eh(Ct,n.stateNode));break;case 4:r=Ct,i=Un,Ct=n.stateNode.containerInfo,Un=!0,Xr(t,e,n),Ct=r,Un=i;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Kf(n,e,o),i=i.next}while(i!==r)}Xr(t,e,n);break;case 1:if(!$t&&(Xs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){st(n,e,a)}Xr(t,e,n);break;case 21:Xr(t,e,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,Xr(t,e,n),$t=r):Xr(t,e,n);break;default:Xr(t,e,n)}}function Ev(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cA),e.forEach(function(r){var i=wA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ct=a.stateNode,Un=!1;break e;case 3:Ct=a.stateNode.containerInfo,Un=!0;break e;case 4:Ct=a.stateNode.containerInfo,Un=!0;break e}a=a.return}if(Ct===null)throw Error(H(160));NE(s,o,i),Ct=null,Un=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){st(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DE(e,t),e=e.sibling}function DE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(e,t),Zn(t),r&4){try{La(3,t,t.return),ud(3,t)}catch(R){st(t,t.return,R)}try{La(5,t,t.return)}catch(R){st(t,t.return,R)}}break;case 1:Vn(e,t),Zn(t),r&512&&n!==null&&Xs(n,n.return);break;case 5:if(Vn(e,t),Zn(t),r&512&&n!==null&&Xs(n,n.return),t.flags&32){var i=t.stateNode;try{Wa(i,"")}catch(R){st(t,t.return,R)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&nw(i,s),wf(a,o);var c=wf(a,s);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?aw(i,f):d==="dangerouslySetInnerHTML"?sw(i,f):d==="children"?Wa(i,f):Jp(i,d,f,c)}switch(a){case"input":mf(i,s);break;case"textarea":rw(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?no(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?no(i,!!s.multiple,s.defaultValue,!0):no(i,!!s.multiple,s.multiple?[]:"",!1))}i[el]=s}catch(R){st(t,t.return,R)}}break;case 6:if(Vn(e,t),Zn(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(R){st(t,t.return,R)}}break;case 3:if(Vn(e,t),Zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qa(e.containerInfo)}catch(R){st(t,t.return,R)}break;case 4:Vn(e,t),Zn(t);break;case 13:Vn(e,t),Zn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(km=lt())),r&4&&Ev(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?($t=(c=$t)||d,Vn(e,t),$t=c):Vn(e,t),Zn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(f=Y=d;Y!==null;){switch(m=Y,y=m.child,m.tag){case 0:case 11:case 14:case 15:La(4,m,m.return);break;case 1:Xs(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(R){st(r,n,R)}}break;case 5:Xs(m,m.return);break;case 22:if(m.memoizedState!==null){Sv(f);continue}}y!==null?(y.return=m,Y=y):Sv(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=ow("display",o))}catch(R){st(t,t.return,R)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(R){st(t,t.return,R)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Vn(e,t),Zn(t),r&4&&Ev(t);break;case 21:break;default:Vn(e,t),Zn(t)}}function Zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(OE(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wa(i,""),r.flags&=-33);var s=wv(t);Jf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=wv(t);Qf(t,a,o);break;default:throw Error(H(161))}}catch(u){st(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hA(t,e,n){Y=t,LE(t)}function LE(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||vu;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||$t;a=vu;var c=$t;if(vu=o,($t=u)&&!c)for(Y=i;Y!==null;)o=Y,u=o.child,o.tag===22&&o.memoizedState!==null?Iv(i):u!==null?(u.return=o,Y=u):Iv(i);for(;s!==null;)Y=s,LE(s),s=s.sibling;Y=i,vu=a,$t=c}Tv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):Tv(t)}}function Tv(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||ud(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Fn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ov(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ov(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Qa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}$t||e.flags&512&&Gf(e)}catch(m){st(e,e.return,m)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Sv(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Iv(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ud(4,e)}catch(u){st(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){st(e,i,u)}}var s=e.return;try{Gf(e)}catch(u){st(e,s,u)}break;case 5:var o=e.return;try{Gf(e)}catch(u){st(e,o,u)}}}catch(u){st(e,e.return,u)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var fA=Math.ceil,Tc=jr.ReactCurrentDispatcher,Am=jr.ReactCurrentOwner,bn=jr.ReactCurrentBatchConfig,Ce=0,St=null,ft=null,xt=0,fn=0,Zs=Oi(0),_t=0,ol=null,us=0,cd=0,Cm=0,Ma=null,tn=null,km=0,_o=1/0,wr=null,Sc=!1,Yf=null,vi=null,_u=!1,di=null,Ic=0,Va=0,Xf=null,Fu=-1,Uu=0;function Yt(){return Ce&6?lt():Fu!==-1?Fu:Fu=lt()}function _i(t){return t.mode&1?Ce&2&&xt!==0?xt&-xt:JP.transition!==null?(Uu===0&&(Uu=_w()),Uu):(t=Me,t!==0||(t=window.event,t=t===void 0?16:Pw(t.type)),t):1}function Hn(t,e,n,r){if(50<Va)throw Va=0,Xf=null,Error(H(185));Il(t,n,r),(!(Ce&2)||t!==St)&&(t===St&&(!(Ce&2)&&(cd|=n),_t===4&&si(t,xt)),an(t,r),n===1&&Ce===0&&!(e.mode&1)&&(_o=lt()+500,od&&Ni()))}function an(t,e){var n=t.callbackNode;JR(t,e);var r=ac(t,t===St?xt:0);if(r===0)n!==null&&Ny(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ny(n),e===1)t.tag===0?QP(Rv.bind(null,t)):Ww(Rv.bind(null,t)),WP(function(){!(Ce&6)&&Ni()}),n=null;else{switch(ww(r)){case 1:n=tm;break;case 4:n=yw;break;case 16:n=oc;break;case 536870912:n=vw;break;default:n=oc}n=$E(n,ME.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ME(t,e){if(Fu=-1,Uu=0,Ce&6)throw Error(H(327));var n=t.callbackNode;if(ao()&&t.callbackNode!==n)return null;var r=ac(t,t===St?xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rc(t,r);else{e=r;var i=Ce;Ce|=2;var s=FE();(St!==t||xt!==e)&&(wr=null,_o=lt()+500,ns(t,e));do try{gA();break}catch(a){VE(t,a)}while(!0);pm(),Tc.current=s,Ce=i,ft!==null?e=0:(St=null,xt=0,e=_t)}if(e!==0){if(e===2&&(i=Rf(t),i!==0&&(r=i,e=Zf(t,i))),e===1)throw n=ol,ns(t,0),si(t,r),an(t,lt()),n;if(e===6)si(t,r);else{if(i=t.current.alternate,!(r&30)&&!pA(i)&&(e=Rc(t,r),e===2&&(s=Rf(t),s!==0&&(r=s,e=Zf(t,s))),e===1))throw n=ol,ns(t,0),si(t,r),an(t,lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:qi(t,tn,wr);break;case 3:if(si(t,r),(r&130023424)===r&&(e=km+500-lt(),10<e)){if(ac(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Nf(qi.bind(null,t,tn,wr),e);break}qi(t,tn,wr);break;case 4:if(si(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-$n(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fA(r/1960))-r,10<r){t.timeoutHandle=Nf(qi.bind(null,t,tn,wr),r);break}qi(t,tn,wr);break;case 5:qi(t,tn,wr);break;default:throw Error(H(329))}}}return an(t,lt()),t.callbackNode===n?ME.bind(null,t):null}function Zf(t,e){var n=Ma;return t.current.memoizedState.isDehydrated&&(ns(t,e).flags|=256),t=Rc(t,e),t!==2&&(e=tn,tn=n,e!==null&&ep(e)),t}function ep(t){tn===null?tn=t:tn.push.apply(tn,t)}function pA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Kn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function si(t,e){for(e&=~Cm,e&=~cd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$n(e),r=1<<n;t[n]=-1,e&=~r}}function Rv(t){if(Ce&6)throw Error(H(327));ao();var e=ac(t,0);if(!(e&1))return an(t,lt()),null;var n=Rc(t,e);if(t.tag!==0&&n===2){var r=Rf(t);r!==0&&(e=r,n=Zf(t,r))}if(n===1)throw n=ol,ns(t,0),si(t,e),an(t,lt()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qi(t,tn,wr),an(t,lt()),null}function bm(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(_o=lt()+500,od&&Ni())}}function cs(t){di!==null&&di.tag===0&&!(Ce&6)&&ao();var e=Ce;Ce|=1;var n=bn.transition,r=Me;try{if(bn.transition=null,Me=1,t)return t()}finally{Me=r,bn.transition=n,Ce=e,!(Ce&6)&&Ni()}}function xm(){fn=Zs.current,Qe(Zs)}function ns(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,HP(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(dm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hc();break;case 3:yo(),Qe(sn),Qe(Wt),wm();break;case 5:_m(r);break;case 4:yo();break;case 13:Qe(Ze);break;case 19:Qe(Ze);break;case 10:mm(r.type._context);break;case 22:case 23:xm()}n=n.return}if(St=t,ft=t=wi(t.current,null),xt=fn=e,_t=0,ol=null,Cm=cd=us=0,tn=Ma=null,Yi!==null){for(e=0;e<Yi.length;e++)if(n=Yi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Yi=null}return t}function VE(t,e){do{var n=ft;try{if(pm(),Lu.current=Ec,wc){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}wc=!1}if(ls=0,Tt=yt=et=null,Da=!1,rl=0,Am.current=null,n===null||n.return===null){_t=1,ol=e,ft=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=xt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=hv(o);if(y!==null){y.flags&=-257,fv(y,o,a,s,e),y.mode&1&&dv(s,c,e),e=y,u=c;var _=e.updateQueue;if(_===null){var R=new Set;R.add(u),e.updateQueue=R}else _.add(u);break e}else{if(!(e&1)){dv(s,c,e),Om();break e}u=Error(H(426))}}else if(Je&&a.mode&1){var x=hv(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),fv(x,o,a,s,e),hm(vo(u,a));break e}}s=u=vo(u,a),_t!==4&&(_t=2),Ma===null?Ma=[s]:Ma.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=wE(s,u,e);sv(s,S);break e;case 1:a=u;var v=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(vi===null||!vi.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=EE(s,a,e);sv(s,O);break e}}s=s.return}while(s!==null)}jE(n)}catch(V){e=V,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(!0)}function FE(){var t=Tc.current;return Tc.current=Ec,t===null?Ec:t}function Om(){(_t===0||_t===3||_t===2)&&(_t=4),St===null||!(us&268435455)&&!(cd&268435455)||si(St,xt)}function Rc(t,e){var n=Ce;Ce|=2;var r=FE();(St!==t||xt!==e)&&(wr=null,ns(t,e));do try{mA();break}catch(i){VE(t,i)}while(!0);if(pm(),Ce=n,Tc.current=r,ft!==null)throw Error(H(261));return St=null,xt=0,_t}function mA(){for(;ft!==null;)UE(ft)}function gA(){for(;ft!==null&&!zR();)UE(ft)}function UE(t){var e=BE(t.alternate,t,fn);t.memoizedProps=t.pendingProps,e===null?jE(t):ft=e,Am.current=null}function jE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uA(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,ft=null;return}}else if(n=lA(n,e,fn),n!==null){ft=n;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);_t===0&&(_t=5)}function qi(t,e,n){var r=Me,i=bn.transition;try{bn.transition=null,Me=1,yA(t,e,n,r)}finally{bn.transition=i,Me=r}return null}function yA(t,e,n,r){do ao();while(di!==null);if(Ce&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(YR(t,s),t===St&&(ft=St=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_u||(_u=!0,$E(oc,function(){return ao(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=bn.transition,bn.transition=null;var o=Me;Me=1;var a=Ce;Ce|=4,Am.current=null,dA(t,n),DE(n,t),VP(xf),lc=!!bf,xf=bf=null,t.current=n,hA(n),BR(),Ce=a,Me=o,bn.transition=s}else t.current=n;if(_u&&(_u=!1,di=t,Ic=i),s=t.pendingLanes,s===0&&(vi=null),WR(n.stateNode),an(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Sc)throw Sc=!1,t=Yf,Yf=null,t;return Ic&1&&t.tag!==0&&ao(),s=t.pendingLanes,s&1?t===Xf?Va++:(Va=0,Xf=t):Va=0,Ni(),null}function ao(){if(di!==null){var t=ww(Ic),e=bn.transition,n=Me;try{if(bn.transition=null,Me=16>t?16:t,di===null)var r=!1;else{if(t=di,di=null,Ic=0,Ce&6)throw Error(H(331));var i=Ce;for(Ce|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(Y=c;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:La(8,d,s)}var f=d.child;if(f!==null)f.return=d,Y=f;else for(;Y!==null;){d=Y;var m=d.sibling,y=d.return;if(xE(d),d===c){Y=null;break}if(m!==null){m.return=y,Y=m;break}Y=y}}}var _=s.alternate;if(_!==null){var R=_.child;if(R!==null){_.child=null;do{var x=R.sibling;R.sibling=null,R=x}while(R!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:La(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,Y=S;break e}Y=s.return}}var v=t.current;for(Y=v;Y!==null;){o=Y;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Y=T;else e:for(o=v;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ud(9,a)}}catch(V){st(a,a.return,V)}if(a===o){Y=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,Y=O;break e}Y=a.return}}if(Ce=i,Ni(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(td,t)}catch{}r=!0}return r}finally{Me=n,bn.transition=e}}return!1}function Pv(t,e,n){e=vo(n,e),e=wE(t,e,1),t=yi(t,e,1),e=Yt(),t!==null&&(Il(t,1,e),an(t,e))}function st(t,e,n){if(t.tag===3)Pv(t,t,n);else for(;e!==null;){if(e.tag===3){Pv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vi===null||!vi.has(r))){t=vo(n,t),t=EE(e,t,1),e=yi(e,t,1),t=Yt(),e!==null&&(Il(e,1,t),an(e,t));break}}e=e.return}}function vA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&n,St===t&&(xt&n)===n&&(_t===4||_t===3&&(xt&130023424)===xt&&500>lt()-km?ns(t,0):Cm|=n),an(t,e)}function zE(t,e){e===0&&(t.mode&1?(e=uu,uu<<=1,!(uu&130023424)&&(uu=4194304)):e=1);var n=Yt();t=Nr(t,e),t!==null&&(Il(t,e,n),an(t,n))}function _A(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zE(t,n)}function wA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),zE(t,n)}var BE;BE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,aA(t,e,n);rn=!!(t.flags&131072)}else rn=!1,Je&&e.flags&1048576&&qw(e,mc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vu(t,e),t=e.pendingProps;var i=po(e,Wt.current);oo(e,n),i=Tm(null,e,r,t,i,n);var s=Sm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(s=!0,fc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ym(e),i.updater=ld,e.stateNode=i,i._reactInternals=e,jf(e,r,t,n),e=$f(null,e,r,!0,s,n)):(e.tag=0,Je&&s&&cm(e),Jt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=TA(r),t=Fn(r,t),i){case 0:e=Bf(null,e,r,t,n);break e;case 1:e=gv(null,e,r,t,n);break e;case 11:e=pv(null,e,r,t,n);break e;case 14:e=mv(null,e,r,Fn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),Bf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),gv(t,e,r,i,n);case 3:e:{if(RE(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Xw(t,e),vc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=vo(Error(H(423)),e),e=yv(t,e,r,n,i);break e}else if(r!==i){i=vo(Error(H(424)),e),e=yv(t,e,r,n,i);break e}else for(mn=gi(e.stateNode.containerInfo.firstChild),vn=e,Je=!0,zn=null,n=Jw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mo(),r===i){e=Dr(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return Zw(e),t===null&&Vf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Of(r,i)?o=null:s!==null&&Of(r,s)&&(e.flags|=32),IE(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&Vf(e),null;case 13:return PE(t,e,n);case 4:return vm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=go(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),pv(t,e,r,i,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,$e(gc,r._currentValue),r._currentValue=o,s!==null)if(Kn(s.value,o)){if(s.children===i.children&&!sn.current){e=Dr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Cr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Ff(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ff(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Jt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,oo(e,n),i=On(i),r=r(i),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,i=Fn(r,e.pendingProps),i=Fn(r.type,i),mv(t,e,r,i,n);case 15:return TE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),Vu(t,e),e.tag=1,on(r)?(t=!0,fc(e)):t=!1,oo(e,n),_E(e,r,i),jf(e,r,i,n),$f(null,e,r,!0,t,n);case 19:return AE(t,e,n);case 22:return SE(t,e,n)}throw Error(H(156,e.tag))};function $E(t,e){return gw(t,e)}function EA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,e,n,r){return new EA(t,e,n,r)}function Nm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function TA(t){if(typeof t=="function")return Nm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xp)return 11;if(t===Zp)return 14}return 2}function wi(t,e){var n=t.alternate;return n===null?(n=kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ju(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Nm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $s:return rs(n.children,i,s,e);case Yp:o=8,i|=8;break;case cf:return t=kn(12,n,e,i|2),t.elementType=cf,t.lanes=s,t;case df:return t=kn(13,n,e,i),t.elementType=df,t.lanes=s,t;case hf:return t=kn(19,n,e,i),t.elementType=hf,t.lanes=s,t;case Z0:return dd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y0:o=10;break e;case X0:o=9;break e;case Xp:o=11;break e;case Zp:o=14;break e;case ni:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=kn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function rs(t,e,n,r){return t=kn(7,t,r,e),t.lanes=n,t}function dd(t,e,n,r){return t=kn(22,t,r,e),t.elementType=Z0,t.lanes=n,t.stateNode={isHidden:!1},t}function kh(t,e,n){return t=kn(6,t,null,e),t.lanes=n,t}function bh(t,e,n){return e=kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function SA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ch(0),this.expirationTimes=ch(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ch(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dm(t,e,n,r,i,s,o,a,u){return t=new SA(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=kn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ym(s),t}function IA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function HE(t){if(!t)return Pi;t=t._reactInternals;e:{if(Is(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(on(n))return Hw(t,n,e)}return e}function WE(t,e,n,r,i,s,o,a,u){return t=Dm(n,r,!0,t,i,s,o,a,u),t.context=HE(null),n=t.current,r=Yt(),i=_i(n),s=Cr(r,i),s.callback=e??null,yi(n,s,i),t.current.lanes=i,Il(t,i,r),an(t,r),t}function hd(t,e,n,r){var i=e.current,s=Yt(),o=_i(i);return n=HE(n),e.context===null?e.context=n:e.pendingContext=n,e=Cr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=yi(i,e,o),t!==null&&(Hn(t,i,o,s),Du(t,i,o)),o}function Pc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Av(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Lm(t,e){Av(t,e),(t=t.alternate)&&Av(t,e)}function RA(){return null}var qE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mm(t){this._internalRoot=t}fd.prototype.render=Mm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));hd(t,e,null,null)};fd.prototype.unmount=Mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cs(function(){hd(null,t,null,null)}),e[Or]=null}};function fd(t){this._internalRoot=t}fd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Sw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ii.length&&e!==0&&e<ii[n].priority;n++);ii.splice(n,0,t),n===0&&Rw(t)}};function Vm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cv(){}function PA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Pc(o);s.call(c)}}var o=WE(e,r,t,0,null,!1,!1,"",Cv);return t._reactRootContainer=o,t[Or]=o.current,Xa(t.nodeType===8?t.parentNode:t),cs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Pc(u);a.call(c)}}var u=Dm(t,0,!1,null,null,!1,!1,"",Cv);return t._reactRootContainer=u,t[Or]=u.current,Xa(t.nodeType===8?t.parentNode:t),cs(function(){hd(e,u,n,r)}),u}function md(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Pc(o);a.call(u)}}hd(e,o,t,i)}else o=PA(n,e,t,i,r);return Pc(o)}Ew=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wa(e.pendingLanes);n!==0&&(nm(e,n|1),an(e,lt()),!(Ce&6)&&(_o=lt()+500,Ni()))}break;case 13:cs(function(){var r=Nr(t,1);if(r!==null){var i=Yt();Hn(r,t,1,i)}}),Lm(t,1)}};rm=function(t){if(t.tag===13){var e=Nr(t,134217728);if(e!==null){var n=Yt();Hn(e,t,134217728,n)}Lm(t,134217728)}};Tw=function(t){if(t.tag===13){var e=_i(t),n=Nr(t,e);if(n!==null){var r=Yt();Hn(n,t,e,r)}Lm(t,e)}};Sw=function(){return Me};Iw=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};Tf=function(t,e,n){switch(e){case"input":if(mf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sd(r);if(!i)throw Error(H(90));tw(r),mf(r,i)}}}break;case"textarea":rw(t,n);break;case"select":e=n.value,e!=null&&no(t,!!n.multiple,e,!1)}};cw=bm;dw=cs;var AA={usingClientEntryPoint:!1,Events:[Pl,Ks,sd,lw,uw,bm]},ha={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CA={bundleType:ha.bundleType,version:ha.version,rendererPackageName:ha.rendererPackageName,rendererConfig:ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pw(t),t===null?null:t.stateNode},findFiberByHostInstance:ha.findFiberByHostInstance||RA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wu.isDisabled&&wu.supportsFiber)try{td=wu.inject(CA),rr=wu}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AA;Sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vm(e))throw Error(H(200));return IA(t,e,null,n)};Sn.createRoot=function(t,e){if(!Vm(t))throw Error(H(299));var n=!1,r="",i=qE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Dm(t,1,!1,null,null,n,!1,r,i),t[Or]=e.current,Xa(t.nodeType===8?t.parentNode:t),new Mm(e)};Sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=pw(e),t=t===null?null:t.stateNode,t};Sn.flushSync=function(t){return cs(t)};Sn.hydrate=function(t,e,n){if(!pd(e))throw Error(H(200));return md(null,t,e,!0,n)};Sn.hydrateRoot=function(t,e,n){if(!Vm(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=qE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=WE(e,null,t,1,n??null,i,!1,s,o),t[Or]=e.current,Xa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new fd(e)};Sn.render=function(t,e,n){if(!pd(e))throw Error(H(200));return md(null,t,e,!1,n)};Sn.unmountComponentAtNode=function(t){if(!pd(t))throw Error(H(40));return t._reactRootContainer?(cs(function(){md(null,null,t,!1,function(){t._reactRootContainer=null,t[Or]=null})}),!0):!1};Sn.unstable_batchedUpdates=bm;Sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pd(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return md(t,e,n,!1,r)};Sn.version="18.3.1-next-f1338f8080-20240426";function KE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KE)}catch(t){console.error(t)}}KE(),K0.exports=Sn;var Fm=K0.exports;const kA=Zc(Fm),bA=L0({__proto__:null,default:kA},[Fm]);var GE,kv=Fm;GE=kv.createRoot,kv.hydrateRoot;/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xe(){return Xe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xe.apply(this,arguments)}var dt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(dt||(dt={}));const bv="popstate";function xA(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return al("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ds(i)}return NA(e,n,null,t)}function pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OA(){return Math.random().toString(36).substr(2,8)}function xv(t,e){return{usr:t.state,key:t.key,idx:e}}function al(t,e,n,r){return n===void 0&&(n=null),Xe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Di(e):e,{state:n,key:e&&e.key||r||OA()})}function ds(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Di(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function NA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=dt.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(Xe({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=dt.Pop;let x=d(),S=x==null?null:x-c;c=x,u&&u({action:a,location:R.location,delta:S})}function m(x,S){a=dt.Push;let v=al(R.location,x,S);c=d()+1;let T=xv(v,c),O=R.createHref(v);try{o.pushState(T,"",O)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(O)}s&&u&&u({action:a,location:R.location,delta:1})}function y(x,S){a=dt.Replace;let v=al(R.location,x,S);c=d();let T=xv(v,c),O=R.createHref(v);o.replaceState(T,"",O),s&&u&&u({action:a,location:R.location,delta:0})}function _(x){let S=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof x=="string"?x:ds(x);return v=v.replace(/ $/,"%20"),pe(S,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,S)}let R={get action(){return a},get location(){return t(i,o)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(bv,f),u=x,()=>{i.removeEventListener(bv,f),u=null}},createHref(x){return e(i,x)},createURL:_,encodeLocation(x){let S=_(x);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:y,go(x){return o.go(x)}};return R}var Be;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Be||(Be={}));const DA=new Set(["lazy","caseSensitive","path","id","index","children"]);function LA(t){return t.index===!0}function ll(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(pe(i.index!==!0||!i.children,"Cannot specify children on an index route"),pe(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),LA(i)){let u=Xe({},i,e(i),{id:a});return r[a]=u,u}else{let u=Xe({},i,e(i),{id:a,children:void 0});return r[a]=u,i.children&&(u.children=ll(i.children,e,o,r)),u}})}function Qi(t,e,n){return n===void 0&&(n="/"),zu(t,e,n,!1)}function zu(t,e,n,r){let i=typeof e=="string"?Di(e):e,s=Lr(i.pathname||"/",n);if(s==null)return null;let o=QE(t);VA(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=GA(s);a=qA(o[u],c,r)}return a}function MA(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function QE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(pe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=kr([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(pe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),QE(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:HA(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of JE(s.path))i(s,o,u)}),e}function JE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=JE(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function VA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FA=/^:[\w-]+$/,UA=3,jA=2,zA=1,BA=10,$A=-2,Ov=t=>t==="*";function HA(t,e){let n=t.split("/"),r=n.length;return n.some(Ov)&&(r+=$A),e&&(r+=jA),n.filter(i=>!Ov(i)).reduce((i,s)=>i+(FA.test(s)?UA:s===""?zA:BA),r)}function WA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function qA(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=Ac({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Ac({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:kr([s,f.pathname]),pathnameBase:YA(kr([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=kr([s,f.pathnameBase]))}return o}function Ac(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=KA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:y}=d;if(m==="*"){let R=a[f]||"";o=s.slice(0,s.length-R.length).replace(/(.)\/+$/,"$1")}const _=a[f];return y&&!_?c[m]=void 0:c[m]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function KA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),wo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function GA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Lr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function QA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Di(t):t;return{pathname:n?n.startsWith("/")?n:JA(n,e):e,search:XA(r),hash:ZA(i)}}function JA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gd(t,e){let n=YE(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function yd(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Di(t):(i=Xe({},t),pe(!i.pathname||!i.pathname.includes("?"),xh("?","pathname","search",i)),pe(!i.pathname||!i.pathname.includes("#"),xh("#","pathname","hash",i)),pe(!i.search||!i.search.includes("#"),xh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}a=f>=0?e[f]:"/"}let u=QA(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const kr=t=>t.join("/").replace(/\/\/+/g,"/"),YA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Um{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function vd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const XE=["post","put","patch","delete"],eC=new Set(XE),tC=["get",...XE],nC=new Set(tC),rC=new Set([301,302,303,307,308]),iC=new Set([307,308]),Oh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},jm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oC=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),ZE="remix-router-transitions";function aC(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;pe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let N=t.detectErrorBoundary;i=D=>({hasErrorBoundary:N(D)})}else i=oC;let s={},o=ll(t.routes,i,void 0,s),a,u=t.basename||"/",c=t.unstable_dataStrategy||hC,d=t.unstable_patchRoutesOnMiss,f=Xe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),m=null,y=new Set,_=null,R=null,x=null,S=t.hydrationData!=null,v=Qi(o,t.history.location,u),T=null;if(v==null&&!d){let N=Qt(404,{pathname:t.history.location.pathname}),{matches:D,route:M}=Bv(o);v=D,T={[M.id]:N}}v&&d&&!t.hydrationData&&mr(v,o,t.history.location.pathname).active&&(v=null);let O;if(!v)O=!1,v=[];else if(v.some(N=>N.route.lazy))O=!1;else if(!v.some(N=>N.route.loader))O=!0;else if(f.v7_partialHydration){let N=t.hydrationData?t.hydrationData.loaderData:null,D=t.hydrationData?t.hydrationData.errors:null,M=z=>z.route.loader?typeof z.route.loader=="function"&&z.route.loader.hydrate===!0?!1:N&&N[z.route.id]!==void 0||D&&D[z.route.id]!==void 0:!0;if(D){let z=v.findIndex(J=>D[J.route.id]!==void 0);O=v.slice(0,z+1).every(M)}else O=v.every(M)}else O=t.hydrationData!=null;let V,C={historyAction:t.history.action,location:t.history.location,matches:v,initialized:O,navigation:Oh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||T,fetchers:new Map,blockers:new Map},I=dt.Pop,g=!1,E,A=!1,k=new Map,b=null,P=!1,Q=!1,Ae=[],rt=[],ge=new Map,K=0,Z=-1,re=new Map,ve=new Set,me=new Map,ye=new Map,ke=new Set,Ve=new Map,Fe=new Map,De=new Map,We=!1;function It(){if(m=t.history.listen(N=>{let{action:D,location:M,delta:z}=N;if(We){We=!1;return}wo(Fe.size===0||z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let J=Ko({currentLocation:C.location,nextLocation:M,historyAction:D});if(J&&z!=null){We=!0,t.history.go(z*-1),ji(J,{state:"blocked",location:M,proceed(){ji(J,{state:"proceeding",proceed:void 0,reset:void 0,location:M}),t.history.go(z)},reset(){let ee=new Map(C.blockers);ee.set(J,fa),Le({blockers:ee})}});return}return pt(D,M)}),n){RC(e,k);let N=()=>PC(e,k);e.addEventListener("pagehide",N),b=()=>e.removeEventListener("pagehide",N)}return C.initialized||pt(dt.Pop,C.location,{initialHydration:!0}),V}function Kt(){m&&m(),b&&b(),y.clear(),E&&E.abort(),C.fetchers.forEach((N,D)=>ks(D)),C.blockers.forEach((N,D)=>xs(D))}function Gt(N){return y.add(N),()=>y.delete(N)}function Le(N,D){D===void 0&&(D={}),C=Xe({},C,N);let M=[],z=[];f.v7_fetcherPersist&&C.fetchers.forEach((J,ee)=>{J.state==="idle"&&(ke.has(ee)?z.push(ee):M.push(ee))}),[...y].forEach(J=>J(C,{deletedFetchers:z,unstable_viewTransitionOpts:D.viewTransitionOpts,unstable_flushSync:D.flushSync===!0})),f.v7_fetcherPersist&&(M.forEach(J=>C.fetchers.delete(J)),z.forEach(J=>ks(J)))}function Ie(N,D,M){var z,J;let{flushSync:ee}=M===void 0?{}:M,oe=C.actionData!=null&&C.navigation.formMethod!=null&&jn(C.navigation.formMethod)&&C.navigation.state==="loading"&&((z=N.state)==null?void 0:z._isRedirect)!==!0,q;D.actionData?Object.keys(D.actionData).length>0?q=D.actionData:q=null:oe?q=C.actionData:q=null;let ue=D.loaderData?jv(C.loaderData,D.loaderData,D.matches||[],D.errors):C.loaderData,te=C.blockers;te.size>0&&(te=new Map(te),te.forEach((be,Ne)=>te.set(Ne,fa)));let ne=g===!0||C.navigation.formMethod!=null&&jn(C.navigation.formMethod)&&((J=N.state)==null?void 0:J._isRedirect)!==!0;a&&(o=a,a=void 0),P||I===dt.Pop||(I===dt.Push?t.history.push(N,N.state):I===dt.Replace&&t.history.replace(N,N.state));let _e;if(I===dt.Pop){let be=k.get(C.location.pathname);be&&be.has(N.pathname)?_e={currentLocation:C.location,nextLocation:N}:k.has(N.pathname)&&(_e={currentLocation:N,nextLocation:C.location})}else if(A){let be=k.get(C.location.pathname);be?be.add(N.pathname):(be=new Set([N.pathname]),k.set(C.location.pathname,be)),_e={currentLocation:C.location,nextLocation:N}}Le(Xe({},D,{actionData:q,loaderData:ue,historyAction:I,location:N,initialized:!0,navigation:Oh,revalidation:"idle",restoreScrollPosition:Qo(N,D.matches||C.matches),preventScrollReset:ne,blockers:te}),{viewTransitionOpts:_e,flushSync:ee===!0}),I=dt.Pop,g=!1,A=!1,P=!1,Q=!1,Ae=[],rt=[]}async function Te(N,D){if(typeof N=="number"){t.history.go(N);return}let M=tp(C.location,C.matches,u,f.v7_prependBasename,N,f.v7_relativeSplatPath,D==null?void 0:D.fromRouteId,D==null?void 0:D.relative),{path:z,submission:J,error:ee}=Nv(f.v7_normalizeFormMethod,!1,M,D),oe=C.location,q=al(C.location,z,D&&D.state);q=Xe({},q,t.history.encodeLocation(q));let ue=D&&D.replace!=null?D.replace:void 0,te=dt.Push;ue===!0?te=dt.Replace:ue===!1||J!=null&&jn(J.formMethod)&&J.formAction===C.location.pathname+C.location.search&&(te=dt.Replace);let ne=D&&"preventScrollReset"in D?D.preventScrollReset===!0:void 0,_e=(D&&D.unstable_flushSync)===!0,be=Ko({currentLocation:oe,nextLocation:q,historyAction:te});if(be){ji(be,{state:"blocked",location:q,proceed(){ji(be,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),Te(N,D)},reset(){let Ne=new Map(C.blockers);Ne.set(be,fa),Le({blockers:Ne})}});return}return await pt(te,q,{submission:J,pendingError:ee,preventScrollReset:ne,replace:D&&D.replace,enableViewTransition:D&&D.unstable_viewTransition,flushSync:_e})}function ut(){if(gt(),Le({revalidation:"loading"}),C.navigation.state!=="submitting"){if(C.navigation.state==="idle"){pt(C.historyAction,C.location,{startUninterruptedRevalidation:!0});return}pt(I||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation})}}async function pt(N,D,M){E&&E.abort(),E=null,I=N,P=(M&&M.startUninterruptedRevalidation)===!0,Os(C.location,C.matches),g=(M&&M.preventScrollReset)===!0,A=(M&&M.enableViewTransition)===!0;let z=a||o,J=M&&M.overrideNavigation,ee=Qi(z,D,u),oe=(M&&M.flushSync)===!0,q=mr(ee,z,D.pathname);if(q.active&&q.matches&&(ee=q.matches),!ee){let{error:Re,notFoundMatches:at,route:Ye}=fr(D.pathname);Ie(D,{matches:at,loaderData:{},errors:{[Ye.id]:Re}},{flushSync:oe});return}if(C.initialized&&!Q&&vC(C.location,D)&&!(M&&M.submission&&jn(M.submission.formMethod))){Ie(D,{matches:ee},{flushSync:oe});return}E=new AbortController;let ue=Fs(t.history,D,E.signal,M&&M.submission),te;if(M&&M.pendingError)te=[eo(ee).route.id,{type:Be.error,error:M.pendingError}];else if(M&&M.submission&&jn(M.submission.formMethod)){let Re=await Cs(ue,D,M.submission,ee,q.active,{replace:M.replace,flushSync:oe});if(Re.shortCircuited)return;if(Re.pendingActionResult){let[at,Ye]=Re.pendingActionResult;if(pn(Ye)&&vd(Ye.error)&&Ye.error.status===404){E=null,Ie(D,{matches:Re.matches,loaderData:{},errors:{[at]:Ye.error}});return}}ee=Re.matches||ee,te=Re.pendingActionResult,J=Nh(D,M.submission),oe=!1,q.active=!1,ue=Fs(t.history,ue.url,ue.signal)}let{shortCircuited:ne,matches:_e,loaderData:be,errors:Ne}=await Jd(ue,D,ee,q.active,J,M&&M.submission,M&&M.fetcherSubmission,M&&M.replace,M&&M.initialHydration===!0,oe,te);ne||(E=null,Ie(D,Xe({matches:_e||ee},zv(te),{loaderData:be,errors:Ne})))}async function Cs(N,D,M,z,J,ee){ee===void 0&&(ee={}),gt();let oe=SC(D,M);if(Le({navigation:oe},{flushSync:ee.flushSync===!0}),J){let te=await Bi(z,D.pathname,N.signal);if(te.type==="aborted")return{shortCircuited:!0};if(te.type==="error"){let{boundaryId:ne,error:_e}=Kr(D.pathname,te);return{matches:te.partialMatches,pendingActionResult:[ne,{type:Be.error,error:_e}]}}else if(te.matches)z=te.matches;else{let{notFoundMatches:ne,error:_e,route:be}=fr(D.pathname);return{matches:ne,pendingActionResult:[be.id,{type:Be.error,error:_e}]}}}let q,ue=Ta(z,D);if(!ue.route.action&&!ue.route.lazy)q={type:Be.error,error:Qt(405,{method:N.method,pathname:D.pathname,routeId:ue.route.id})};else if(q=(await qr("action",N,[ue],z))[0],N.signal.aborted)return{shortCircuited:!0};if(es(q)){let te;return ee&&ee.replace!=null?te=ee.replace:te=Vv(q.response.headers.get("Location"),new URL(N.url),u)===C.location.pathname+C.location.search,await hr(N,q,{submission:M,replace:te}),{shortCircuited:!0}}if(Zi(q))throw Qt(400,{type:"defer-action"});if(pn(q)){let te=eo(z,ue.route.id);return(ee&&ee.replace)!==!0&&(I=dt.Push),{matches:z,pendingActionResult:[te.route.id,q]}}return{matches:z,pendingActionResult:[ue.route.id,q]}}async function Jd(N,D,M,z,J,ee,oe,q,ue,te,ne){let _e=J||Nh(D,ee),be=ee||oe||Wv(_e),Ne=!P&&(!f.v7_partialHydration||!ue);if(z){if(Ne){let qe=Bo(ne);Le(Xe({navigation:_e},qe!==void 0?{actionData:qe}:{}),{flushSync:te})}let de=await Bi(M,D.pathname,N.signal);if(de.type==="aborted")return{shortCircuited:!0};if(de.type==="error"){let{boundaryId:qe,error:Mt}=Kr(D.pathname,de);return{matches:de.partialMatches,loaderData:{},errors:{[qe]:Mt}}}else if(de.matches)M=de.matches;else{let{error:qe,notFoundMatches:Mt,route:Ue}=fr(D.pathname);return{matches:Mt,loaderData:{},errors:{[Ue.id]:qe}}}}let Re=a||o,[at,Ye]=Dv(t.history,C,M,be,D,f.v7_partialHydration&&ue===!0,f.v7_skipActionErrorRevalidation,Q,Ae,rt,ke,me,ve,Re,u,ne);if(zi(de=>!(M&&M.some(qe=>qe.route.id===de))||at&&at.some(qe=>qe.route.id===de)),Z=++K,at.length===0&&Ye.length===0){let de=bs();return Ie(D,Xe({matches:M,loaderData:{},errors:ne&&pn(ne[1])?{[ne[0]]:ne[1].error}:null},zv(ne),de?{fetchers:new Map(C.fetchers)}:{}),{flushSync:te}),{shortCircuited:!0}}if(Ne){let de={};if(!z){de.navigation=_e;let qe=Bo(ne);qe!==void 0&&(de.actionData=qe)}Ye.length>0&&(de.fetchers=$o(Ye)),Le(de,{flushSync:te})}Ye.forEach(de=>{ge.has(de.key)&&Dn(de.key),de.controller&&ge.set(de.key,de.controller)});let Gr=()=>Ye.forEach(de=>Dn(de.key));E&&E.signal.addEventListener("abort",Gr);let{loaderResults:Yn,fetcherResults:Ln}=await mt(C.matches,M,at,Ye,N);if(N.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",Gr),Ye.forEach(de=>ge.delete(de.key));let gr=$v([...Yn,...Ln]);if(gr){if(gr.idx>=at.length){let de=Ye[gr.idx-at.length].key;ve.add(de)}return await hr(N,gr.result,{replace:q}),{shortCircuited:!0}}let{loaderData:Xn,errors:Lt}=Uv(C,M,at,Yn,ne,Ye,Ln,Ve);Ve.forEach((de,qe)=>{de.subscribe(Mt=>{(Mt||de.done)&&Ve.delete(qe)})}),f.v7_partialHydration&&ue&&C.errors&&Object.entries(C.errors).filter(de=>{let[qe]=de;return!at.some(Mt=>Mt.route.id===qe)}).forEach(de=>{let[qe,Mt]=de;Lt=Object.assign(Lt||{},{[qe]:Mt})});let Pn=bs(),Qr=Wl(Z),Ns=Pn||Qr||Ye.length>0;return Xe({matches:M,loaderData:Xn,errors:Lt},Ns?{fetchers:new Map(C.fetchers)}:{})}function Bo(N){if(N&&!pn(N[1]))return{[N[0]]:N[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function $o(N){return N.forEach(D=>{let M=C.fetchers.get(D.key),z=pa(void 0,M?M.data:void 0);C.fetchers.set(D.key,z)}),new Map(C.fetchers)}function Hl(N,D,M,z){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ge.has(N)&&Dn(N);let J=(z&&z.unstable_flushSync)===!0,ee=a||o,oe=tp(C.location,C.matches,u,f.v7_prependBasename,M,f.v7_relativeSplatPath,D,z==null?void 0:z.relative),q=Qi(ee,oe,u),ue=mr(q,ee,oe);if(ue.active&&ue.matches&&(q=ue.matches),!q){Rn(N,D,Qt(404,{pathname:oe}),{flushSync:J});return}let{path:te,submission:ne,error:_e}=Nv(f.v7_normalizeFormMethod,!0,oe,z);if(_e){Rn(N,D,_e,{flushSync:J});return}let be=Ta(q,te);if(g=(z&&z.preventScrollReset)===!0,ne&&jn(ne.formMethod)){Yd(N,D,te,be,q,ue.active,J,ne);return}me.set(N,{routeId:D,path:te}),Ho(N,D,te,be,q,ue.active,J,ne)}async function Yd(N,D,M,z,J,ee,oe,q){gt(),me.delete(N);function ue(Ue){if(!Ue.route.action&&!Ue.route.lazy){let dn=Qt(405,{method:q.formMethod,pathname:M,routeId:D});return Rn(N,D,dn,{flushSync:oe}),!0}return!1}if(!ee&&ue(z))return;let te=C.fetchers.get(N);cn(N,IC(q,te),{flushSync:oe});let ne=new AbortController,_e=Fs(t.history,M,ne.signal,q);if(ee){let Ue=await Bi(J,M,_e.signal);if(Ue.type==="aborted")return;if(Ue.type==="error"){let{error:dn}=Kr(M,Ue);Rn(N,D,dn,{flushSync:oe});return}else if(Ue.matches){if(J=Ue.matches,z=Ta(J,M),ue(z))return}else{Rn(N,D,Qt(404,{pathname:M}),{flushSync:oe});return}}ge.set(N,ne);let be=K,Re=(await qr("action",_e,[z],J))[0];if(_e.signal.aborted){ge.get(N)===ne&&ge.delete(N);return}if(f.v7_fetcherPersist&&ke.has(N)){if(es(Re)||pn(Re)){cn(N,ti(void 0));return}}else{if(es(Re))if(ge.delete(N),Z>be){cn(N,ti(void 0));return}else return ve.add(N),cn(N,pa(q)),hr(_e,Re,{fetcherSubmission:q});if(pn(Re)){Rn(N,D,Re.error);return}}if(Zi(Re))throw Qt(400,{type:"defer-action"});let at=C.navigation.location||C.location,Ye=Fs(t.history,at,ne.signal),Gr=a||o,Yn=C.navigation.state!=="idle"?Qi(Gr,C.navigation.location,u):C.matches;pe(Yn,"Didn't find any matches after fetcher action");let Ln=++K;re.set(N,Ln);let gr=pa(q,Re.data);C.fetchers.set(N,gr);let[Xn,Lt]=Dv(t.history,C,Yn,q,at,!1,f.v7_skipActionErrorRevalidation,Q,Ae,rt,ke,me,ve,Gr,u,[z.route.id,Re]);Lt.filter(Ue=>Ue.key!==N).forEach(Ue=>{let dn=Ue.key,Jo=C.fetchers.get(dn),Kl=pa(void 0,Jo?Jo.data:void 0);C.fetchers.set(dn,Kl),ge.has(dn)&&Dn(dn),Ue.controller&&ge.set(dn,Ue.controller)}),Le({fetchers:new Map(C.fetchers)});let Pn=()=>Lt.forEach(Ue=>Dn(Ue.key));ne.signal.addEventListener("abort",Pn);let{loaderResults:Qr,fetcherResults:Ns}=await mt(C.matches,Yn,Xn,Lt,Ye);if(ne.signal.aborted)return;ne.signal.removeEventListener("abort",Pn),re.delete(N),ge.delete(N),Lt.forEach(Ue=>ge.delete(Ue.key));let de=$v([...Qr,...Ns]);if(de){if(de.idx>=Xn.length){let Ue=Lt[de.idx-Xn.length].key;ve.add(Ue)}return hr(Ye,de.result)}let{loaderData:qe,errors:Mt}=Uv(C,C.matches,Xn,Qr,void 0,Lt,Ns,Ve);if(C.fetchers.has(N)){let Ue=ti(Re.data);C.fetchers.set(N,Ue)}Wl(Ln),C.navigation.state==="loading"&&Ln>Z?(pe(I,"Expected pending action"),E&&E.abort(),Ie(C.navigation.location,{matches:Yn,loaderData:qe,errors:Mt,fetchers:new Map(C.fetchers)})):(Le({errors:Mt,loaderData:jv(C.loaderData,qe,Yn,Mt),fetchers:new Map(C.fetchers)}),Q=!1)}async function Ho(N,D,M,z,J,ee,oe,q){let ue=C.fetchers.get(N);cn(N,pa(q,ue?ue.data:void 0),{flushSync:oe});let te=new AbortController,ne=Fs(t.history,M,te.signal);if(ee){let Re=await Bi(J,M,ne.signal);if(Re.type==="aborted")return;if(Re.type==="error"){let{error:at}=Kr(M,Re);Rn(N,D,at,{flushSync:oe});return}else if(Re.matches)J=Re.matches,z=Ta(J,M);else{Rn(N,D,Qt(404,{pathname:M}),{flushSync:oe});return}}ge.set(N,te);let _e=K,Ne=(await qr("loader",ne,[z],J))[0];if(Zi(Ne)&&(Ne=await iT(Ne,ne.signal,!0)||Ne),ge.get(N)===te&&ge.delete(N),!ne.signal.aborted){if(ke.has(N)){cn(N,ti(void 0));return}if(es(Ne))if(Z>_e){cn(N,ti(void 0));return}else{ve.add(N),await hr(ne,Ne);return}if(pn(Ne)){Rn(N,D,Ne.error);return}pe(!Zi(Ne),"Unhandled fetcher deferred data"),cn(N,ti(Ne.data))}}async function hr(N,D,M){let{submission:z,fetcherSubmission:J,replace:ee}=M===void 0?{}:M;D.response.headers.has("X-Remix-Revalidate")&&(Q=!0);let oe=D.response.headers.get("Location");pe(oe,"Expected a Location header on the redirect Response"),oe=Vv(oe,new URL(N.url),u);let q=al(C.location,oe,{_isRedirect:!0});if(n){let Ne=!1;if(D.response.headers.has("X-Remix-Reload-Document"))Ne=!0;else if(jm.test(oe)){const Re=t.history.createURL(oe);Ne=Re.origin!==e.location.origin||Lr(Re.pathname,u)==null}if(Ne){ee?e.location.replace(oe):e.location.assign(oe);return}}E=null;let ue=ee===!0?dt.Replace:dt.Push,{formMethod:te,formAction:ne,formEncType:_e}=C.navigation;!z&&!J&&te&&ne&&_e&&(z=Wv(C.navigation));let be=z||J;if(iC.has(D.response.status)&&be&&jn(be.formMethod))await pt(ue,q,{submission:Xe({},be,{formAction:oe}),preventScrollReset:g});else{let Ne=Nh(q,z);await pt(ue,q,{overrideNavigation:Ne,fetcherSubmission:J,preventScrollReset:g})}}async function qr(N,D,M,z){try{let J=await fC(c,N,D,M,z,s,i);return await Promise.all(J.map((ee,oe)=>{if(wC(ee)){let q=ee.result;return{type:Be.redirect,response:gC(q,D,M[oe].route.id,z,u,f.v7_relativeSplatPath)}}return mC(ee)}))}catch(J){return M.map(()=>({type:Be.error,error:J}))}}async function mt(N,D,M,z,J){let[ee,...oe]=await Promise.all([M.length?qr("loader",J,M,D):[],...z.map(q=>{if(q.matches&&q.match&&q.controller){let ue=Fs(t.history,q.path,q.controller.signal);return qr("loader",ue,[q.match],q.matches).then(te=>te[0])}else return Promise.resolve({type:Be.error,error:Qt(404,{pathname:q.path})})})]);return await Promise.all([Hv(N,M,ee,ee.map(()=>J.signal),!1,C.loaderData),Hv(N,z.map(q=>q.match),oe,z.map(q=>q.controller?q.controller.signal:null),!0)]),{loaderResults:ee,fetcherResults:oe}}function gt(){Q=!0,Ae.push(...zi()),me.forEach((N,D)=>{ge.has(D)&&(rt.push(D),Dn(D))})}function cn(N,D,M){M===void 0&&(M={}),C.fetchers.set(N,D),Le({fetchers:new Map(C.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function Rn(N,D,M,z){z===void 0&&(z={});let J=eo(C.matches,D);ks(N),Le({errors:{[J.route.id]:M},fetchers:new Map(C.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function Wo(N){return f.v7_fetcherPersist&&(ye.set(N,(ye.get(N)||0)+1),ke.has(N)&&ke.delete(N)),C.fetchers.get(N)||sC}function ks(N){let D=C.fetchers.get(N);ge.has(N)&&!(D&&D.state==="loading"&&re.has(N))&&Dn(N),me.delete(N),re.delete(N),ve.delete(N),ke.delete(N),C.fetchers.delete(N)}function Ui(N){if(f.v7_fetcherPersist){let D=(ye.get(N)||0)-1;D<=0?(ye.delete(N),ke.add(N)):ye.set(N,D)}else ks(N);Le({fetchers:new Map(C.fetchers)})}function Dn(N){let D=ge.get(N);pe(D,"Expected fetch controller: "+N),D.abort(),ge.delete(N)}function qo(N){for(let D of N){let M=Wo(D),z=ti(M.data);C.fetchers.set(D,z)}}function bs(){let N=[],D=!1;for(let M of ve){let z=C.fetchers.get(M);pe(z,"Expected fetcher: "+M),z.state==="loading"&&(ve.delete(M),N.push(M),D=!0)}return qo(N),D}function Wl(N){let D=[];for(let[M,z]of re)if(z<N){let J=C.fetchers.get(M);pe(J,"Expected fetcher: "+M),J.state==="loading"&&(Dn(M),re.delete(M),D.push(M))}return qo(D),D.length>0}function Xd(N,D){let M=C.blockers.get(N)||fa;return Fe.get(N)!==D&&Fe.set(N,D),M}function xs(N){C.blockers.delete(N),Fe.delete(N)}function ji(N,D){let M=C.blockers.get(N)||fa;pe(M.state==="unblocked"&&D.state==="blocked"||M.state==="blocked"&&D.state==="blocked"||M.state==="blocked"&&D.state==="proceeding"||M.state==="blocked"&&D.state==="unblocked"||M.state==="proceeding"&&D.state==="unblocked","Invalid blocker state transition: "+M.state+" -> "+D.state);let z=new Map(C.blockers);z.set(N,D),Le({blockers:z})}function Ko(N){let{currentLocation:D,nextLocation:M,historyAction:z}=N;if(Fe.size===0)return;Fe.size>1&&wo(!1,"A router only supports one blocker at a time");let J=Array.from(Fe.entries()),[ee,oe]=J[J.length-1],q=C.blockers.get(ee);if(!(q&&q.state==="proceeding")&&oe({currentLocation:D,nextLocation:M,historyAction:z}))return ee}function fr(N){let D=Qt(404,{pathname:N}),M=a||o,{matches:z,route:J}=Bv(M);return zi(),{notFoundMatches:z,route:J,error:D}}function Kr(N,D){return{boundaryId:eo(D.partialMatches).route.id,error:Qt(400,{type:"route-discovery",pathname:N,message:D.error!=null&&"message"in D.error?D.error:String(D.error)})}}function zi(N){let D=[];return Ve.forEach((M,z)=>{(!N||N(z))&&(M.cancel(),D.push(z),Ve.delete(z))}),D}function pr(N,D,M){if(_=N,x=D,R=M||null,!S&&C.navigation===Oh){S=!0;let z=Qo(C.location,C.matches);z!=null&&Le({restoreScrollPosition:z})}return()=>{_=null,x=null,R=null}}function Go(N,D){return R&&R(N,D.map(z=>MA(z,C.loaderData)))||N.key}function Os(N,D){if(_&&x){let M=Go(N,D);_[M]=x()}}function Qo(N,D){if(_){let M=Go(N,D),z=_[M];if(typeof z=="number")return z}return null}function mr(N,D,M){if(d)if(N){let z=N[N.length-1].route;if(z.path&&(z.path==="*"||z.path.endsWith("/*")))return{active:!0,matches:zu(D,M,u,!0)}}else return{active:!0,matches:zu(D,M,u,!0)||[]};return{active:!1,matches:null}}async function Bi(N,D,M){let z=N,J=z.length>0?z[z.length-1].route:null;for(;;){let ee=a==null,oe=a||o;try{await dC(d,D,z,oe,s,i,De,M)}catch(ne){return{type:"error",error:ne,partialMatches:z}}finally{ee&&(o=[...o])}if(M.aborted)return{type:"aborted"};let q=Qi(oe,D,u),ue=!1;if(q){let ne=q[q.length-1].route;if(ne.index)return{type:"success",matches:q};if(ne.path&&ne.path.length>0)if(ne.path==="*")ue=!0;else return{type:"success",matches:q}}let te=zu(oe,D,u,!0);if(!te||z.map(ne=>ne.route.id).join("-")===te.map(ne=>ne.route.id).join("-"))return{type:"success",matches:ue?q:null};if(z=te,J=z[z.length-1].route,J.path==="*")return{type:"success",matches:z}}}function Rt(N){s={},a=ll(N,i,void 0,s)}function ql(N,D){let M=a==null;tT(N,D,a||o,s,i),M&&(o=[...o],Le({}))}return V={get basename(){return u},get future(){return f},get state(){return C},get routes(){return o},get window(){return e},initialize:It,subscribe:Gt,enableScrollRestoration:pr,navigate:Te,fetch:Hl,revalidate:ut,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:Wo,deleteFetcher:Ui,dispose:Kt,getBlocker:Xd,deleteBlocker:xs,patchRoutes:ql,_internalFetchControllers:ge,_internalActiveDeferreds:Ve,_internalSetRoutes:Rt},V}function lC(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function tp(t,e,n,r,i,s,o,a){let u,c;if(o){u=[];for(let f of e)if(u.push(f),f.route.id===o){c=f;break}}else u=e,c=e[e.length-1];let d=yd(i||".",gd(u,s),Lr(t.pathname,n)||t.pathname,a==="path");return i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!zm(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:kr([n,d.pathname])),ds(d)}function Nv(t,e,n,r){if(!r||!lC(r))return{path:n};if(r.formMethod&&!TC(r.formMethod))return{path:n,error:Qt(405,{method:r.formMethod})};let i=()=>({path:n,error:Qt(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=nT(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!jn(o))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,_)=>{let[R,x]=_;return""+y+R+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!jn(o))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}pe(typeof FormData=="function","FormData is not available in this environment");let u,c;if(r.formData)u=np(r.formData),c=r.formData;else if(r.body instanceof FormData)u=np(r.body),c=r.body;else if(r.body instanceof URLSearchParams)u=r.body,c=Fv(u);else if(r.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(r.body),c=Fv(u)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(jn(d.formMethod))return{path:n,submission:d};let f=Di(n);return e&&f.search&&zm(f.search)&&u.append("index",""),f.search="?"+u,{path:ds(f),submission:d}}function uC(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Dv(t,e,n,r,i,s,o,a,u,c,d,f,m,y,_,R){let x=R?pn(R[1])?R[1].error:R[1].data:void 0,S=t.createURL(e.location),v=t.createURL(i),T=R&&pn(R[1])?R[0]:void 0,O=T?uC(n,T):n,V=R?R[1].statusCode:void 0,C=o&&V&&V>=400,I=O.filter((E,A)=>{let{route:k}=E;if(k.lazy)return!0;if(k.loader==null)return!1;if(s)return typeof k.loader!="function"||k.loader.hydrate?!0:e.loaderData[k.id]===void 0&&(!e.errors||e.errors[k.id]===void 0);if(cC(e.loaderData,e.matches[A],E)||u.some(Q=>Q===E.route.id))return!0;let b=e.matches[A],P=E;return Lv(E,Xe({currentUrl:S,currentParams:b.params,nextUrl:v,nextParams:P.params},r,{actionResult:x,actionStatus:V,defaultShouldRevalidate:C?!1:a||S.pathname+S.search===v.pathname+v.search||S.search!==v.search||eT(b,P)}))}),g=[];return f.forEach((E,A)=>{if(s||!n.some(Ae=>Ae.route.id===E.routeId)||d.has(A))return;let k=Qi(y,E.path,_);if(!k){g.push({key:A,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let b=e.fetchers.get(A),P=Ta(k,E.path),Q=!1;m.has(A)?Q=!1:c.includes(A)?Q=!0:b&&b.state!=="idle"&&b.data===void 0?Q=a:Q=Lv(P,Xe({currentUrl:S,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:V,defaultShouldRevalidate:C?!1:a})),Q&&g.push({key:A,routeId:E.routeId,path:E.path,matches:k,match:P,controller:new AbortController})}),[I,g]}function cC(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function eT(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Lv(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function dC(t,e,n,r,i,s,o,a){let u=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(u);c||(c=t({path:e,matches:n,patch:(d,f)=>{a.aborted||tT(d,f,r,i,s)}}),o.set(u,c)),c&&_C(c)&&await c}finally{o.delete(u)}}function tT(t,e,n,r,i){if(t){var s;let o=r[t];pe(o,"No route found to patch children into: routeId = "+t);let a=ll(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=ll(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function Mv(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];pe(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";wo(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!DA.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Xe({},e(i),{lazy:void 0}))}function hC(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function fC(t,e,n,r,i,s,o,a){let u=r.reduce((f,m)=>f.add(m.route.id),new Set),c=new Set,d=await t({matches:i.map(f=>{let m=u.has(f.route.id);return Xe({},f,{shouldLoad:m,resolve:_=>(c.add(f.route.id),m?pC(e,n,f,s,o,_,a):Promise.resolve({type:Be.data,result:void 0}))})}),request:n,params:i[0].params,context:a});return i.forEach(f=>pe(c.has(f.route.id),'`match.resolve()` was not called for route id "'+f.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),d.filter((f,m)=>u.has(i[m].route.id))}async function pC(t,e,n,r,i,s,o){let a,u,c=d=>{let f,m=new Promise((R,x)=>f=x);u=()=>f(),e.signal.addEventListener("abort",u);let y=R=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):d({request:e,params:n.params,context:o},...R!==void 0?[R]:[]),_;return s?_=s(R=>y(R)):_=(async()=>{try{return{type:"data",result:await y()}}catch(R){return{type:"error",result:R}}})(),Promise.race([_,m])};try{let d=n.route[t];if(n.route.lazy)if(d){let f,[m]=await Promise.all([c(d).catch(y=>{f=y}),Mv(n.route,i,r)]);if(f!==void 0)throw f;a=m}else if(await Mv(n.route,i,r),d=n.route[t],d)a=await c(d);else if(t==="action"){let f=new URL(e.url),m=f.pathname+f.search;throw Qt(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Be.data,result:void 0};else if(d)a=await c(d);else{let f=new URL(e.url),m=f.pathname+f.search;throw Qt(404,{pathname:m})}pe(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:Be.error,result:d}}finally{u&&e.signal.removeEventListener("abort",u)}return a}async function mC(t){let{result:e,type:n,status:r}=t;if(rT(e)){let o;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(a){return{type:Be.error,error:a}}return n===Be.error?{type:Be.error,error:new Um(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:Be.data,data:o,statusCode:e.status,headers:e.headers}}if(n===Be.error)return{type:Be.error,error:e,statusCode:vd(e)?e.status:r};if(EC(e)){var i,s;return{type:Be.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:Be.data,data:e,statusCode:r}}function gC(t,e,n,r,i,s){let o=t.headers.get("Location");if(pe(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!jm.test(o)){let a=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=tp(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function Vv(t,e,n){if(jm.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Lr(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Fs(t,e,n,r){let i=t.createURL(nT(e)).toString(),s={signal:n};if(r&&jn(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=np(r.formData):s.body=r.formData}return new Request(i,s)}function np(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Fv(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function yC(t,e,n,r,i,s){let o={},a=null,u,c=!1,d={},f=r&&pn(r[1])?r[1].error:void 0;return n.forEach((m,y)=>{let _=e[y].route.id;if(pe(!es(m),"Cannot handle redirect results in processLoaderData"),pn(m)){let R=m.error;f!==void 0&&(R=f,f=void 0),a=a||{};{let x=eo(t,_);a[x.route.id]==null&&(a[x.route.id]=R)}o[_]=void 0,c||(c=!0,u=vd(m.error)?m.error.status:500),m.headers&&(d[_]=m.headers)}else Zi(m)?(i.set(_,m.deferredData),o[_]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!c&&(u=m.statusCode),m.headers&&(d[_]=m.headers)):(o[_]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(u=m.statusCode),m.headers&&(d[_]=m.headers))}),f!==void 0&&r&&(a={[r[0]]:f},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:u||200,loaderHeaders:d}}function Uv(t,e,n,r,i,s,o,a){let{loaderData:u,errors:c}=yC(e,n,r,i,a);for(let d=0;d<s.length;d++){let{key:f,match:m,controller:y}=s[d];pe(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let _=o[d];if(!(y&&y.signal.aborted))if(pn(_)){let R=eo(t.matches,m==null?void 0:m.route.id);c&&c[R.route.id]||(c=Xe({},c,{[R.route.id]:_.error})),t.fetchers.delete(f)}else if(es(_))pe(!1,"Unhandled fetcher revalidation redirect");else if(Zi(_))pe(!1,"Unhandled fetcher deferred data");else{let R=ti(_.data);t.fetchers.set(f,R)}}return{loaderData:u,errors:c}}function jv(t,e,n,r){let i=Xe({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function zv(t){return t?pn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function eo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Bv(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Qt(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?u='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnMiss()` '+(`function threw the following error:
`+o):i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(a="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",u='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new Um(t||500,a,new Error(u),!0)}function $v(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(es(n))return{result:n,idx:e}}}function nT(t){let e=typeof t=="string"?Di(t):t;return ds(Xe({},e,{hash:""}))}function vC(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function _C(t){return typeof t=="object"&&t!=null&&"then"in t}function wC(t){return rT(t.result)&&rC.has(t.result.status)}function Zi(t){return t.type===Be.deferred}function pn(t){return t.type===Be.error}function es(t){return(t&&t.type)===Be.redirect}function EC(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function rT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function TC(t){return nC.has(t.toLowerCase())}function jn(t){return eC.has(t.toLowerCase())}async function Hv(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],u=e[o];if(!u)continue;let c=t.find(f=>f.route.id===u.route.id),d=c!=null&&!eT(c,u)&&(s&&s[u.route.id])!==void 0;if(Zi(a)&&(i||d)){let f=r[o];pe(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await iT(a,f,i).then(m=>{m&&(n[o]=m||n[o])})}}}async function iT(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Be.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Be.error,error:i}}return{type:Be.data,data:t.deferredData.data}}}function zm(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ta(t,e){let n=typeof e=="string"?Di(e).search:e.search;if(t[t.length-1].route.index&&zm(n||""))return t[t.length-1];let r=YE(t);return r[r.length-1]}function Wv(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Nh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function SC(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function pa(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function IC(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ti(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function RC(t,e){try{let n=t.sessionStorage.getItem(ZE);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function PC(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(ZE,JSON.stringify(n))}catch(r){wo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cc(){return Cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cc.apply(this,arguments)}const Cl=j.createContext(null),Bm=j.createContext(null),zr=j.createContext(null),$m=j.createContext(null),Br=j.createContext({outlet:null,matches:[],isDataRoute:!1}),sT=j.createContext(null);function AC(t,e){let{relative:n}=e===void 0?{}:e;Do()||pe(!1);let{basename:r,navigator:i}=j.useContext(zr),{hash:s,pathname:o,search:a}=_d(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:kr([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Do(){return j.useContext($m)!=null}function Li(){return Do()||pe(!1),j.useContext($m).location}function oT(t){j.useContext(zr).static||j.useLayoutEffect(t)}function aT(){let{isDataRoute:t}=j.useContext(Br);return t?zC():CC()}function CC(){Do()||pe(!1);let t=j.useContext(Cl),{basename:e,future:n,navigator:r}=j.useContext(zr),{matches:i}=j.useContext(Br),{pathname:s}=Li(),o=JSON.stringify(gd(i,n.v7_relativeSplatPath)),a=j.useRef(!1);return oT(()=>{a.current=!0}),j.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=yd(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:kr([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}const kC=j.createContext(null);function bC(t){let e=j.useContext(Br).outlet;return e&&j.createElement(kC.Provider,{value:t},e)}function _d(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(zr),{matches:i}=j.useContext(Br),{pathname:s}=Li(),o=JSON.stringify(gd(i,r.v7_relativeSplatPath));return j.useMemo(()=>yd(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function xC(t,e,n,r){Do()||pe(!1);let{navigator:i}=j.useContext(zr),{matches:s}=j.useContext(Br),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Li(),d;d=c;let f=d.pathname||"/",m=f;if(u!=="/"){let R=u.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(R.length).join("/")}let y=Qi(t,{pathname:m});return MC(y&&y.map(R=>Object.assign({},R,{params:Object.assign({},a,R.params),pathname:kr([u,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?u:kr([u,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),s,n,r)}function OC(){let t=jC(),e=vd(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const NC=j.createElement(OC,null);class DC extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(Br.Provider,{value:this.props.routeContext},j.createElement(sT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LC(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(Cl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Br.Provider,{value:e},r)}function MC(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||pe(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:y}=n,_=f.route.loader&&m[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||_){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let y,_=!1,R=null,x=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,R=f.route.errorElement||NC,u&&(c<0&&m===0?(_=!0,x=null):c===m&&(_=!0,x=f.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,m+1)),v=()=>{let T;return y?T=R:_?T=x:f.route.Component?T=j.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,j.createElement(LC,{match:f,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?j.createElement(DC,{location:n.location,revalidation:n.revalidation,component:R,error:y,children:v(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):v()},null)}var lT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lT||{}),kc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kc||{});function VC(t){let e=j.useContext(Cl);return e||pe(!1),e}function FC(t){let e=j.useContext(Bm);return e||pe(!1),e}function UC(t){let e=j.useContext(Br);return e||pe(!1),e}function uT(t){let e=UC(),n=e.matches[e.matches.length-1];return n.route.id||pe(!1),n.route.id}function jC(){var t;let e=j.useContext(sT),n=FC(kc.UseRouteError),r=uT(kc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function zC(){let{router:t}=VC(lT.UseNavigateStable),e=uT(kc.UseNavigateStable),n=j.useRef(!1);return oT(()=>{n.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Cc({fromRouteId:e},s)))},[t,e])}function BC(t){let{to:e,replace:n,state:r,relative:i}=t;Do()||pe(!1);let{future:s,static:o}=j.useContext(zr),{matches:a}=j.useContext(Br),{pathname:u}=Li(),c=aT(),d=yd(e,gd(a,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(d);return j.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function $C(t){return bC(t.context)}function HC(t){let{basename:e="/",children:n=null,location:r,navigationType:i=dt.Pop,navigator:s,static:o=!1,future:a}=t;Do()&&pe(!1);let u=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:u,navigator:s,static:o,future:Cc({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=Di(r));let{pathname:d="/",search:f="",hash:m="",state:y=null,key:_="default"}=r,R=j.useMemo(()=>{let x=Lr(d,u);return x==null?null:{location:{pathname:x,search:f,hash:m,state:y,key:_},navigationType:i}},[u,d,f,m,y,_,i]);return R==null?null:j.createElement(zr.Provider,{value:c},j.createElement($m.Provider,{children:n,value:R}))}new Promise(()=>{});function WC(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:j.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:j.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:j.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eo(){return Eo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eo.apply(this,arguments)}function cT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function qC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KC(t,e){return t.button===0&&(!e||e==="_self")&&!qC(t)}const GC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],QC=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],JC="6";try{window.__reactRouterVersion=JC}catch{}function YC(t,e){return aC({basename:void 0,future:Eo({},void 0,{v7_prependBasename:!0}),history:xA({window:void 0}),hydrationData:XC(),routes:t,mapRouteProperties:WC,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function XC(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Eo({},e,{errors:ZC(e.errors)})),e}function ZC(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Um(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const dT=j.createContext({isTransitioning:!1}),ek=j.createContext(new Map),tk="startTransition",qv=lf[tk],nk="flushSync",Kv=bA[nk];function rk(t){qv?qv(t):t()}function ma(t){Kv?Kv(t):t()}let ik=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function sk(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=j.useState(n.state),[o,a]=j.useState(),[u,c]=j.useState({isTransitioning:!1}),[d,f]=j.useState(),[m,y]=j.useState(),[_,R]=j.useState(),x=j.useRef(new Map),{v7_startTransition:S}=r||{},v=j.useCallback(g=>{S?rk(g):g()},[S]),T=j.useCallback((g,E)=>{let{deletedFetchers:A,unstable_flushSync:k,unstable_viewTransitionOpts:b}=E;A.forEach(Q=>x.current.delete(Q)),g.fetchers.forEach((Q,Ae)=>{Q.data!==void 0&&x.current.set(Ae,Q.data)});let P=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!b||P){k?ma(()=>s(g)):v(()=>s(g));return}if(k){ma(()=>{m&&(d&&d.resolve(),m.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:b.currentLocation,nextLocation:b.nextLocation})});let Q=n.window.document.startViewTransition(()=>{ma(()=>s(g))});Q.finished.finally(()=>{ma(()=>{f(void 0),y(void 0),a(void 0),c({isTransitioning:!1})})}),ma(()=>y(Q));return}m?(d&&d.resolve(),m.skipTransition(),R({state:g,currentLocation:b.currentLocation,nextLocation:b.nextLocation})):(a(g),c({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}))},[n.window,m,d,x,v]);j.useLayoutEffect(()=>n.subscribe(T),[n,T]),j.useEffect(()=>{u.isTransitioning&&!u.flushSync&&f(new ik)},[u]),j.useEffect(()=>{if(d&&o&&n.window){let g=o,E=d.promise,A=n.window.document.startViewTransition(async()=>{v(()=>s(g)),await E});A.finished.finally(()=>{f(void 0),y(void 0),a(void 0),c({isTransitioning:!1})}),y(A)}},[v,o,d,n.window]),j.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,m,i.location,o]),j.useEffect(()=>{!u.isTransitioning&&_&&(a(_.state),c({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),R(void 0))},[u.isTransitioning,_]),j.useEffect(()=>{},[]);let O=j.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:g=>n.navigate(g),push:(g,E,A)=>n.navigate(g,{state:E,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(g,E,A)=>n.navigate(g,{replace:!0,state:E,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[n]),V=n.basename||"/",C=j.useMemo(()=>({router:n,navigator:O,static:!1,basename:V}),[n,O,V]),I=j.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return j.createElement(j.Fragment,null,j.createElement(Cl.Provider,{value:C},j.createElement(Bm.Provider,{value:i},j.createElement(ek.Provider,{value:x.current},j.createElement(dT.Provider,{value:u},j.createElement(HC,{basename:V,location:i.location,navigationType:i.historyAction,navigator:O,future:I},i.initialized||n.future.v7_partialHydration?j.createElement(ok,{routes:n.routes,future:n.future,state:i}):e))))),null)}const ok=j.memo(ak);function ak(t){let{routes:e,future:n,state:r}=t;return xC(e,void 0,r,n)}const lk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rp=j.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:d,unstable_viewTransition:f}=e,m=cT(e,GC),{basename:y}=j.useContext(zr),_,R=!1;if(typeof c=="string"&&uk.test(c)&&(_=c,lk))try{let T=new URL(window.location.href),O=c.startsWith("//")?new URL(T.protocol+c):new URL(c),V=Lr(O.pathname,y);O.origin===T.origin&&V!=null?c=V+O.search+O.hash:R=!0}catch{}let x=AC(c,{relative:i}),S=dk(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:i,unstable_viewTransition:f});function v(T){r&&r(T),T.defaultPrevented||S(T)}return j.createElement("a",Eo({},m,{href:_||x,onClick:R||s?r:v,ref:n,target:u}))}),Ir=j.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:u,unstable_viewTransition:c,children:d}=e,f=cT(e,QC),m=_d(u,{relative:f.relative}),y=Li(),_=j.useContext(Bm),{navigator:R,basename:x}=j.useContext(zr),S=_!=null&&hk(m)&&c===!0,v=R.encodeLocation?R.encodeLocation(m).pathname:m.pathname,T=y.pathname,O=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(T=T.toLowerCase(),O=O?O.toLowerCase():null,v=v.toLowerCase()),O&&x&&(O=Lr(O,x)||O);const V=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let C=T===v||!o&&T.startsWith(v)&&T.charAt(V)==="/",I=O!=null&&(O===v||!o&&O.startsWith(v)&&O.charAt(v.length)==="/"),g={isActive:C,isPending:I,isTransitioning:S},E=C?r:void 0,A;typeof s=="function"?A=s(g):A=[s,C?"active":null,I?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(g):a;return j.createElement(rp,Eo({},f,{"aria-current":E,className:A,ref:n,style:k,to:u,unstable_viewTransition:c}),typeof d=="function"?d(g):d)});var ip;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ip||(ip={}));var Gv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Gv||(Gv={}));function ck(t){let e=j.useContext(Cl);return e||pe(!1),e}function dk(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=aT(),c=Li(),d=_d(t,{relative:o});return j.useCallback(f=>{if(KC(f,n)){f.preventDefault();let m=r!==void 0?r:ds(c)===ds(d);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,u,d,r,i,n,t,s,o,a])}function hk(t,e){e===void 0&&(e={});let n=j.useContext(dT);n==null&&pe(!1);let{basename:r}=ck(ip.useViewTransitionState),i=_d(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Lr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Lr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ac(i.pathname,o)!=null||Ac(i.pathname,s)!=null}const fk="modulepreload",pk=function(t){return"/Petslove/"+t},Qv={},$r=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(a=>{if(a=pk(a),a in Qv)return;Qv[a]=!0;const u=a.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":fk,u||(d.as="script",d.crossOrigin=""),d.href=a,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},mk=({isOpen:t})=>{const e=Li(),n=e.pathname==="/";return W.jsx("div",{className:"navbar",children:W.jsx("div",{className:"center",children:W.jsx("nav",{className:t?"active":"",children:W.jsxs("ul",{className:`nav-links ${n?"home-nav":""}`,children:[W.jsx("li",{className:`special-li ${n?"home-link":""}`,children:W.jsx(Ir,{className:e.pathname==="/"?"active":"",to:"/",children:"Home"})}),W.jsx("li",{className:n?"home-link":"",children:W.jsx(Ir,{className:e.pathname==="/news"?"active":"",to:"/news",children:"News"})}),W.jsx("li",{className:n?"home-link":"",children:W.jsx(Ir,{className:e.pathname==="/find_pet"?"active":"",to:"/find_pet",children:"Find pet"})}),W.jsx("li",{className:n?"home-link":"",children:W.jsx(Ir,{className:e.pathname==="/our_friends"?"active":"",to:"/our_friends",children:"Our friends"})})]})})})})},gk="/Petslove/assets/logohome-NXIjq11m.svg",yk="/Petslove/assets/logo-DqiJri78.svg",vk="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4%2016H28'%20stroke='%23262626'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%208H28'%20stroke='%23262626'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%2024H28'%20stroke='%23262626'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";var hT={exports:{}},fT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl=j;function _k(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wk=typeof Object.is=="function"?Object.is:_k,Ek=kl.useSyncExternalStore,Tk=kl.useRef,Sk=kl.useEffect,Ik=kl.useMemo,Rk=kl.useDebugValue;fT.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Tk(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Ik(function(){function u(y){if(!c){if(c=!0,d=y,y=r(y),i!==void 0&&o.hasValue){var _=o.value;if(i(_,y))return f=_}return f=y}if(_=f,wk(d,y))return _;var R=r(y);return i!==void 0&&i(_,R)?_:(d=y,f=R)}var c=!1,d,f,m=n===void 0?null:n;return[function(){return u(e())},m===null?void 0:function(){return u(m())}]},[e,n,r,i]);var a=Ek(t,s[0],s[1]);return Sk(function(){o.hasValue=!0,o.value=a},[a]),Rk(a),a};hT.exports=fT;var Pk=hT.exports,gn="default"in lf?en:lf,Jv=Symbol.for("react-redux-context"),Yv=typeof globalThis<"u"?globalThis:{};function Ak(){if(!gn.createContext)return{};const t=Yv[Jv]??(Yv[Jv]=new Map);let e=t.get(gn.createContext);return e||(e=gn.createContext(null),t.set(gn.createContext,e)),e}var Ai=Ak(),Ck=()=>{throw new Error("uSES not initialized!")};function Hm(t=Ai){return function(){return gn.useContext(t)}}var pT=Hm(),mT=Ck,kk=t=>{mT=t},bk=(t,e)=>t===e;function xk(t=Ai){const e=t===Ai?pT:Hm(t),n=(r,i={})=>{const{equalityFn:s=bk,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:u,getServerState:c,stabilityCheck:d,identityFunctionCheck:f}=e();gn.useRef(!0);const m=gn.useCallback({[r.name](_){return r(_)}}[r.name],[r,d,o.stabilityCheck]),y=mT(u.addNestedSub,a.getState,c||a.getState,m,s);return gn.useDebugValue(y),y};return Object.assign(n,{withTypes:()=>n}),n}var Wm=xk();function Ok(t){t()}function Nk(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Ok(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Xv={notify(){},get:()=>[]};function Dk(t,e){let n,r=Xv,i=0,s=!1;function o(R){d();const x=r.subscribe(R);let S=!1;return()=>{S||(S=!0,x(),f())}}function a(){r.notify()}function u(){_.onStateChange&&_.onStateChange()}function c(){return s}function d(){i++,n||(n=t.subscribe(u),r=Nk())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Xv)}function m(){s||(s=!0,d())}function y(){s&&(s=!1,f())}const _={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:c,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>r};return _}var Lk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mk=typeof navigator<"u"&&navigator.product==="ReactNative",Vk=Lk||Mk?gn.useLayoutEffect:gn.useEffect;function Fk({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=gn.useMemo(()=>{const c=Dk(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=gn.useMemo(()=>t.getState(),[t]);Vk(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const u=e||Ai;return gn.createElement(u.Provider,{value:o},n)}var Uk=Fk;function gT(t=Ai){const e=t===Ai?pT:Hm(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var jk=gT();function zk(t=Ai){const e=t===Ai?jk:gT(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var yT=zk();kk(Pk.useSyncExternalStoreWithSelector);function At(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Bk=typeof Symbol=="function"&&Symbol.observable||"@@observable",Zv=Bk,Dh=()=>Math.random().toString(36).substring(7).split("").join("."),$k={INIT:`@@redux/INIT${Dh()}`,REPLACE:`@@redux/REPLACE${Dh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dh()}`},bc=$k;function qm(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Km(t,e,n){if(typeof t!="function")throw new Error(At(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(At(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(At(1));return n(Km)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,u=!1;function c(){o===s&&(o=new Map,s.forEach((x,S)=>{o.set(S,x)}))}function d(){if(u)throw new Error(At(3));return i}function f(x){if(typeof x!="function")throw new Error(At(4));if(u)throw new Error(At(5));let S=!0;c();const v=a++;return o.set(v,x),function(){if(S){if(u)throw new Error(At(6));S=!1,c(),o.delete(v),s=null}}}function m(x){if(!qm(x))throw new Error(At(7));if(typeof x.type>"u")throw new Error(At(8));if(typeof x.type!="string")throw new Error(At(17));if(u)throw new Error(At(9));try{u=!0,i=r(i,x)}finally{u=!1}return(s=o).forEach(v=>{v()}),x}function y(x){if(typeof x!="function")throw new Error(At(10));r=x,m({type:bc.REPLACE})}function _(){const x=f;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(At(11));function v(){const O=S;O.next&&O.next(d())}return v(),{unsubscribe:x(v)}},[Zv](){return this}}}return m({type:bc.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:y,[Zv]:_}}function Hk(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:bc.INIT})>"u")throw new Error(At(12));if(typeof n(void 0,{type:bc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(At(13))})}function vT(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{Hk(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let u=!1;const c={};for(let d=0;d<r.length;d++){const f=r[d],m=n[f],y=o[f],_=m(y,a);if(typeof _>"u")throw a&&a.type,new Error(At(14));c[f]=_,u=u||_!==y}return u=u||r.length!==Object.keys(o).length,u?c:o}}function xc(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Wk(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(At(15))};const o={getState:i.getState,dispatch:(u,...c)=>s(u,...c)},a=t.map(u=>u(o));return s=xc(...a)(i.dispatch),{...i,dispatch:s}}}function qk(t){return qm(t)&&"type"in t&&typeof t.type=="string"}var _T=Symbol.for("immer-nothing"),e_=Symbol.for("immer-draftable"),En=Symbol.for("immer-state");function Bn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var To=Object.getPrototypeOf;function hs(t){return!!t&&!!t[En]}function Mr(t){var e;return t?wT(t)||Array.isArray(t)||!!t[e_]||!!((e=t.constructor)!=null&&e[e_])||Ed(t)||Td(t):!1}var Kk=Object.prototype.constructor.toString();function wT(t){if(!t||typeof t!="object")return!1;const e=To(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Kk}function Oc(t,e){wd(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function wd(t){const e=t[En];return e?e.type_:Array.isArray(t)?1:Ed(t)?2:Td(t)?3:0}function sp(t,e){return wd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function ET(t,e,n){const r=wd(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Gk(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ed(t){return t instanceof Map}function Td(t){return t instanceof Set}function Ki(t){return t.copy_||t.base_}function op(t,e){if(Ed(t))return new Map(t);if(Td(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=wT(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[En];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(To(t),r)}else{const r=To(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Gm(t,e=!1){return Sd(t)||hs(t)||!Mr(t)||(wd(t)>1&&(t.set=t.add=t.clear=t.delete=Qk),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Gm(r,!0))),t}function Qk(){Bn(2)}function Sd(t){return Object.isFrozen(t)}var Jk={};function fs(t){const e=Jk[t];return e||Bn(0,t),e}var ul;function TT(){return ul}function Yk(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function t_(t,e){e&&(fs("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function ap(t){lp(t),t.drafts_.forEach(Xk),t.drafts_=null}function lp(t){t===ul&&(ul=t.parent_)}function n_(t){return ul=Yk(ul,t)}function Xk(t){const e=t[En];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function r_(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[En].modified_&&(ap(e),Bn(4)),Mr(t)&&(t=Nc(e,t),e.parent_||Dc(e,t)),e.patches_&&fs("Patches").generateReplacementPatches_(n[En].base_,t,e.patches_,e.inversePatches_)):t=Nc(e,n,[]),ap(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==_T?t:void 0}function Nc(t,e,n){if(Sd(e))return e;const r=e[En];if(!r)return Oc(e,(i,s)=>i_(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Dc(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Oc(s,(a,u)=>i_(t,r,i,a,u,n,o)),Dc(t,i,!1),n&&t.patches_&&fs("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function i_(t,e,n,r,i,s,o){if(hs(i)){const a=s&&e&&e.type_!==3&&!sp(e.assigned_,r)?s.concat(r):void 0,u=Nc(t,i,a);if(ET(n,r,u),hs(u))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Mr(i)&&!Sd(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Nc(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Dc(t,i)}}function Dc(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Gm(e,n)}function Zk(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:TT(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Qm;n&&(i=[r],s=cl);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var Qm={get(t,e){if(e===En)return t;const n=Ki(t);if(!sp(n,e))return eb(t,n,e);const r=n[e];return t.finalized_||!Mr(r)?r:r===Lh(t.base_,e)?(Mh(t),t.copy_[e]=cp(r,t)):r},has(t,e){return e in Ki(t)},ownKeys(t){return Reflect.ownKeys(Ki(t))},set(t,e,n){const r=ST(Ki(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Lh(Ki(t),e),s=i==null?void 0:i[En];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Gk(n,i)&&(n!==void 0||sp(t.base_,e)))return!0;Mh(t),up(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Lh(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Mh(t),up(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ki(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Bn(11)},getPrototypeOf(t){return To(t.base_)},setPrototypeOf(){Bn(12)}},cl={};Oc(Qm,(t,e)=>{cl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});cl.deleteProperty=function(t,e){return cl.set.call(this,t,e,void 0)};cl.set=function(t,e,n){return Qm.set.call(this,t[0],e,n,t[0])};function Lh(t,e){const n=t[En];return(n?Ki(n):t)[e]}function eb(t,e,n){var i;const r=ST(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function ST(t,e){if(!(e in t))return;let n=To(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=To(n)}}function up(t){t.modified_||(t.modified_=!0,t.parent_&&up(t.parent_))}function Mh(t){t.copy_||(t.copy_=op(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var tb=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(u=s,...c){return o.produce(u,d=>n.call(this,d,...c))}}typeof n!="function"&&Bn(6),r!==void 0&&typeof r!="function"&&Bn(7);let i;if(Mr(e)){const s=n_(this),o=cp(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?ap(s):lp(s)}return t_(s,r),r_(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===_T&&(i=void 0),this.autoFreeze_&&Gm(i,!0),r){const s=[],o=[];fs("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Bn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,u=>e(u,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Mr(t)||Bn(8),hs(t)&&(t=nb(t));const e=n_(this),n=cp(t,void 0);return n[En].isManual_=!0,lp(e),n}finishDraft(t,e){const n=t&&t[En];(!n||!n.isManual_)&&Bn(9);const{scope_:r}=n;return t_(r,e),r_(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=fs("Patches").applyPatches_;return hs(t)?r(t,e):this.produce(t,i=>r(i,e))}};function cp(t,e){const n=Ed(t)?fs("MapSet").proxyMap_(t,e):Td(t)?fs("MapSet").proxySet_(t,e):Zk(t,e);return(e?e.scope_:TT()).drafts_.push(n),n}function nb(t){return hs(t)||Bn(10,t),IT(t)}function IT(t){if(!Mr(t)||Sd(t))return t;const e=t[En];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=op(t,e.scope_.immer_.useStrictShallowCopy_)}else n=op(t,!0);return Oc(n,(r,i)=>{ET(n,r,IT(i))}),e&&(e.finalized_=!1),n}var Tn=new tb,RT=Tn.produce;Tn.produceWithPatches.bind(Tn);Tn.setAutoFreeze.bind(Tn);Tn.setUseStrictShallowCopy.bind(Tn);Tn.applyPatches.bind(Tn);Tn.createDraft.bind(Tn);Tn.finishDraft.bind(Tn);function PT(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var rb=PT(),ib=PT,sb=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?xc:xc.apply(null,arguments)},ob=t=>t&&typeof t.match=="function";function Fa(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Wn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>qk(r)&&r.type===t,n}var AT=class Sa extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Sa.prototype)}static get[Symbol.species](){return Sa}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Sa(...e[0].concat(this)):new Sa(...e.concat(this))}};function s_(t){return Mr(t)?RT(t,()=>{}):t}function o_(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(Wn(10));const r=n.insert(e,t);return t.set(e,r),r}function ab(t){return typeof t=="boolean"}var lb=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new AT;return n&&(ab(n)?o.push(rb):o.push(ib(n.extraArgument))),o},ub="RTK_autoBatch",CT=t=>e=>{setTimeout(e,t)},cb=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:CT(10),db=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?cb:t.type==="callback"?t.queueNotification:CT(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),m=r.subscribe(f);return a.add(d),()=>{m(),a.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[ub]),s=!i,s&&(o||(o=!0,u(c))),r.dispatch(d)}finally{i=!0}}})},hb=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new AT(t);return r&&i.push(db(typeof r=="object"?r:void 0)),i};function fb(t){const e=lb(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(qm(n))a=vT(n);else throw new Error(Wn(1));let u;typeof r=="function"?u=r(e):u=e();let c=xc;i&&(c=sb({trace:!1,...typeof i=="object"&&i}));const d=Wk(...u),f=hb(d);let m=typeof o=="function"?o(f):f();const y=c(...m);return Km(a,s,y)}function kT(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Wn(28));if(a in e)throw new Error(Wn(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function pb(t){return typeof t=="function"}function mb(t,e){let[n,r,i]=kT(e),s;if(pb(t))s=()=>s_(t());else{const a=s_(t);s=()=>a}function o(a=s(),u){let c=[n[u.type],...r.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(hs(d)){const y=f(d,u);return y===void 0?d:y}else{if(Mr(d))return RT(d,m=>f(m,u));{const m=f(d,u);if(m===void 0){if(d===null)return d;throw new Error(Wn(9))}return m}}return d},a)}return o.getInitialState=s,o}var gb=(t,e)=>ob(t)?t.match(e):t(e);function yb(...t){return e=>t.some(n=>gb(n,e))}var vb="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",_b=(t=21)=>{let e="",n=t;for(;n--;)e+=vb[Math.random()*64|0];return e},wb=["name","message","stack","code"],Vh=class{constructor(t,e){ih(this,"_type");this.payload=t,this.meta=e}},a_=class{constructor(t,e){ih(this,"_type");this.payload=t,this.meta=e}},Eb=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of wb)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},Hr=(()=>{function t(e,n,r){const i=Fa(e+"/fulfilled",(u,c,d,f)=>({payload:u,meta:{...f||{},arg:d,requestId:c,requestStatus:"fulfilled"}})),s=Fa(e+"/pending",(u,c,d)=>({payload:void 0,meta:{...d||{},arg:c,requestId:u,requestStatus:"pending"}})),o=Fa(e+"/rejected",(u,c,d,f,m)=>({payload:f,error:(r&&r.serializeError||Eb)(u||"Rejected"),meta:{...m||{},arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"}}));function a(u){return(c,d,f)=>{const m=r!=null&&r.idGenerator?r.idGenerator(u):_b(),y=new AbortController;let _,R;function x(v){R=v,y.abort()}const S=async function(){var O,V;let v;try{let C=(O=r==null?void 0:r.condition)==null?void 0:O.call(r,u,{getState:d,extra:f});if(Sb(C)&&(C=await C),C===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const I=new Promise((g,E)=>{_=()=>{E({name:"AbortError",message:R||"Aborted"})},y.signal.addEventListener("abort",_)});c(s(m,u,(V=r==null?void 0:r.getPendingMeta)==null?void 0:V.call(r,{requestId:m,arg:u},{getState:d,extra:f}))),v=await Promise.race([I,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:m,signal:y.signal,abort:x,rejectWithValue:(g,E)=>new Vh(g,E),fulfillWithValue:(g,E)=>new a_(g,E)})).then(g=>{if(g instanceof Vh)throw g;return g instanceof a_?i(g.payload,m,u,g.meta):i(g,m,u)})])}catch(C){v=C instanceof Vh?o(null,m,u,C.payload,C.meta):o(C,m,u)}finally{_&&y.signal.removeEventListener("abort",_)}return r&&!r.dispatchConditionRejection&&o.match(v)&&v.meta.condition||c(v),v}();return Object.assign(S,{abort:x,requestId:m,arg:u,unwrap(){return S.then(Tb)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:yb(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function Tb(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Sb(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Ib=Symbol.for("rtk-slice-createasyncthunk");function Rb(t,e){return`${t}/${e}`}function Pb({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Ib];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Wn(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(Cb()):i.reducers)||{},u=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(T,O){const V=typeof T=="string"?T:T.type;if(!V)throw new Error(Wn(12));if(V in c.sliceCaseReducersByType)throw new Error(Wn(13));return c.sliceCaseReducersByType[V]=O,d},addMatcher(T,O){return c.sliceMatchers.push({matcher:T,reducer:O}),d},exposeAction(T,O){return c.actionCreators[T]=O,d},exposeCaseReducer(T,O){return c.sliceCaseReducersByName[T]=O,d}};u.forEach(T=>{const O=a[T],V={reducerName:T,type:Rb(s,T),createNotation:typeof i.reducers=="function"};bb(O)?Ob(V,O,d,e):kb(V,O,d)});function f(){const[T={},O=[],V=void 0]=typeof i.extraReducers=="function"?kT(i.extraReducers):[i.extraReducers],C={...T,...c.sliceCaseReducersByType};return mb(i.initialState,I=>{for(let g in C)I.addCase(g,C[g]);for(let g of c.sliceMatchers)I.addMatcher(g.matcher,g.reducer);for(let g of O)I.addMatcher(g.matcher,g.reducer);V&&I.addDefaultCase(V)})}const m=T=>T,y=new Map;let _;function R(T,O){return _||(_=f()),_(T,O)}function x(){return _||(_=f()),_.getInitialState()}function S(T,O=!1){function V(I){let g=I[T];return typeof g>"u"&&O&&(g=x()),g}function C(I=m){const g=o_(y,O,{insert:()=>new WeakMap});return o_(g,I,{insert:()=>{const E={};for(const[A,k]of Object.entries(i.selectors??{}))E[A]=Ab(k,I,x,O);return E}})}return{reducerPath:T,getSelectors:C,get selectors(){return C(V)},selectSlice:V}}const v={name:s,reducer:R,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...S(o),injectInto(T,{reducerPath:O,...V}={}){const C=O??o;return T.inject({reducerPath:C,reducer:R},V),{...v,...S(C,!0)}}};return v}}function Ab(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var Qn=Pb();function Cb(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function kb({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!xb(r))throw new Error(Wn(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?Fa(t,o):Fa(t))}function bb(t){return t._reducerDefinitionType==="asyncThunk"}function xb(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Ob({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Wn(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:u,settled:c,options:d}=n,f=i(t,s,d);r.exposeAction(e,f),o&&r.addCase(f.fulfilled,o),a&&r.addCase(f.pending,a),u&&r.addCase(f.rejected,u),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(e,{fulfilled:o||Eu,pending:a||Eu,rejected:u||Eu,settled:c||Eu})}function Eu(){}function Wn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var l_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Nb=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},xT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,y=c&63;u||(y=64,o||(m=64)),r.push(n[d],n[f],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Nb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new Db;const m=s<<2|a>>4;if(r.push(m),c!==64){const y=a<<4&240|c>>2;if(r.push(y),f!==64){const _=c<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Db extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lb=function(t){const e=bT(t);return xT.encodeByteArray(e,!0)},Lc=function(t){return Lb(t).replace(/\./g,"")},OT=function(t){try{return xT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=()=>Mb().__FIREBASE_DEFAULTS__,Fb=()=>{if(typeof process>"u"||typeof l_>"u")return;const t=l_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ub=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OT(t[1]);return e&&JSON.parse(e)},Id=()=>{try{return Vb()||Fb()||Ub()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NT=t=>{var e,n;return(n=(e=Id())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jb=t=>{const e=NT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},DT=()=>{var t;return(t=Id())===null||t===void 0?void 0:t.config},LT=t=>{var e;return(e=Id())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lc(JSON.stringify(n)),Lc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $b(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function Hb(){var t;const e=(t=Id())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kb(){const t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Gb(){return!Hb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qb(){try{return typeof indexedDB=="object"}catch{return!1}}function Jb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="FirebaseError";class Wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Yb,Object.setPrototypeOf(this,Wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bl.prototype.create)}}class bl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Xb(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Wr(i,a,r)}}function Xb(t,e){return t.replace(Zb,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Zb=/\{\$([^}]+)}/g;function ex(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(u_(s)&&u_(o)){if(!Mc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function u_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ia(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ra(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function tx(t,e){const n=new nx(t,e);return n.subscribe.bind(n)}class nx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Fh),i.error===void 0&&(i.error=Fh),i.complete===void 0&&(i.complete=Fh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t){return t&&t._delegate?t._delegate:t}class ps{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ox(e))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gi){return this.instances.has(e)}getOptions(e=Gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gi){return this.component?this.component.multipleInstances?e:Gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sx(t){return t===Gi?void 0:t}function ox(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ix(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const lx={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},ux=Se.INFO,cx={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},dx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=cx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jm{constructor(e){this.name=e,this._logLevel=ux,this._logHandler=dx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const hx=(t,e)=>e.some(n=>t instanceof n);let c_,d_;function fx(){return c_||(c_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function px(){return d_||(d_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MT=new WeakMap,dp=new WeakMap,VT=new WeakMap,Uh=new WeakMap,Ym=new WeakMap;function mx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ei(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&MT.set(n,t)}).catch(()=>{}),Ym.set(e,t),e}function gx(t){if(dp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});dp.set(t,e)}let hp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ei(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yx(t){hp=t(hp)}function vx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jh(this),e,...n);return VT.set(r,e.sort?e.sort():[e]),Ei(r)}:px().includes(t)?function(...e){return t.apply(jh(this),e),Ei(MT.get(this))}:function(...e){return Ei(t.apply(jh(this),e))}}function _x(t){return typeof t=="function"?vx(t):(t instanceof IDBTransaction&&gx(t),hx(t,fx())?new Proxy(t,hp):t)}function Ei(t){if(t instanceof IDBRequest)return mx(t);if(Uh.has(t))return Uh.get(t);const e=_x(t);return e!==t&&(Uh.set(t,e),Ym.set(e,t)),e}const jh=t=>Ym.get(t);function wx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ei(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ei(o.result),u.oldVersion,u.newVersion,Ei(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Ex=["get","getKey","getAll","getAllKeys","count"],Tx=["put","add","delete","clear"],zh=new Map;function h_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zh.get(e))return zh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Tx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ex.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return zh.set(e,s),s}yx(t=>({...t,get:(e,n,r)=>h_(e,n)||t.get(e,n,r),has:(e,n)=>!!h_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ix(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ix(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fp="@firebase/app",f_="0.10.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new Jm("@firebase/app"),Rx="@firebase/app-compat",Px="@firebase/analytics-compat",Ax="@firebase/analytics",Cx="@firebase/app-check-compat",kx="@firebase/app-check",bx="@firebase/auth",xx="@firebase/auth-compat",Ox="@firebase/database",Nx="@firebase/database-compat",Dx="@firebase/functions",Lx="@firebase/functions-compat",Mx="@firebase/installations",Vx="@firebase/installations-compat",Fx="@firebase/messaging",Ux="@firebase/messaging-compat",jx="@firebase/performance",zx="@firebase/performance-compat",Bx="@firebase/remote-config",$x="@firebase/remote-config-compat",Hx="@firebase/storage",Wx="@firebase/storage-compat",qx="@firebase/firestore",Kx="@firebase/vertexai-preview",Gx="@firebase/firestore-compat",Qx="firebase",Jx="10.12.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="[DEFAULT]",Yx={[fp]:"fire-core",[Rx]:"fire-core-compat",[Ax]:"fire-analytics",[Px]:"fire-analytics-compat",[kx]:"fire-app-check",[Cx]:"fire-app-check-compat",[bx]:"fire-auth",[xx]:"fire-auth-compat",[Ox]:"fire-rtdb",[Nx]:"fire-rtdb-compat",[Dx]:"fire-fn",[Lx]:"fire-fn-compat",[Mx]:"fire-iid",[Vx]:"fire-iid-compat",[Fx]:"fire-fcm",[Ux]:"fire-fcm-compat",[jx]:"fire-perf",[zx]:"fire-perf-compat",[Bx]:"fire-rc",[$x]:"fire-rc-compat",[Hx]:"fire-gcs",[Wx]:"fire-gcs-compat",[qx]:"fire-fst",[Gx]:"fire-fst-compat",[Kx]:"fire-vertex","fire-js":"fire-js",[Qx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=new Map,Xx=new Map,mp=new Map;function p_(t,e){try{t.container.addComponent(e)}catch(n){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function So(t){const e=t.name;if(mp.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;mp.set(e,t);for(const n of Vc.values())p_(n,t);for(const n of Xx.values())p_(n,t);return!0}function Xm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function nr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new bl("app","Firebase",Zx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=Jx;function FT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:pp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ti.create("bad-app-name",{appName:String(i)});if(n||(n=DT()),!n)throw Ti.create("no-options");const s=Vc.get(i);if(s){if(Mc(n,s.options)&&Mc(r,s.config))return s;throw Ti.create("duplicate-app",{appName:i})}const o=new ax(i);for(const u of mp.values())o.addComponent(u);const a=new eO(n,r,o);return Vc.set(i,a),a}function UT(t=pp){const e=Vc.get(t);if(!e&&t===pp&&DT())return FT();if(!e)throw Ti.create("no-app",{appName:t});return e}function Si(t,e,n){var r;let i=(r=Yx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(a.join(" "));return}So(new ps(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="firebase-heartbeat-database",nO=1,dl="firebase-heartbeat-store";let Bh=null;function jT(){return Bh||(Bh=wx(tO,nO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ti.create("idb-open",{originalErrorMessage:t.message})})),Bh}async function rO(t){try{const n=(await jT()).transaction(dl),r=await n.objectStore(dl).get(zT(t));return await n.done,r}catch(e){if(e instanceof Wr)ms.warn(e.message);else{const n=Ti.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ms.warn(n.message)}}}async function m_(t,e){try{const r=(await jT()).transaction(dl,"readwrite");await r.objectStore(dl).put(e,zT(t)),await r.done}catch(n){if(n instanceof Wr)ms.warn(n.message);else{const r=Ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ms.warn(r.message)}}}function zT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=1024,sO=30*24*60*60*1e3;class oO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=g_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=sO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=g_(),{heartbeatsToSend:r,unsentEntries:i}=aO(this._heartbeatsCache.heartbeats),s=Lc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function g_(){return new Date().toISOString().substring(0,10)}function aO(t,e=iO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),y_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),y_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qb()?Jb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function y_(t){return Lc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){So(new ps("platform-logger",e=>new Sx(e),"PRIVATE")),So(new ps("heartbeat",e=>new oO(e),"PRIVATE")),Si(fp,f_,t),Si(fp,f_,"esm2017"),Si("fire-js","")}uO("");var cO="firebase",dO="10.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si(cO,dO,"app");function Zm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function BT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hO=BT,$T=new bl("auth","Firebase",BT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Jm("@firebase/auth");function fO(t,...e){Fc.logLevel<=Se.WARN&&Fc.warn(`Auth (${Lo}): ${t}`,...e)}function Bu(t,...e){Fc.logLevel<=Se.ERROR&&Fc.error(`Auth (${Lo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw eg(t,...e)}function sr(t,...e){return eg(t,...e)}function HT(t,e,n){const r=Object.assign(Object.assign({},hO()),{[e]:n});return new bl("auth","Firebase",r).create(e,{appName:t.name})}function br(t){return HT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $T.create(t,...e)}function ae(t,e,...n){if(!t)throw eg(e,...n)}function Rr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bu(e),new Error(e)}function Vr(t,e){t||Rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pO(){return v_()==="http:"||v_()==="https:"}function v_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pO()||Wb()||"connection"in navigator)?navigator.onLine:!0}function gO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vr(n>e,"Short delay should be less than long delay!"),this.isMobile=$b()||qb()}get(){return mO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t,e){Vr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=new Ol(3e4,6e4);function Mi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vi(t,e,n,r,i={}){return qT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=xl(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),WT.fetch()(KT(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function qT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},yO),e);try{const i=new wO(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Tu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Tu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Tu(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw HT(t,d,c);Gn(t,d)}}catch(i){if(i instanceof Wr)throw i;Gn(t,"network-request-failed",{message:String(i)})}}async function Nl(t,e,n,r,i={}){const s=await Vi(t,e,n,r,i);return"mfaPendingCredential"in s&&Gn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function KT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?tg(t.config,i):`${t.config.apiScheme}://${i}`}function _O(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sr(this.auth,"network-request-failed")),vO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=sr(t,e,r);return i.customData._tokenResponse=n,i}function __(t){return t!==void 0&&t.enterprise!==void 0}class EO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _O(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function TO(t,e){return Vi(t,"GET","/v2/recaptchaConfig",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(t,e){return Vi(t,"POST","/v1/accounts:delete",e)}async function GT(t,e){return Vi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IO(t,e=!1){const n=un(t),r=await n.getIdToken(e),i=ng(r);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ua($h(i.auth_time)),issuedAtTime:Ua($h(i.iat)),expirationTime:Ua($h(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function $h(t){return Number(t)*1e3}function ng(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bu("JWT malformed, contained fewer than 3 sections"),null;try{const i=OT(n);return i?JSON.parse(i):(Bu("Failed to decode base64 JWT payload"),null)}catch(i){return Bu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function w_(t){const e=ng(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wr&&RO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function RO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ua(this.lastLoginAt),this.creationTime=Ua(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await hl(t,GT(n,{idToken:r}));ae(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?QT(s.providerUserInfo):[],a=CO(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=u?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new yp(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function AO(t){const e=un(t);await Uc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function QT(t){return t.map(e=>{var{providerId:n}=e,r=Zm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(t,e){const n=await qT(t,{},async()=>{const r=xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=KT(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",WT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bO(t,e){return Vi(t,"POST","/v2/accounts:revokeToken",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):w_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=w_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await kO(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new lo;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ae(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return Rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Zm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await hl(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IO(this,e)}reload(){return AO(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Uc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nr(this.auth.app))return Promise.reject(br(this.auth));const e=await this.getIdToken();return await hl(this,SO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,S=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:O,isAnonymous:V,providerData:C,stsTokenManager:I}=n;ae(T&&I,e,"internal-error");const g=lo.fromJSON(this.name,I);ae(typeof T=="string",e,"internal-error"),Zr(f,e.name),Zr(m,e.name),ae(typeof O=="boolean",e,"internal-error"),ae(typeof V=="boolean",e,"internal-error"),Zr(y,e.name),Zr(_,e.name),Zr(R,e.name),Zr(x,e.name),Zr(S,e.name),Zr(v,e.name);const E=new Pr({uid:T,auth:e,email:m,emailVerified:O,displayName:f,isAnonymous:V,photoURL:_,phoneNumber:y,tenantId:R,stsTokenManager:g,createdAt:S,lastLoginAt:v});return C&&Array.isArray(C)&&(E.providerData=C.map(A=>Object.assign({},A))),x&&(E._redirectEventId=x),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new lo;i.updateFromServerResponse(n);const s=new Pr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Uc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ae(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?QT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new lo;a.updateFromIdToken(r);const u=new Pr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new yp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=new Map;function Ar(t){Vr(t instanceof Function,"Expected a class definition");let e=E_.get(t);return e?(Vr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,E_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JT.type="NONE";const T_=JT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t,e,n){return`firebase:${t}:${e}:${n}`}class uo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=$u(this.userKey,i.apiKey,s),this.fullPersistenceKey=$u("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Pr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new uo(Ar(T_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ar(T_);const o=$u(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=Pr._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new uo(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new uo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tS(e))return"Blackberry";if(nS(e))return"Webos";if(rg(e))return"Safari";if((e.includes("chrome/")||XT(e))&&!e.includes("edge/"))return"Chrome";if(eS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function YT(t=Dt()){return/firefox\//i.test(t)}function rg(t=Dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XT(t=Dt()){return/crios\//i.test(t)}function ZT(t=Dt()){return/iemobile/i.test(t)}function eS(t=Dt()){return/android/i.test(t)}function tS(t=Dt()){return/blackberry/i.test(t)}function nS(t=Dt()){return/webos/i.test(t)}function Rd(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xO(t=Dt()){var e;return Rd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OO(){return Kb()&&document.documentMode===10}function rS(t=Dt()){return Rd(t)||eS(t)||nS(t)||tS(t)||/windows phone/i.test(t)||ZT(t)}function NO(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t,e=[]){let n;switch(t){case"Browser":n=S_(Dt());break;case"Worker":n=`${S_(Dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(t,e={}){return Vi(t,"GET","/v2/passwordPolicy",Mi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=6;class VO{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:MO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I_(this),this.idTokenSubscription=new I_(this),this.beforeStateQueue=new DO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$T,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ar(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await GT(this,{idToken:e}),r=await Pr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(nr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(nr(this.app))return Promise.reject(br(this));const n=e?un(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return nr(this.app)?Promise.reject(br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return nr(this.app)?Promise.reject(br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LO(this),n=new VO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await bO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ar(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[Ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&fO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Rs(t){return un(t)}class I_{constructor(e){this.auth=e,this.observer=null,this.addObserver=tx(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UO(t){Pd=t}function sS(t){return Pd.loadJS(t)}function jO(){return Pd.recaptchaEnterpriseScript}function zO(){return Pd.gapiScript}function BO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const $O="recaptcha-enterprise",HO="NO_RECAPTCHA";class WO{constructor(e){this.type=$O,this.auth=Rs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{TO(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new EO(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;__(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(HO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&__(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=jO();u.length!==0&&(u+=a),sS(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function R_(t,e,n,r=!1){const i=new WO(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function vp(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await R_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await R_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t,e){const n=Xm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Mc(s,e??{}))return i;Gn(i,"already-initialized")}return n.initialize({options:e})}function KO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function GO(t,e,n){const r=Rs(t);ae(r._canInitEmulator,r,"emulator-config-failed"),ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=oS(e),{host:o,port:a}=QO(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),JO()}function oS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QO(t){const e=oS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:P_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:P_(o)}}}function P_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function JO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rr("not implemented")}_getIdTokenResponse(e){return Rr("not implemented")}_linkToIdToken(e,n){return Rr("not implemented")}_getReauthenticationResolver(e){return Rr("not implemented")}}async function YO(t,e){return Vi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(t,e){return Nl(t,"POST","/v1/accounts:signInWithPassword",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(t,e){return Nl(t,"POST","/v1/accounts:signInWithEmailLink",Mi(t,e))}async function eN(t,e){return Nl(t,"POST","/v1/accounts:signInWithEmailLink",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends ig{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new fl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vp(e,n,"signInWithPassword",XO);case"emailLink":return ZO(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vp(e,r,"signUpPassword",YO);case"emailLink":return eN(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(t,e){return Nl(t,"POST","/v1/accounts:signInWithIdp",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="http://localhost";class gs extends ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Zm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new gs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,co(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:tN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rN(t){const e=Ia(Ra(t)).link,n=e?Ia(Ra(e)).deep_link_id:null,r=Ia(Ra(t)).deep_link_id;return(r?Ia(Ra(r)).link:null)||r||n||e||t}class sg{constructor(e){var n,r,i,s,o,a;const u=Ia(Ra(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,f=nN((i=u.mode)!==null&&i!==void 0?i:null);ae(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=rN(e);try{return new sg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,n){return fl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=sg.parseLink(n);return ae(r,"argument-error"),fl._fromEmailAndCode(e,r.code,r.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends aS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Dl{constructor(){super("facebook.com")}static credential(e){return gs._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Dl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gs._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ai.credential(n,r)}catch{return null}}}ai.GOOGLE_SIGN_IN_METHOD="google.com";ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Dl{constructor(){super("github.com")}static credential(e){return gs._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.GITHUB_SIGN_IN_METHOD="github.com";li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Dl{constructor(){super("twitter.com")}static credential(e,n){return gs._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.TWITTER_SIGN_IN_METHOD="twitter.com";ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(t,e){return Nl(t,"POST","/v1/accounts:signUp",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Pr._fromIdTokenResponse(e,r,i),o=A_(r);return new ys({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=A_(r);return new ys({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function A_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends Wr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,jc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new jc(e,n,r,i)}}function lS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?jc._fromErrorAndOperation(t,s,e,r):s})}async function sN(t,e,n=!1){const r=await hl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ys._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(t,e,n=!1){const{auth:r}=t;if(nr(r.app))return Promise.reject(br(r));const i="reauthenticate";try{const s=await hl(t,lS(r,i,e,t),n);ae(s.idToken,r,"internal-error");const o=ng(s.idToken);ae(o,r,"internal-error");const{sub:a}=o;return ae(t.uid===a,r,"user-mismatch"),ys._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uS(t,e,n=!1){if(nr(t.app))return Promise.reject(br(t));const r="signIn",i=await lS(t,r,e),s=await ys._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function aN(t,e){return uS(Rs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cS(t){const e=Rs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lN(t,e,n){if(nr(t.app))return Promise.reject(br(t));const r=Rs(t),o=await vp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iN).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&cS(t),u}),a=await ys._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function uN(t,e,n){return nr(t.app)?Promise.reject(br(t)):aN(un(t),Mo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cS(t),r})}function cN(t,e,n,r){return un(t).onIdTokenChanged(e,n,r)}function dN(t,e,n){return un(t).beforeAuthStateChanged(e,n)}const zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zc,"1"),this.storage.removeItem(zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(){const t=Dt();return rg(t)||Rd(t)}const fN=1e3,pN=10;class hS extends dS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=hN()&&NO(),this.fallbackToPolling=rS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);OO()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,pN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},fN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hS.type="LOCAL";const mN=hS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS extends dS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fS.type="SESSION";const pS=fS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ad(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await gN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=og("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return window}function vN(t){or().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(){return typeof or().WorkerGlobalScope<"u"&&typeof or().importScripts=="function"}async function _N(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function EN(){return mS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="firebaseLocalStorageDb",TN=1,Bc="firebaseLocalStorage",yS="fbase_key";class Ll{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cd(t,e){return t.transaction([Bc],e?"readwrite":"readonly").objectStore(Bc)}function SN(){const t=indexedDB.deleteDatabase(gS);return new Ll(t).toPromise()}function _p(){const t=indexedDB.open(gS,TN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bc,{keyPath:yS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bc)?e(r):(r.close(),await SN(),e(await _p()))})})}async function C_(t,e,n){const r=Cd(t,!0).put({[yS]:e,value:n});return new Ll(r).toPromise()}async function IN(t,e){const n=Cd(t,!1).get(e),r=await new Ll(n).toPromise();return r===void 0?null:r.value}function k_(t,e){const n=Cd(t,!0).delete(e);return new Ll(n).toPromise()}const RN=800,PN=3;class vS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _p(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>PN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ad._getInstance(EN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _N(),!this.activeServiceWorker)return;this.sender=new yN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _p();return await C_(e,zc,"1"),await k_(e,zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>C_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>IN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>k_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Cd(i,!1).getAll();return new Ll(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vS.type="LOCAL";const AN=vS;new Ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t,e){return e?Ar(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kN(t){return uS(t.auth,new ag(t),t.bypassAuthState)}function bN(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),oN(n,new ag(t),t.bypassAuthState)}async function xN(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),sN(n,new ag(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kN;case"linkViaPopup":case"linkViaRedirect":return xN;case"reauthViaPopup":case"reauthViaRedirect":return bN;default:Gn(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new Ol(2e3,1e4);class to extends _S{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){Vr(this.filter.length===1,"Popup operations only handle one event");const e=og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ON.get())};e()}}to.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="pendingRedirect",Hu=new Map;class DN extends _S{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hu.get(this.auth._key());if(!e){try{const r=await LN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hu.set(this.auth._key(),e)}return this.bypassAuthState||Hu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LN(t,e){const n=FN(e),r=VN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function MN(t,e){Hu.set(t._key(),e)}function VN(t){return Ar(t._redirectPersistence)}function FN(t){return $u(NN,t.config.apiKey,t.name)}async function UN(t,e,n=!1){if(nr(t.app))return Promise.reject(br(t));const r=Rs(t),i=CN(r,e),o=await new DN(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=10*60*1e3;class zN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(sr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jN&&this.cachedEventUids.clear(),this.cachedEventUids.has(b_(e))}saveEventToCache(e){this.cachedEventUids.add(b_(e)),this.lastProcessedEventTime=Date.now()}}function b_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function BN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(t,e={}){return Vi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WN=/^https?/;async function qN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $N(t);for(const n of e)try{if(KN(n))return}catch{}Gn(t,"unauthorized-domain")}function KN(t){const e=gp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!WN.test(n))return!1;if(HN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new Ol(3e4,6e4);function x_(){const t=or().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QN(t){return new Promise((e,n)=>{var r,i,s;function o(){x_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x_(),n(sr(t,"network-request-failed"))},timeout:GN.get()})}if(!((i=(r=or().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=or().gapi)===null||s===void 0)&&s.load)o();else{const a=BO("iframefcb");return or()[a]=()=>{gapi.load?o():n(sr(t,"network-request-failed"))},sS(`${zO()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Wu=null,e})}let Wu=null;function JN(t){return Wu=Wu||QN(t),Wu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=new Ol(5e3,15e3),XN="__/auth/iframe",ZN="emulator/auth/iframe",eD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nD(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tg(e,ZN):`https://${t.config.authDomain}/${XN}`,r={apiKey:e.apiKey,appName:t.name,v:Lo},i=tD.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${xl(r).slice(1)}`}async function rD(t){const e=await JN(t),n=or().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:nD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eD,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=sr(t,"network-request-failed"),a=or().setTimeout(()=>{s(o)},YN.get());function u(){or().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sD=500,oD=600,aD="_blank",lD="http://localhost";class O_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uD(t,e,n,r=sD,i=oD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},iD),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Dt().toLowerCase();n&&(a=XT(c)?aD:n),YT(c)&&(e=e||lD,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[y,_])=>`${m}${y}=${_},`,"");if(xO(c)&&a!=="_self")return cD(e||"",a),new O_(null);const f=window.open(e||"",a,d);ae(f,t,"popup-blocked");try{f.focus()}catch{}return new O_(f)}function cD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="__/auth/handler",hD="emulator/auth/handler",fD=encodeURIComponent("fac");async function N_(t,e,n,r,i,s){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Lo,eventId:i};if(e instanceof aS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ex(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Dl){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),c=u?`#${fD}=${encodeURIComponent(u)}`:"";return`${pD(t)}?${xl(a).slice(1)}${c}`}function pD({config:t}){return t.emulator?tg(t,hD):`https://${t.authDomain}/${dD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh="webStorageSupport";class mD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pS,this._completeRedirectFn=UN,this._overrideRedirectResult=MN}async _openPopup(e,n,r,i){var s;Vr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await N_(e,n,r,gp(),i);return uD(e,o,og())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await N_(e,n,r,gp(),i);return vN(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await rD(e),r=new zN(e);return n.register("authEvent",i=>(ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hh,{type:Hh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Hh];o!==void 0&&n(!!o),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rS()||rg()||Rd()}}const gD=mD;var D_="@firebase/auth",L_="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _D(t){So(new ps("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iS(t)},c=new FO(r,i,s,u);return KO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),So(new ps("auth-internal",e=>{const n=Rs(e.getProvider("auth").getImmediate());return(r=>new yD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(D_,L_,vD(t)),Si(D_,L_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=5*60,ED=LT("authIdTokenMaxAge")||wD;let M_=null;const TD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ED)return;const i=n==null?void 0:n.token;M_!==i&&(M_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function SD(t=UT()){const e=Xm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qO(t,{popupRedirectResolver:gD,persistence:[AN,mN,pS]}),r=LT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=TD(s.toString());dN(n,o,()=>o(n.currentUser)),cN(n,a=>o(a))}}const i=NT("auth");return i&&GO(n,`http://${i}`),n}function ID(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}UO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=sr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",ID().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_D("Browser");var V_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,ES;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,g){function E(){}E.prototype=g.prototype,I.D=g.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(A,k,b){for(var P=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)P[Q-2]=arguments[Q];return g.prototype[k].apply(A,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,g,E){E||(E=0);var A=Array(16);if(typeof g=="string")for(var k=0;16>k;++k)A[k]=g.charCodeAt(E++)|g.charCodeAt(E++)<<8|g.charCodeAt(E++)<<16|g.charCodeAt(E++)<<24;else for(k=0;16>k;++k)A[k]=g[E++]|g[E++]<<8|g[E++]<<16|g[E++]<<24;g=I.g[0],E=I.g[1],k=I.g[2];var b=I.g[3],P=g+(b^E&(k^b))+A[0]+3614090360&4294967295;g=E+(P<<7&4294967295|P>>>25),P=b+(k^g&(E^k))+A[1]+3905402710&4294967295,b=g+(P<<12&4294967295|P>>>20),P=k+(E^b&(g^E))+A[2]+606105819&4294967295,k=b+(P<<17&4294967295|P>>>15),P=E+(g^k&(b^g))+A[3]+3250441966&4294967295,E=k+(P<<22&4294967295|P>>>10),P=g+(b^E&(k^b))+A[4]+4118548399&4294967295,g=E+(P<<7&4294967295|P>>>25),P=b+(k^g&(E^k))+A[5]+1200080426&4294967295,b=g+(P<<12&4294967295|P>>>20),P=k+(E^b&(g^E))+A[6]+2821735955&4294967295,k=b+(P<<17&4294967295|P>>>15),P=E+(g^k&(b^g))+A[7]+4249261313&4294967295,E=k+(P<<22&4294967295|P>>>10),P=g+(b^E&(k^b))+A[8]+1770035416&4294967295,g=E+(P<<7&4294967295|P>>>25),P=b+(k^g&(E^k))+A[9]+2336552879&4294967295,b=g+(P<<12&4294967295|P>>>20),P=k+(E^b&(g^E))+A[10]+4294925233&4294967295,k=b+(P<<17&4294967295|P>>>15),P=E+(g^k&(b^g))+A[11]+2304563134&4294967295,E=k+(P<<22&4294967295|P>>>10),P=g+(b^E&(k^b))+A[12]+1804603682&4294967295,g=E+(P<<7&4294967295|P>>>25),P=b+(k^g&(E^k))+A[13]+4254626195&4294967295,b=g+(P<<12&4294967295|P>>>20),P=k+(E^b&(g^E))+A[14]+2792965006&4294967295,k=b+(P<<17&4294967295|P>>>15),P=E+(g^k&(b^g))+A[15]+1236535329&4294967295,E=k+(P<<22&4294967295|P>>>10),P=g+(k^b&(E^k))+A[1]+4129170786&4294967295,g=E+(P<<5&4294967295|P>>>27),P=b+(E^k&(g^E))+A[6]+3225465664&4294967295,b=g+(P<<9&4294967295|P>>>23),P=k+(g^E&(b^g))+A[11]+643717713&4294967295,k=b+(P<<14&4294967295|P>>>18),P=E+(b^g&(k^b))+A[0]+3921069994&4294967295,E=k+(P<<20&4294967295|P>>>12),P=g+(k^b&(E^k))+A[5]+3593408605&4294967295,g=E+(P<<5&4294967295|P>>>27),P=b+(E^k&(g^E))+A[10]+38016083&4294967295,b=g+(P<<9&4294967295|P>>>23),P=k+(g^E&(b^g))+A[15]+3634488961&4294967295,k=b+(P<<14&4294967295|P>>>18),P=E+(b^g&(k^b))+A[4]+3889429448&4294967295,E=k+(P<<20&4294967295|P>>>12),P=g+(k^b&(E^k))+A[9]+568446438&4294967295,g=E+(P<<5&4294967295|P>>>27),P=b+(E^k&(g^E))+A[14]+3275163606&4294967295,b=g+(P<<9&4294967295|P>>>23),P=k+(g^E&(b^g))+A[3]+4107603335&4294967295,k=b+(P<<14&4294967295|P>>>18),P=E+(b^g&(k^b))+A[8]+1163531501&4294967295,E=k+(P<<20&4294967295|P>>>12),P=g+(k^b&(E^k))+A[13]+2850285829&4294967295,g=E+(P<<5&4294967295|P>>>27),P=b+(E^k&(g^E))+A[2]+4243563512&4294967295,b=g+(P<<9&4294967295|P>>>23),P=k+(g^E&(b^g))+A[7]+1735328473&4294967295,k=b+(P<<14&4294967295|P>>>18),P=E+(b^g&(k^b))+A[12]+2368359562&4294967295,E=k+(P<<20&4294967295|P>>>12),P=g+(E^k^b)+A[5]+4294588738&4294967295,g=E+(P<<4&4294967295|P>>>28),P=b+(g^E^k)+A[8]+2272392833&4294967295,b=g+(P<<11&4294967295|P>>>21),P=k+(b^g^E)+A[11]+1839030562&4294967295,k=b+(P<<16&4294967295|P>>>16),P=E+(k^b^g)+A[14]+4259657740&4294967295,E=k+(P<<23&4294967295|P>>>9),P=g+(E^k^b)+A[1]+2763975236&4294967295,g=E+(P<<4&4294967295|P>>>28),P=b+(g^E^k)+A[4]+1272893353&4294967295,b=g+(P<<11&4294967295|P>>>21),P=k+(b^g^E)+A[7]+4139469664&4294967295,k=b+(P<<16&4294967295|P>>>16),P=E+(k^b^g)+A[10]+3200236656&4294967295,E=k+(P<<23&4294967295|P>>>9),P=g+(E^k^b)+A[13]+681279174&4294967295,g=E+(P<<4&4294967295|P>>>28),P=b+(g^E^k)+A[0]+3936430074&4294967295,b=g+(P<<11&4294967295|P>>>21),P=k+(b^g^E)+A[3]+3572445317&4294967295,k=b+(P<<16&4294967295|P>>>16),P=E+(k^b^g)+A[6]+76029189&4294967295,E=k+(P<<23&4294967295|P>>>9),P=g+(E^k^b)+A[9]+3654602809&4294967295,g=E+(P<<4&4294967295|P>>>28),P=b+(g^E^k)+A[12]+3873151461&4294967295,b=g+(P<<11&4294967295|P>>>21),P=k+(b^g^E)+A[15]+530742520&4294967295,k=b+(P<<16&4294967295|P>>>16),P=E+(k^b^g)+A[2]+3299628645&4294967295,E=k+(P<<23&4294967295|P>>>9),P=g+(k^(E|~b))+A[0]+4096336452&4294967295,g=E+(P<<6&4294967295|P>>>26),P=b+(E^(g|~k))+A[7]+1126891415&4294967295,b=g+(P<<10&4294967295|P>>>22),P=k+(g^(b|~E))+A[14]+2878612391&4294967295,k=b+(P<<15&4294967295|P>>>17),P=E+(b^(k|~g))+A[5]+4237533241&4294967295,E=k+(P<<21&4294967295|P>>>11),P=g+(k^(E|~b))+A[12]+1700485571&4294967295,g=E+(P<<6&4294967295|P>>>26),P=b+(E^(g|~k))+A[3]+2399980690&4294967295,b=g+(P<<10&4294967295|P>>>22),P=k+(g^(b|~E))+A[10]+4293915773&4294967295,k=b+(P<<15&4294967295|P>>>17),P=E+(b^(k|~g))+A[1]+2240044497&4294967295,E=k+(P<<21&4294967295|P>>>11),P=g+(k^(E|~b))+A[8]+1873313359&4294967295,g=E+(P<<6&4294967295|P>>>26),P=b+(E^(g|~k))+A[15]+4264355552&4294967295,b=g+(P<<10&4294967295|P>>>22),P=k+(g^(b|~E))+A[6]+2734768916&4294967295,k=b+(P<<15&4294967295|P>>>17),P=E+(b^(k|~g))+A[13]+1309151649&4294967295,E=k+(P<<21&4294967295|P>>>11),P=g+(k^(E|~b))+A[4]+4149444226&4294967295,g=E+(P<<6&4294967295|P>>>26),P=b+(E^(g|~k))+A[11]+3174756917&4294967295,b=g+(P<<10&4294967295|P>>>22),P=k+(g^(b|~E))+A[2]+718787259&4294967295,k=b+(P<<15&4294967295|P>>>17),P=E+(b^(k|~g))+A[9]+3951481745&4294967295,I.g[0]=I.g[0]+g&4294967295,I.g[1]=I.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+b&4294967295}r.prototype.u=function(I,g){g===void 0&&(g=I.length);for(var E=g-this.blockSize,A=this.B,k=this.h,b=0;b<g;){if(k==0)for(;b<=E;)i(this,I,b),b+=this.blockSize;if(typeof I=="string"){for(;b<g;)if(A[k++]=I.charCodeAt(b++),k==this.blockSize){i(this,A),k=0;break}}else for(;b<g;)if(A[k++]=I[b++],k==this.blockSize){i(this,A),k=0;break}}this.h=k,this.o+=g},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var g=1;g<I.length-8;++g)I[g]=0;var E=8*this.o;for(g=I.length-8;g<I.length;++g)I[g]=E&255,E/=256;for(this.u(I),I=Array(16),g=E=0;4>g;++g)for(var A=0;32>A;A+=8)I[E++]=this.g[g]>>>A&255;return I};function s(I,g){var E=a;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=g(I)}function o(I,g){this.h=g;for(var E=[],A=!0,k=I.length-1;0<=k;k--){var b=I[k]|0;A&&b==g||(E[k]=b,A=!1)}this.g=E}var a={};function u(I){return-128<=I&&128>I?s(I,function(g){return new o([g|0],0>g?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return x(c(-I));for(var g=[],E=1,A=0;I>=E;A++)g[A]=I/E|0,E*=4294967296;return new o(g,0)}function d(I,g){if(I.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(I.charAt(0)=="-")return x(d(I.substring(1),g));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=c(Math.pow(g,8)),A=f,k=0;k<I.length;k+=8){var b=Math.min(8,I.length-k),P=parseInt(I.substring(k,k+b),g);8>b?(b=c(Math.pow(g,b)),A=A.j(b).add(c(P))):(A=A.j(E),A=A.add(c(P)))}return A}var f=u(0),m=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(R(this))return-x(this).m();for(var I=0,g=1,E=0;E<this.g.length;E++){var A=this.i(E);I+=(0<=A?A:4294967296+A)*g,g*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(_(this))return"0";if(R(this))return"-"+x(this).toString(I);for(var g=c(Math.pow(I,6)),E=this,A="";;){var k=O(E,g).g;E=S(E,k.j(g));var b=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=k,_(E))return b+A;for(;6>b.length;)b="0"+b;A=b+A}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function _(I){if(I.h!=0)return!1;for(var g=0;g<I.g.length;g++)if(I.g[g]!=0)return!1;return!0}function R(I){return I.h==-1}t.l=function(I){return I=S(this,I),R(I)?-1:_(I)?0:1};function x(I){for(var g=I.g.length,E=[],A=0;A<g;A++)E[A]=~I.g[A];return new o(E,~I.h).add(m)}t.abs=function(){return R(this)?x(this):this},t.add=function(I){for(var g=Math.max(this.g.length,I.g.length),E=[],A=0,k=0;k<=g;k++){var b=A+(this.i(k)&65535)+(I.i(k)&65535),P=(b>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);A=P>>>16,b&=65535,P&=65535,E[k]=P<<16|b}return new o(E,E[E.length-1]&-2147483648?-1:0)};function S(I,g){return I.add(x(g))}t.j=function(I){if(_(this)||_(I))return f;if(R(this))return R(I)?x(this).j(x(I)):x(x(this).j(I));if(R(I))return x(this.j(x(I)));if(0>this.l(y)&&0>I.l(y))return c(this.m()*I.m());for(var g=this.g.length+I.g.length,E=[],A=0;A<2*g;A++)E[A]=0;for(A=0;A<this.g.length;A++)for(var k=0;k<I.g.length;k++){var b=this.i(A)>>>16,P=this.i(A)&65535,Q=I.i(k)>>>16,Ae=I.i(k)&65535;E[2*A+2*k]+=P*Ae,v(E,2*A+2*k),E[2*A+2*k+1]+=b*Ae,v(E,2*A+2*k+1),E[2*A+2*k+1]+=P*Q,v(E,2*A+2*k+1),E[2*A+2*k+2]+=b*Q,v(E,2*A+2*k+2)}for(A=0;A<g;A++)E[A]=E[2*A+1]<<16|E[2*A];for(A=g;A<2*g;A++)E[A]=0;return new o(E,0)};function v(I,g){for(;(I[g]&65535)!=I[g];)I[g+1]+=I[g]>>>16,I[g]&=65535,g++}function T(I,g){this.g=I,this.h=g}function O(I,g){if(_(g))throw Error("division by zero");if(_(I))return new T(f,f);if(R(I))return g=O(x(I),g),new T(x(g.g),x(g.h));if(R(g))return g=O(I,x(g)),new T(x(g.g),g.h);if(30<I.g.length){if(R(I)||R(g))throw Error("slowDivide_ only works with positive integers.");for(var E=m,A=g;0>=A.l(I);)E=V(E),A=V(A);var k=C(E,1),b=C(A,1);for(A=C(A,2),E=C(E,2);!_(A);){var P=b.add(A);0>=P.l(I)&&(k=k.add(E),b=P),A=C(A,1),E=C(E,1)}return g=S(I,k.j(g)),new T(k,g)}for(k=f;0<=I.l(g);){for(E=Math.max(1,Math.floor(I.m()/g.m())),A=Math.ceil(Math.log(E)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),b=c(E),P=b.j(g);R(P)||0<P.l(I);)E-=A,b=c(E),P=b.j(g);_(b)&&(b=m),k=k.add(b),I=S(I,P)}return new T(k,I)}t.A=function(I){return O(this,I).h},t.and=function(I){for(var g=Math.max(this.g.length,I.g.length),E=[],A=0;A<g;A++)E[A]=this.i(A)&I.i(A);return new o(E,this.h&I.h)},t.or=function(I){for(var g=Math.max(this.g.length,I.g.length),E=[],A=0;A<g;A++)E[A]=this.i(A)|I.i(A);return new o(E,this.h|I.h)},t.xor=function(I){for(var g=Math.max(this.g.length,I.g.length),E=[],A=0;A<g;A++)E[A]=this.i(A)^I.i(A);return new o(E,this.h^I.h)};function V(I){for(var g=I.g.length+1,E=[],A=0;A<g;A++)E[A]=I.i(A)<<1|I.i(A-1)>>>31;return new o(E,I.h)}function C(I,g){var E=g>>5;g%=32;for(var A=I.g.length-E,k=[],b=0;b<A;b++)k[b]=0<g?I.i(b+E)>>>g|I.i(b+E+1)<<32-g:I.i(b+E);return new o(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ES=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,is=o}).apply(typeof V_<"u"?V_:typeof self<"u"?self:typeof window<"u"?window:{});var Su=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TS,SS,Pa,IS,qu,wp,RS,PS,AS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Su=="object"&&Su];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var p=r;l=l.split(".");for(var w=0;w<l.length-1;w++){var L=l[w];if(!(L in p))break e;p=p[L]}l=l[l.length-1],w=p[l],h=h(w),h!=w&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var p=0,w=!1,L={next:function(){if(!w&&p<l.length){var F=p++;return{value:h(F,l[F]),done:!1}}return w=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,w),l.apply(h,L)}}return function(){return l.apply(h,arguments)}}function m(l,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function y(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var w=p.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function _(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(w,L,F){for(var G=Array(arguments.length-2),je=2;je<arguments.length;je++)G[je-2]=arguments[je];return h.prototype[L].apply(w,G)}}function R(l){const h=l.length;if(0<h){const p=Array(h);for(let w=0;w<h;w++)p[w]=l[w];return p}return[]}function x(l,h){for(let p=1;p<arguments.length;p++){const w=arguments[p];if(u(w)){const L=l.length||0,F=w.length||0;l.length=L+F;for(let G=0;G<F;G++)l[L+G]=w[G]}else l.push(w)}}class S{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function v(l){return/^[\s\xa0]*$/.test(l)}function T(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function O(l){return O[" "](l),l}O[" "]=function(){};var V=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function C(l,h,p){for(const w in l)h.call(p,l[w],w,l)}function I(l,h){for(const p in l)h.call(void 0,l[p],p,l)}function g(l){const h={};for(const p in l)h[p]=l[p];return h}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(l,h){let p,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(p in w)l[p]=w[p];for(let F=0;F<E.length;F++)p=E[F],Object.prototype.hasOwnProperty.call(w,p)&&(l[p]=w[p])}}function k(l){var h=1;l=l.split(":");const p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function b(l){a.setTimeout(()=>{throw l},0)}function P(){var l=Z;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Q{constructor(){this.h=this.g=null}add(h,p){const w=Ae.get();w.set(h,p),this.h?this.h.next=w:this.g=w,this.h=w}}var Ae=new S(()=>new rt,l=>l.reset());class rt{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,K=!1,Z=new Q,re=()=>{const l=a.Promise.resolve(void 0);ge=()=>{l.then(ve)}};var ve=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(p){b(p)}var h=Ae;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}K=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function Ve(l,h){if(ye.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(V){e:{try{O(h.nodeName);var L=!0;break e}catch{}L=!1}L||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Fe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ve.aa.h.call(this)}}_(Ve,ye);var Fe={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),We=0;function It(l,h,p,w,L){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!w,this.ha=L,this.key=++We,this.da=this.fa=!1}function Kt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Gt(l){this.src=l,this.g={},this.h=0}Gt.prototype.add=function(l,h,p,w,L){var F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);var G=Ie(l,h,w,L);return-1<G?(h=l[G],p||(h.fa=!1)):(h=new It(h,this.src,F,!!w,L),h.fa=p,l.push(h)),h};function Le(l,h){var p=h.type;if(p in l.g){var w=l.g[p],L=Array.prototype.indexOf.call(w,h,void 0),F;(F=0<=L)&&Array.prototype.splice.call(w,L,1),F&&(Kt(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Ie(l,h,p,w){for(var L=0;L<l.length;++L){var F=l[L];if(!F.da&&F.listener==h&&F.capture==!!p&&F.ha==w)return L}return-1}var Te="closure_lm_"+(1e6*Math.random()|0),ut={};function pt(l,h,p,w,L){if(Array.isArray(h)){for(var F=0;F<h.length;F++)pt(l,h[F],p,w,L);return null}return p=qr(p),l&&l[De]?l.K(h,p,c(w)?!!w.capture:!!w,L):Cs(l,h,p,!1,w,L)}function Cs(l,h,p,w,L,F){if(!h)throw Error("Invalid event type");var G=c(L)?!!L.capture:!!L,je=Ho(l);if(je||(l[Te]=je=new Gt(l)),p=je.add(h,p,w,G,F),p.proxy)return p;if(w=Jd(),p.proxy=w,w.src=l,w.listener=p,l.addEventListener)ke||(L=G),L===void 0&&(L=!1),l.addEventListener(h.toString(),w,L);else if(l.attachEvent)l.attachEvent(Hl(h.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Jd(){function l(p){return h.call(l.src,l.listener,p)}const h=Yd;return l}function Bo(l,h,p,w,L){if(Array.isArray(h))for(var F=0;F<h.length;F++)Bo(l,h[F],p,w,L);else w=c(w)?!!w.capture:!!w,p=qr(p),l&&l[De]?(l=l.i,h=String(h).toString(),h in l.g&&(F=l.g[h],p=Ie(F,p,w,L),-1<p&&(Kt(F[p]),Array.prototype.splice.call(F,p,1),F.length==0&&(delete l.g[h],l.h--)))):l&&(l=Ho(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Ie(h,p,w,L)),(p=-1<l?h[l]:null)&&$o(p))}function $o(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[De])Le(h.i,l);else{var p=l.type,w=l.proxy;h.removeEventListener?h.removeEventListener(p,w,l.capture):h.detachEvent?h.detachEvent(Hl(p),w):h.addListener&&h.removeListener&&h.removeListener(w),(p=Ho(h))?(Le(p,l),p.h==0&&(p.src=null,h[Te]=null)):Kt(l)}}}function Hl(l){return l in ut?ut[l]:ut[l]="on"+l}function Yd(l,h){if(l.da)l=!0;else{h=new Ve(h,this);var p=l.listener,w=l.ha||l.src;l.fa&&$o(l),l=p.call(w,h)}return l}function Ho(l){return l=l[Te],l instanceof Gt?l:null}var hr="__closure_events_fn_"+(1e9*Math.random()>>>0);function qr(l){return typeof l=="function"?l:(l[hr]||(l[hr]=function(h){return l.handleEvent(h)}),l[hr])}function mt(){me.call(this),this.i=new Gt(this),this.M=this,this.F=null}_(mt,me),mt.prototype[De]=!0,mt.prototype.removeEventListener=function(l,h,p,w){Bo(this,l,h,p,w)};function gt(l,h){var p,w=l.F;if(w)for(p=[];w;w=w.F)p.push(w);if(l=l.M,w=h.type||h,typeof h=="string")h=new ye(h,l);else if(h instanceof ye)h.target=h.target||l;else{var L=h;h=new ye(w,l),A(h,L)}if(L=!0,p)for(var F=p.length-1;0<=F;F--){var G=h.g=p[F];L=cn(G,w,!0,h)&&L}if(G=h.g=l,L=cn(G,w,!0,h)&&L,L=cn(G,w,!1,h)&&L,p)for(F=0;F<p.length;F++)G=h.g=p[F],L=cn(G,w,!1,h)&&L}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],w=0;w<p.length;w++)Kt(p[w]);delete l.g[h],l.h--}}this.F=null},mt.prototype.K=function(l,h,p,w){return this.i.add(String(l),h,!1,p,w)},mt.prototype.L=function(l,h,p,w){return this.i.add(String(l),h,!0,p,w)};function cn(l,h,p,w){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var L=!0,F=0;F<h.length;++F){var G=h[F];if(G&&!G.da&&G.capture==p){var je=G.listener,Pt=G.ha||G.src;G.fa&&Le(l.i,G),L=je.call(Pt,w)!==!1&&L}}return L&&!w.defaultPrevented}function Rn(l,h,p){if(typeof l=="function")p&&(l=m(l,p));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function Wo(l){l.g=Rn(()=>{l.g=null,l.i&&(l.i=!1,Wo(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class ks extends me{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Wo(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ui(l){me.call(this),this.h=l,this.g={}}_(Ui,me);var Dn=[];function qo(l){C(l.g,function(h,p){this.g.hasOwnProperty(p)&&$o(h)},l),l.g={}}Ui.prototype.N=function(){Ui.aa.N.call(this),qo(this)},Ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bs=a.JSON.stringify,Wl=a.JSON.parse,Xd=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function xs(){}xs.prototype.h=null;function ji(l){return l.h||(l.h=l.i())}function Ko(){}var fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kr(){ye.call(this,"d")}_(Kr,ye);function zi(){ye.call(this,"c")}_(zi,ye);var pr={},Go=null;function Os(){return Go=Go||new mt}pr.La="serverreachability";function Qo(l){ye.call(this,pr.La,l)}_(Qo,ye);function mr(l){const h=Os();gt(h,new Qo(h))}pr.STAT_EVENT="statevent";function Bi(l,h){ye.call(this,pr.STAT_EVENT,l),this.stat=h}_(Bi,ye);function Rt(l){const h=Os();gt(h,new Bi(h,l))}pr.Ma="timingevent";function ql(l,h){ye.call(this,pr.Ma,l),this.size=h}_(ql,ye);function N(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function D(){this.g=!0}D.prototype.xa=function(){this.g=!1};function M(l,h,p,w,L,F){l.info(function(){if(l.g)if(F)for(var G="",je=F.split("&"),Pt=0;Pt<je.length;Pt++){var xe=je[Pt].split("=");if(1<xe.length){var Vt=xe[0];xe=xe[1];var Ft=Vt.split("_");G=2<=Ft.length&&Ft[1]=="type"?G+(Vt+"="+xe+"&"):G+(Vt+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+h+`
`+p+`
`+G})}function z(l,h,p,w,L,F,G){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+h+`
`+p+`
`+F+" "+G})}function J(l,h,p,w){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+oe(l,p)+(w?" "+w:"")})}function ee(l,h){l.info(function(){return"TIMEOUT: "+h})}D.prototype.info=function(){};function oe(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var w=p[l];if(!(2>w.length)){var L=w[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<L.length;G++)L[G]=""}}}}return bs(p)}catch{return h}}var q={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ue={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},te;function ne(){}_(ne,xs),ne.prototype.g=function(){return new XMLHttpRequest},ne.prototype.i=function(){return{}},te=new ne;function _e(l,h,p,w){this.j=l,this.i=h,this.l=p,this.R=w||1,this.U=new Ui(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new be}function be(){this.i=null,this.g="",this.h=!1}var Ne={},Re={};function at(l,h,p){l.L=1,l.v=Jl(yr(h)),l.m=p,l.P=!0,Ye(l,null)}function Ye(l,h){l.F=Date.now(),Ln(l),l.A=yr(l.v);var p=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Zg(p.i,"t",w),l.C=0,p=l.j.J,l.h=new be,l.g=yy(l.j,p?h:null,!l.m),0<l.O&&(l.M=new ks(m(l.Y,l,l.g),l.O)),h=l.U,p=l.g,w=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Dn[0]=L.toString()),L=Dn);for(var F=0;F<L.length;F++){var G=pt(p,L[F],w||h.handleEvent,!1,h.h||h);if(!G)break;h.g[G.key]=G}h=l.H?g(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),mr(),M(l.i,l.u,l.A,l.l,l.R,l.m)}_e.prototype.ca=function(l){l=l.target;const h=this.M;h&&vr(l)==3?h.j():this.Y(l)},_e.prototype.Y=function(l){try{if(l==this.g)e:{const Ft=vr(this.g);var h=this.g.Ba();const Ms=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||oy(this.g)))){this.J||Ft!=4||h==7||(h==8||0>=Ms?mr(3):mr(2)),Xn(this);var p=this.g.Z();this.X=p;t:if(Gr(this)){var w=oy(this.g);l="";var L=w.length,F=vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pn(this),Lt(this);var G="";break t}this.h.i=new a.TextDecoder}for(h=0;h<L;h++)this.h.h=!0,l+=this.h.i.decode(w[h],{stream:!(F&&h==L-1)});w.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=p==200,z(this.i,this.u,this.A,this.l,this.R,Ft,p),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Pt=this.g;if((je=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(je)){var xe=je;break t}}xe=null}if(p=xe)J(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qr(this,p);else{this.o=!1,this.s=3,Rt(12),Pn(this),Lt(this);break e}}if(this.P){p=!0;let Mn;for(;!this.J&&this.C<G.length;)if(Mn=Yn(this,G),Mn==Re){Ft==4&&(this.s=4,Rt(14),p=!1),J(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==Ne){this.s=4,Rt(15),J(this.i,this.l,G,"[Invalid Chunk]"),p=!1;break}else J(this.i,this.l,Mn,null),Qr(this,Mn);if(Gr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||G.length!=0||this.h.h||(this.s=1,Rt(16),p=!1),this.o=this.o&&p,!p)J(this.i,this.l,G,"[Invalid Chunked Response]"),Pn(this),Lt(this);else if(0<G.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),nh(Vt),Vt.M=!0,Rt(11))}}else J(this.i,this.l,G,null),Qr(this,G);Ft==4&&Pn(this),this.o&&!this.J&&(Ft==4?fy(this.j,this):(this.o=!1,Ln(this)))}else Z1(this.g),p==400&&0<G.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),Pn(this),Lt(this)}}}catch{}finally{}};function Gr(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Yn(l,h){var p=l.C,w=h.indexOf(`
`,p);return w==-1?Re:(p=Number(h.substring(p,w)),isNaN(p)?Ne:(w+=1,w+p>h.length?Re:(h=h.slice(w,w+p),l.C=w+p,h)))}_e.prototype.cancel=function(){this.J=!0,Pn(this)};function Ln(l){l.S=Date.now()+l.I,gr(l,l.I)}function gr(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=N(m(l.ba,l),h)}function Xn(l){l.B&&(a.clearTimeout(l.B),l.B=null)}_e.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ee(this.i,this.A),this.L!=2&&(mr(),Rt(17)),Pn(this),this.s=2,Lt(this)):gr(this,this.S-l)};function Lt(l){l.j.G==0||l.J||fy(l.j,l)}function Pn(l){Xn(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,qo(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Qr(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||Ue(p.h,l))){if(!l.K&&Ue(p.h,l)&&p.G==3){try{var w=p.Da.g.parse(h)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)tu(p),Zl(p);else break e;th(p),Rt(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=N(m(p.Za,p),6e3));if(1>=Mt(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Hi(p,11)}else if((l.K||p.g==l)&&tu(p),!v(h))for(L=p.Da.g.parse(h),h=0;h<L.length;h++){let xe=L[h];if(p.T=xe[0],xe=xe[1],p.G==2)if(xe[0]=="c"){p.K=xe[1],p.ia=xe[2];const Vt=xe[3];Vt!=null&&(p.la=Vt,p.j.info("VER="+p.la));const Ft=xe[4];Ft!=null&&(p.Aa=Ft,p.j.info("SVER="+p.Aa));const Ms=xe[5];Ms!=null&&typeof Ms=="number"&&0<Ms&&(w=1.5*Ms,p.L=w,p.j.info("backChannelRequestTimeoutMs_="+w)),w=p;const Mn=l.g;if(Mn){const ru=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ru){var F=w.h;F.g||ru.indexOf("spdy")==-1&&ru.indexOf("quic")==-1&&ru.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(dn(F,F.h),F.h=null))}if(w.D){const rh=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;rh&&(w.ya=rh,Ke(w.I,w.D,rh))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),w=p;var G=l;if(w.qa=gy(w,w.J?w.ia:null,w.W),G.K){Jo(w.h,G);var je=G,Pt=w.L;Pt&&(je.I=Pt),je.B&&(Xn(je),Ln(je)),w.g=G}else dy(w);0<p.i.length&&eu(p)}else xe[0]!="stop"&&xe[0]!="close"||Hi(p,7);else p.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Hi(p,7):eh(p):xe[0]!="noop"&&p.l&&p.l.ta(xe),p.v=0)}}mr(4)}catch{}}var Ns=class{constructor(l,h){this.g=l,this.map=h}};function de(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qe(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Mt(l){return l.h?1:l.g?l.g.size:0}function Ue(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function dn(l,h){l.g?l.g.add(h):l.h=h}function Jo(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}de.prototype.cancel=function(){if(this.i=Kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Kl(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const p of l.g.values())h=h.concat(p.D);return h}return R(l.i)}function F1(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],p=l.length,w=0;w<p;w++)h.push(l[w]);return h}h=[],p=0;for(w in l)h[p++]=l[w];return h}function U1(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(const w in l)h[p++]=w;return h}}}function Kg(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=U1(l),w=F1(l),L=w.length,F=0;F<L;F++)h.call(void 0,w[F],p&&p[F],l)}var Gg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function j1(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var w=l[p].indexOf("="),L=null;if(0<=w){var F=l[p].substring(0,w);L=l[p].substring(w+1)}else F=l[p];h(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function $i(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof $i){this.h=l.h,Gl(this,l.j),this.o=l.o,this.g=l.g,Ql(this,l.s),this.l=l.l;var h=l.i,p=new Zo;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),Qg(this,p),this.m=l.m}else l&&(h=String(l).match(Gg))?(this.h=!1,Gl(this,h[1]||"",!0),this.o=Yo(h[2]||""),this.g=Yo(h[3]||"",!0),Ql(this,h[4]),this.l=Yo(h[5]||"",!0),Qg(this,h[6]||"",!0),this.m=Yo(h[7]||"")):(this.h=!1,this.i=new Zo(null,this.h))}$i.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Xo(h,Jg,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Xo(h,Jg,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Xo(p,p.charAt(0)=="/"?$1:B1,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Xo(p,W1)),l.join("")};function yr(l){return new $i(l)}function Gl(l,h,p){l.j=p?Yo(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Ql(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function Qg(l,h,p){h instanceof Zo?(l.i=h,q1(l.i,l.h)):(p||(h=Xo(h,H1)),l.i=new Zo(h,l.h))}function Ke(l,h,p){l.i.set(h,p)}function Jl(l){return Ke(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Yo(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Xo(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,z1),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function z1(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Jg=/[#\/\?@]/g,B1=/[#\?:]/g,$1=/[#\?]/g,H1=/[#\?@]/g,W1=/#/g;function Zo(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Jr(l){l.g||(l.g=new Map,l.h=0,l.i&&j1(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Zo.prototype,t.add=function(l,h){Jr(this),this.i=null,l=Ds(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function Yg(l,h){Jr(l),h=Ds(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Xg(l,h){return Jr(l),h=Ds(l,h),l.g.has(h)}t.forEach=function(l,h){Jr(this),this.g.forEach(function(p,w){p.forEach(function(L){l.call(h,L,w,this)},this)},this)},t.na=function(){Jr(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let w=0;w<h.length;w++){const L=l[w];for(let F=0;F<L.length;F++)p.push(h[w])}return p},t.V=function(l){Jr(this);let h=[];if(typeof l=="string")Xg(this,l)&&(h=h.concat(this.g.get(Ds(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},t.set=function(l,h){return Jr(this),this.i=null,l=Ds(this,l),Xg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Zg(l,h,p){Yg(l,h),0<p.length&&(l.i=null,l.g.set(Ds(l,h),R(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var w=h[p];const F=encodeURIComponent(String(w)),G=this.V(w);for(w=0;w<G.length;w++){var L=F;G[w]!==""&&(L+="="+encodeURIComponent(String(G[w]))),l.push(L)}}return this.i=l.join("&")};function Ds(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function q1(l,h){h&&!l.j&&(Jr(l),l.i=null,l.g.forEach(function(p,w){var L=w.toLowerCase();w!=L&&(Yg(this,w),Zg(this,L,p))},l)),l.j=h}function K1(l,h){const p=new D;if(a.Image){const w=new Image;w.onload=y(Yr,p,"TestLoadImage: loaded",!0,h,w),w.onerror=y(Yr,p,"TestLoadImage: error",!1,h,w),w.onabort=y(Yr,p,"TestLoadImage: abort",!1,h,w),w.ontimeout=y(Yr,p,"TestLoadImage: timeout",!1,h,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else h(!1)}function G1(l,h){const p=new D,w=new AbortController,L=setTimeout(()=>{w.abort(),Yr(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:w.signal}).then(F=>{clearTimeout(L),F.ok?Yr(p,"TestPingServer: ok",!0,h):Yr(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(L),Yr(p,"TestPingServer: error",!1,h)})}function Yr(l,h,p,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(p)}catch{}}function Q1(){this.g=new Xd}function J1(l,h,p){const w=p||"";try{Kg(l,function(L,F){let G=L;c(L)&&(G=bs(L)),h.push(w+F+"="+encodeURIComponent(G))})}catch(L){throw h.push(w+"type="+encodeURIComponent("_badmap")),L}}function ea(l){this.l=l.Ub||null,this.j=l.eb||!1}_(ea,xs),ea.prototype.g=function(){return new Yl(this.l,this.j)},ea.prototype.i=function(l){return function(){return l}}({});function Yl(l,h){mt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Yl,mt),t=Yl.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,na(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ta(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,na(this)),this.g&&(this.readyState=3,na(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ey(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ey(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?ta(this):na(this),this.readyState==3&&ey(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,ta(this))},t.Qa=function(l){this.g&&(this.response=l,ta(this))},t.ga=function(){this.g&&ta(this)};function ta(l){l.readyState=4,l.l=null,l.j=null,l.v=null,na(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function na(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Yl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ty(l){let h="";return C(l,function(p,w){h+=w,h+=":",h+=p,h+=`\r
`}),h}function Zd(l,h,p){e:{for(w in p){var w=!1;break e}w=!0}w||(p=ty(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Ke(l,h,p))}function it(l){mt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(it,mt);var Y1=/^https?$/i,X1=["POST","PUT"];t=it.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,p,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():te.g(),this.v=this.o?ji(this.o):ji(te),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(F){ny(this,F);return}if(l=p||"",p=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)p.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const F of w.keys())p.set(F,w.get(F));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(p.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(X1,h,void 0))||w||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,G]of p)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sy(this),this.u=!0,this.g.send(l),this.u=!1}catch(F){ny(this,F)}};function ny(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,ry(l),Xl(l)}function ry(l){l.A||(l.A=!0,gt(l,"complete"),gt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,gt(this,"complete"),gt(this,"abort"),Xl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xl(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?iy(this):this.bb())},t.bb=function(){iy(this)};function iy(l){if(l.h&&typeof o<"u"&&(!l.v[1]||vr(l)!=4||l.Z()!=2)){if(l.u&&vr(l)==4)Rn(l.Ea,0,l);else if(gt(l,"readystatechange"),vr(l)==4){l.h=!1;try{const G=l.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var w;if(w=G===0){var L=String(l.D).match(Gg)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),w=!Y1.test(L?L.toLowerCase():"")}p=w}if(p)gt(l,"complete"),gt(l,"success");else{l.m=6;try{var F=2<vr(l)?l.g.statusText:""}catch{F=""}l.l=F+" ["+l.Z()+"]",ry(l)}}finally{Xl(l)}}}}function Xl(l,h){if(l.g){sy(l);const p=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||gt(l,"ready");try{p.onreadystatechange=w}catch{}}}function sy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function vr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<vr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Wl(h)}};function oy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Z1(l){const h={};l=(l.g&&2<=vr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(v(l[w]))continue;var p=k(l[w]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const F=h[L]||[];h[L]=F,F.push(p)}I(h,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ra(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function ay(l){this.Aa=0,this.i=[],this.j=new D,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ra("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ra("baseRetryDelayMs",5e3,l),this.cb=ra("retryDelaySeedMs",1e4,l),this.Wa=ra("forwardChannelMaxRetries",2,l),this.wa=ra("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new de(l&&l.concurrentRequestLimit),this.Da=new Q1,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ay.prototype,t.la=8,t.G=1,t.connect=function(l,h,p,w){Rt(0),this.W=l,this.H=h||{},p&&w!==void 0&&(this.H.OSID=p,this.H.OAID=w),this.F=this.X,this.I=gy(this,null,this.W),eu(this)};function eh(l){if(ly(l),l.G==3){var h=l.U++,p=yr(l.I);if(Ke(p,"SID",l.K),Ke(p,"RID",h),Ke(p,"TYPE","terminate"),ia(l,p),h=new _e(l,l.j,h),h.L=2,h.v=Jl(yr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=yy(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Ln(h)}my(l)}function Zl(l){l.g&&(nh(l),l.g.cancel(),l.g=null)}function ly(l){Zl(l),l.u&&(a.clearTimeout(l.u),l.u=null),tu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function eu(l){if(!qe(l.h)&&!l.s){l.s=!0;var h=l.Ga;ge||re(),K||(ge(),K=!0),Z.add(h,l),l.B=0}}function eR(l,h){return Mt(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=N(m(l.Ga,l,h),py(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new _e(this,this.j,l);let F=this.o;if(this.S&&(F?(F=g(F),A(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var w=this.i[p];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(h+=w,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=cy(this,L,h),p=yr(this.I),Ke(p,"RID",l),Ke(p,"CVER",22),this.D&&Ke(p,"X-HTTP-Session-Id",this.D),ia(this,p),F&&(this.O?h="headers="+encodeURIComponent(String(ty(F)))+"&"+h:this.m&&Zd(p,this.m,F)),dn(this.h,L),this.Ua&&Ke(p,"TYPE","init"),this.P?(Ke(p,"$req",h),Ke(p,"SID","null"),L.T=!0,at(L,p,null)):at(L,p,h),this.G=2}}else this.G==3&&(l?uy(this,l):this.i.length==0||qe(this.h)||uy(this))};function uy(l,h){var p;h?p=h.l:p=l.U++;const w=yr(l.I);Ke(w,"SID",l.K),Ke(w,"RID",p),Ke(w,"AID",l.T),ia(l,w),l.m&&l.o&&Zd(w,l.m,l.o),p=new _e(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=cy(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),dn(l.h,p),at(p,w,h)}function ia(l,h){l.H&&C(l.H,function(p,w){Ke(h,w,p)}),l.l&&Kg({},function(p,w){Ke(h,w,p)})}function cy(l,h,p){p=Math.min(l.i.length,p);var w=l.l?m(l.l.Na,l.l,l):null;e:{var L=l.i;let F=-1;for(;;){const G=["count="+p];F==-1?0<p?(F=L[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let je=!0;for(let Pt=0;Pt<p;Pt++){let xe=L[Pt].g;const Vt=L[Pt].map;if(xe-=F,0>xe)F=Math.max(0,L[Pt].g-100),je=!1;else try{J1(Vt,G,"req"+xe+"_")}catch{w&&w(Vt)}}if(je){w=G.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,w}function dy(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;ge||re(),K||(ge(),K=!0),Z.add(h,l),l.v=0}}function th(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=N(m(l.Fa,l),py(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,hy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=N(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),Zl(this),hy(this))};function nh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function hy(l){l.g=new _e(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=yr(l.qa);Ke(h,"RID","rpc"),Ke(h,"SID",l.K),Ke(h,"AID",l.T),Ke(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ke(h,"TO",l.ja),Ke(h,"TYPE","xmlhttp"),ia(l,h),l.m&&l.o&&Zd(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=Jl(yr(h)),p.m=null,p.P=!0,Ye(p,l)}t.Za=function(){this.C!=null&&(this.C=null,Zl(this),th(this),Rt(19))};function tu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function fy(l,h){var p=null;if(l.g==h){tu(l),nh(l),l.g=null;var w=2}else if(Ue(l.h,h))p=h.D,Jo(l.h,h),w=1;else return;if(l.G!=0){if(h.o)if(w==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var L=l.B;w=Os(),gt(w,new ql(w,p)),eu(l)}else dy(l);else if(L=h.s,L==3||L==0&&0<h.X||!(w==1&&eR(l,h)||w==2&&th(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),L){case 1:Hi(l,5);break;case 4:Hi(l,10);break;case 3:Hi(l,6);break;default:Hi(l,2)}}}function py(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function Hi(l,h){if(l.j.info("Error code "+h),h==2){var p=m(l.fb,l),w=l.Xa;const L=!w;w=new $i(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Gl(w,"https"),Jl(w),L?K1(w.toString(),p):G1(w.toString(),p)}else Rt(2);l.G=0,l.l&&l.l.sa(h),my(l),ly(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function my(l){if(l.G=0,l.ka=[],l.l){const h=Kl(l.h);(h.length!=0||l.i.length!=0)&&(x(l.ka,h),x(l.ka,l.i),l.h.i.length=0,R(l.i),l.i.length=0),l.l.ra()}}function gy(l,h,p){var w=p instanceof $i?yr(p):new $i(p);if(w.g!="")h&&(w.g=h+"."+w.g),Ql(w,w.s);else{var L=a.location;w=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;var F=new $i(null);w&&Gl(F,w),h&&(F.g=h),L&&Ql(F,L),p&&(F.l=p),w=F}return p=l.D,h=l.ya,p&&h&&Ke(w,p,h),Ke(w,"VER",l.la),ia(l,w),w}function yy(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new it(new ea({eb:p})):new it(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vy(){}t=vy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nu(){}nu.prototype.g=function(l,h){return new hn(l,h)};function hn(l,h){mt.call(this),this.g=new ay(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!v(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!v(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Ls(this)}_(hn,mt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){eh(this.g)},hn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=bs(l),l=p);h.i.push(new Ns(h.Ya++,l)),h.G==3&&eu(h)},hn.prototype.N=function(){this.g.l=null,delete this.j,eh(this.g),delete this.g,hn.aa.N.call(this)};function _y(l){Kr.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}_(_y,Kr);function wy(){zi.call(this),this.status=1}_(wy,zi);function Ls(l){this.g=l}_(Ls,vy),Ls.prototype.ua=function(){gt(this.g,"a")},Ls.prototype.ta=function(l){gt(this.g,new _y(l))},Ls.prototype.sa=function(l){gt(this.g,new wy)},Ls.prototype.ra=function(){gt(this.g,"b")},nu.prototype.createWebChannel=nu.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,AS=function(){return new nu},PS=function(){return Os()},RS=pr,wp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},q.NO_ERROR=0,q.TIMEOUT=8,q.HTTP_ERROR=6,qu=q,ue.COMPLETE="complete",IS=ue,Ko.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Pa=Ko,SS=ea,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,TS=it}).apply(typeof Su<"u"?Su:typeof self<"u"?self:typeof window<"u"?window:{});const F_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new Jm("@firebase/firestore");function ga(){return vs.logLevel}function X(t,...e){if(vs.logLevel<=Se.DEBUG){const n=e.map(lg);vs.debug(`Firestore (${Vo}): ${t}`,...n)}}function Fr(t,...e){if(vs.logLevel<=Se.ERROR){const n=e.map(lg);vs.error(`Firestore (${Vo}): ${t}`,...n)}}function Io(t,...e){if(vs.logLevel<=Se.WARN){const n=e.map(lg);vs.warn(`Firestore (${Vo}): ${t}`,...n)}}function lg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: `+t;throw Fr(e),new Error(e)}function He(t,e){t||le()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class PD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class AD{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ii,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ii)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new CS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Bt(e)}}class CD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new CD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new bD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=OD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function Ro(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new wt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new wt(0,0))}static max(){return new ce(new wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return pl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ot extends pl{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const ND=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends pl{construct(e,n,r){return new bt(e,n,r)}static isValidIdentifier(e){return ND.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new bt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ie($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ie($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ie($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ie($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(n)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(ot.fromString(e))}static fromName(e){return new se(ot.fromString(e).popFirst(5))}static empty(){return new se(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new ot(e.slice()))}}function DD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new wt(n+1,0):new wt(n,r));return new Ci(i,se.empty(),e)}function LD(t){return new Ci(t.readTime,t.key,-1)}class Ci{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ci(ce.min(),se.empty(),-1)}static max(){return new Ci(ce.max(),se.empty(),-1)}}function MD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==VD)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function UD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ug.oe=-1;function kd(t){return t==null}function $c(t){return t===0&&1/t==-1/0}function jD(t){return typeof t=="number"&&Number.isInteger(t)&&!$c(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ps(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Iu(this.root,e,this.comparator,!0)}}class Iu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??kt.RED,this.left=i??kt.EMPTY,this.right=s??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new kt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,i,s){return this}insert(e,n,r){return new kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new j_(this.data.getIterator())}getIteratorFrom(e){return new j_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class j_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new yn([])}unionWith(e){let n=new Ot(bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xS("Invalid base64 string: "+s):s}}(e);return new qt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const zD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ki(t){if(He(!!t),typeof t=="string"){let e=0;const n=zD.exec(t);if(He(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _s(t){return typeof t=="string"?qt.fromBase64String(t):qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function dg(t){const e=t.mapValue.fields.__previous_value__;return cg(e)?dg(e):e}function ml(t){const e=ki(t.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class gl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cg(t)?4:$D(t)?9007199254740991:10:le()}function cr(t,e){if(t===e)return!0;const n=ws(t);if(n!==ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ml(t).isEqual(ml(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ki(i.timestampValue),a=ki(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return _s(i.bytesValue).isEqual(_s(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ht(i.geoPointValue.latitude)===ht(s.geoPointValue.latitude)&&ht(i.geoPointValue.longitude)===ht(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ht(i.integerValue)===ht(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ht(i.doubleValue),a=ht(s.doubleValue);return o===a?$c(o)===$c(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ro(t.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(U_(o)!==U_(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!cr(o[u],a[u])))return!1;return!0}(t,e);default:return le()}}function yl(t,e){return(t.values||[]).find(n=>cr(n,e))!==void 0}function Po(t,e){if(t===e)return 0;const n=ws(t),r=ws(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ht(s.integerValue||s.doubleValue),u=ht(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return z_(t.timestampValue,e.timestampValue);case 4:return z_(ml(t),ml(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=_s(s),u=_s(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=Oe(a[c],u[c]);if(d!==0)return d}return Oe(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Oe(ht(s.latitude),ht(o.latitude));return a!==0?a:Oe(ht(s.longitude),ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let c=0;c<a.length&&c<u.length;++c){const d=Po(a[c],u[c]);if(d)return d}return Oe(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ru.mapValue&&o===Ru.mapValue)return 0;if(s===Ru.mapValue)return 1;if(o===Ru.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const m=Oe(u[f],d[f]);if(m!==0)return m;const y=Po(a[u[f]],c[d[f]]);if(y!==0)return y}return Oe(u.length,d.length)}(t.mapValue,e.mapValue);default:throw le()}}function z_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=ki(t),r=ki(e),i=Oe(n.seconds,r.seconds);return i!==0?i:Oe(n.nanos,r.nanos)}function Ao(t){return Ep(t)}function Ep(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ki(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _s(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ep(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ep(n.fields[o])}`;return i+"}"}(t.mapValue):le()}function Tp(t){return!!t&&"integerValue"in t}function hg(t){return!!t&&"arrayValue"in t}function B_(t){return!!t&&"nullValue"in t}function $_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ku(t){return!!t&&"mapValue"in t}function ja(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ps(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ja(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ja(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $D(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ku(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ja(n)}setAll(e){let n=bt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ja(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ku(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ku(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ps(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nn(ja(this.value))}}function OS(t){const e=[];return Ps(t.fields,(n,r)=>{const i=new bt([n]);if(Ku(r)){const s=OS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ht(e,0,ce.min(),ce.min(),ce.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ht(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new Ht(e,2,n,ce.min(),ce.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,ce.min(),ce.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.position=e,this.inclusive=n}}function H_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=Po(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function W_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n="asc"){this.field=e,this.dir=n}}function HD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{}class vt extends NS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qD(e,n,r):n==="array-contains"?new QD(e,r):n==="in"?new JD(e,r):n==="not-in"?new YD(e,r):n==="array-contains-any"?new XD(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new KD(e,r):new GD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Po(n,this.value)):n!==null&&ws(this.value)===ws(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends NS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new dr(e,n)}matches(e){return DS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function DS(t){return t.op==="and"}function LS(t){return WD(t)&&DS(t)}function WD(t){for(const e of t.filters)if(e instanceof dr)return!1;return!0}function Sp(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+Ao(t.value);if(LS(t))return t.filters.map(e=>Sp(e)).join(",");{const e=t.filters.map(n=>Sp(n)).join(",");return`${t.op}(${e})`}}function MS(t,e){return t instanceof vt?function(r,i){return i instanceof vt&&r.op===i.op&&r.field.isEqual(i.field)&&cr(r.value,i.value)}(t,e):t instanceof dr?function(r,i){return i instanceof dr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&MS(o,i.filters[a]),!0):!1}(t,e):void le()}function VS(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`}(t):t instanceof dr?function(n){return n.op.toString()+" {"+n.getFilters().map(VS).join(" ,")+"}"}(t):"Filter"}class qD extends vt{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class KD extends vt{constructor(e,n){super(e,"in",n),this.keys=FS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class GD extends vt{constructor(e,n){super(e,"not-in",n),this.keys=FS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function FS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class QD extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hg(n)&&yl(n.arrayValue,this.value)}}class JD extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yl(this.value.arrayValue,n)}}class YD extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!yl(this.value.arrayValue,n)}}class XD extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function q_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ZD(t,e,n,r,i,s,o)}function fg(t){const e=he(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),kd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ao(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ao(r)).join(",")),e.ue=n}return e.ue}function pg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!W_(t.startAt,e.startAt)&&W_(t.endAt,e.endAt)}function Ip(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function eL(t,e,n,r,i,s,o,a){return new bd(t,e,n,r,i,s,o,a)}function mg(t){return new bd(t)}function K_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tL(t){return t.collectionGroup!==null}function za(t){const e=he(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ot(bt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wc(s,r))}),n.has(bt.keyField().canonicalString())||e.ce.push(new Wc(bt.keyField(),r))}return e.ce}function ar(t){const e=he(t);return e.le||(e.le=nL(e,za(t))),e.le}function nL(t,e){if(t.limitType==="F")return q_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wc(i.field,s)});const n=t.endAt?new Hc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hc(t.startAt.position,t.startAt.inclusive):null;return q_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Rp(t,e,n){return new bd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xd(t,e){return pg(ar(t),ar(e))&&t.limitType===e.limitType}function US(t){return`${fg(ar(t))}|lt:${t.limitType}`}function Us(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>VS(i)).join(", ")}]`),kd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ao(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ao(i)).join(",")),`Target(${r})`}(ar(t))}; limitType=${t.limitType})`}function Od(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):se.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of za(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=H_(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,za(r),i)||r.endAt&&!function(o,a,u){const c=H_(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,za(r),i))}(t,e)}function rL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jS(t){return(e,n)=>{let r=!1;for(const i of za(t)){const s=iL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function iL(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?Po(u,c):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return bS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=new nt(se.comparator);function Ur(){return sL}const zS=new nt(se.comparator);function Aa(...t){let e=zS;for(const n of t)e=e.insert(n.key,n);return e}function BS(t){let e=zS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ts(){return Ba()}function $S(){return Ba()}function Ba(){return new Fo(t=>t.toString(),(t,e)=>t.isEqual(e))}const oL=new nt(se.comparator),aL=new Ot(se.comparator);function Ee(...t){let e=aL;for(const n of t)e=e.add(n);return e}const lL=new Ot(Oe);function uL(){return lL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function WS(t){return{integerValue:""+t}}function cL(t,e){return jD(e)?WS(e):HS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(){this._=void 0}}function dL(t,e,n){return t instanceof qc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&cg(s)&&(s=dg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof vl?KS(t,e):t instanceof _l?GS(t,e):function(i,s){const o=qS(i,s),a=G_(o)+G_(i.Pe);return Tp(o)&&Tp(i.Pe)?WS(a):HS(i.serializer,a)}(t,e)}function hL(t,e,n){return t instanceof vl?KS(t,e):t instanceof _l?GS(t,e):n}function qS(t,e){return t instanceof Kc?function(r){return Tp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class qc extends Nd{}class vl extends Nd{constructor(e){super(),this.elements=e}}function KS(t,e){const n=QS(e);for(const r of t.elements)n.some(i=>cr(i,r))||n.push(r);return{arrayValue:{values:n}}}class _l extends Nd{constructor(e){super(),this.elements=e}}function GS(t,e){let n=QS(e);for(const r of t.elements)n=n.filter(i=>!cr(i,r));return{arrayValue:{values:n}}}class Kc extends Nd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function G_(t){return ht(t.integerValue||t.doubleValue)}function QS(t){return hg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function fL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof vl&&i instanceof vl||r instanceof _l&&i instanceof _l?Ro(r.elements,i.elements,cr):r instanceof Kc&&i instanceof Kc?cr(r.Pe,i.Pe):r instanceof qc&&i instanceof qc}(t.transform,e.transform)}class pL{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dd{}function JS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new XS(t.key,lr.none()):new Fl(t.key,t.data,lr.none());{const n=t.data,r=nn.empty();let i=new Ot(bt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Fi(t.key,r,new yn(i.toArray()),lr.none())}}function mL(t,e,n){t instanceof Fl?function(i,s,o){const a=i.value.clone(),u=J_(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fi?function(i,s,o){if(!Gu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=J_(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(YS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function $a(t,e,n,r){return t instanceof Fl?function(s,o,a,u){if(!Gu(s.precondition,o))return a;const c=s.value.clone(),d=Y_(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fi?function(s,o,a,u){if(!Gu(s.precondition,o))return a;const c=Y_(s.fieldTransforms,u,o),d=o.data;return d.setAll(YS(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Gu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function gL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=qS(r.transform,i||null);s!=null&&(n===null&&(n=nn.empty()),n.set(r.field,s))}return n||null}function Q_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ro(r,i,(s,o)=>fL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fl extends Dd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fi extends Dd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function YS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function J_(t,e,n){const r=new Map;He(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,hL(o,a,n[i]))}return r}function Y_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,dL(s,o,e))}return r}class XS extends Dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yL extends Dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&mL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$a(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$a(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$S();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=JS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,(n,r)=>Q_(n,r))&&Ro(this.baseMutations,e.baseMutations,(n,r)=>Q_(n,r))}}class gg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){He(e.mutations.length===r.length);let i=function(){return oL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new gg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Pe;function EL(t){switch(t){default:return le();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function ZS(t){if(t===void 0)return Fr("GRPC error has no .code"),$.UNKNOWN;switch(t){case ct.OK:return $.OK;case ct.CANCELLED:return $.CANCELLED;case ct.UNKNOWN:return $.UNKNOWN;case ct.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ct.INTERNAL:return $.INTERNAL;case ct.UNAVAILABLE:return $.UNAVAILABLE;case ct.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ct.NOT_FOUND:return $.NOT_FOUND;case ct.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ct.ABORTED:return $.ABORTED;case ct.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ct.DATA_LOSS:return $.DATA_LOSS;default:return le()}}(Pe=ct||(ct={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=new is([4294967295,4294967295],0);function X_(t){const e=TL().encode(t),n=new ES;return n.update(e),new Uint8Array(n.digest())}function Z_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new is([n,r],0),new is([i,s],0)]}class yg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ca(`Invalid padding: ${n}`);if(r<0)throw new Ca(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ca(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ca(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=is.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(is.fromNumber(r)));return i.compare(SL)===1&&(i=new is([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=X_(e),[r,i]=Z_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new yg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=X_(e),[r,i]=Z_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ca extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ul.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ld(ce.min(),i,new nt(Oe),Ur(),Ee())}}class Ul{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ul(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class eI{constructor(e,n){this.targetId=e,this.me=n}}class tI{constructor(e,n,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class e0{constructor(){this.fe=0,this.ge=n0(),this.pe=qt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Ee(),n=Ee(),r=Ee();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new Ul(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=n0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,He(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class IL{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ur(),this.qe=t0(),this.Qe=new nt(Oe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Ip(s))if(r===0){const o=new se(s.path);this.Ue(n,o,Ht.newNoDocument(o,ce.min()))}else He(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=_s(r).toUint8Array()}catch(u){if(u instanceof xS)return Io("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new yg(o,i,s)}catch(u){return Io(u instanceof Ca?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Ip(a.target)){const u=new se(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Ht.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=Ee();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Ld(e,n,this.Qe,this.ke,r);return this.ke=Ur(),this.qe=t0(),this.Qe=new nt(Oe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new e0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ot(Oe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new e0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function t0(){return new nt(se.comparator)}function n0(){return new nt(se.comparator)}const RL={asc:"ASCENDING",desc:"DESCENDING"},PL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AL={and:"AND",or:"OR"};class CL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pp(t,e){return t.useProto3Json||kd(e)?e:{value:e}}function Gc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kL(t,e){return Gc(t,e.toTimestamp())}function ur(t){return He(!!t),ce.fromTimestamp(function(n){const r=ki(n);return new wt(r.seconds,r.nanos)}(t))}function vg(t,e){return Ap(t,e).canonicalString()}function Ap(t,e){const n=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rI(t){const e=ot.fromString(t);return He(lI(e)),e}function Cp(t,e){return vg(t.databaseId,e.path)}function Wh(t,e){const n=rI(e);if(n.get(1)!==t.databaseId.projectId)throw new ie($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(sI(n))}function iI(t,e){return vg(t.databaseId,e)}function bL(t){const e=rI(t);return e.length===4?ot.emptyPath():sI(e)}function kp(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sI(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function r0(t,e,n){return{name:Cp(t,e),fields:n.value.mapValue.fields}}function xL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(He(d===void 0||typeof d=="string"),qt.fromBase64String(d||"")):(He(d===void 0||d instanceof Buffer||d instanceof Uint8Array),qt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?$.UNKNOWN:ZS(c.code);return new ie(d,c.message||"")}(o);n=new tI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wh(t,r.document.name),s=ur(r.document.updateTime),o=r.document.createTime?ur(r.document.createTime):ce.min(),a=new nn({mapValue:{fields:r.document.fields}}),u=Ht.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Qu(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Wh(t,r.document),s=r.readTime?ur(r.readTime):ce.min(),o=Ht.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Qu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Wh(t,r.document),s=r.removedTargetIds||[];n=new Qu([],s,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new wL(i,s),a=r.targetId;n=new eI(a,o)}}return n}function OL(t,e){let n;if(e instanceof Fl)n={update:r0(t,e.key,e.value)};else if(e instanceof XS)n={delete:Cp(t,e.key)};else if(e instanceof Fi)n={update:r0(t,e.key,e.data),updateMask:zL(e.fieldMask)};else{if(!(e instanceof yL))return le();n={verify:Cp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof qc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _l)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Kc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:kL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:le()}(t,e.precondition)),n}function NL(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ur(i.updateTime):ur(s);return o.isEqual(ce.min())&&(o=ur(s)),new pL(o,i.transformResults||[])}(n,e))):[]}function DL(t,e){return{documents:[iI(t,e.path)]}}function LL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iI(t,i);const s=function(c){if(c.length!==0)return aI(dr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:js(m.field),direction:FL(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Pp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function ML(t){let e=bL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){He(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const m=oI(f);return m instanceof dr&&LS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(_){return new Wc(zs(_.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,kd(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,y=f.values||[];return new Hc(y,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,y=f.values||[];return new Hc(y,m)}(n.endAt)),eL(e,i,o,s,a,"F",u,c)}function VL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zs(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zs(n.unaryFilter.field);return vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=zs(n.unaryFilter.field);return vt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zs(n.unaryFilter.field);return vt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return vt.create(zs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return dr.create(n.compositeFilter.filters.map(r=>oI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function FL(t){return RL[t]}function UL(t){return PL[t]}function jL(t){return AL[t]}function js(t){return{fieldPath:t.canonicalString()}}function zs(t){return bt.fromServerFormat(t.fieldPath)}function aI(t){return t instanceof vt?function(n){if(n.op==="=="){if($_(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NAN"}};if(B_(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($_(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NOT_NAN"}};if(B_(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:js(n.field),op:UL(n.op),value:n.value}}}(t):t instanceof dr?function(n){const r=n.getFilters().map(i=>aI(i));return r.length===1?r[0]:{compositeFilter:{op:jL(n.op),filters:r}}}(t):le()}function zL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,r,i,s=ce.min(),o=ce.min(),a=qt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.ct=e}}function $L(t){const e=ML({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(){this._n=new WL}addToCollectionParentIndex(e,n){return this._n.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Ci.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Ci.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class WL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ot(ot.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Co(0)}static Ln(){return new Co(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(){this.changes=new Fo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$a(r.mutation,i,yn.empty(),wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=ts();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Aa();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ts();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ur();const o=Ba(),a=function(){return Ba()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Fi)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),$a(d.mutation,c,d.mutation.getFieldMask(),wt.now())):o.set(c.key,yn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new KL(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ba();let i=new nt((o,a)=>o-a),s=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||yn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const f=(i.get(a.batchId)||Ee()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,f=$S();d.forEach(m=>{if(!s.has(m)){const y=JS(n.get(m),r.get(m));y!==null&&f.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(ts());let a=-1,u=s;return o.next(c=>B.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Ee())).next(d=>({batchId:a,changes:BS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=Aa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Aa();return this.indexManager.getCollectionParents(e,s).next(a=>B.forEach(a,u=>{const c=function(f,m){return new bd(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Ht.newInvalidDocument(d)))});let a=Aa();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&$a(d.mutation,c,yn.empty(),wt.now()),Od(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return B.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ur(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:$L(i.bundledQuery),readTime:ur(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(){this.overlays=new nt(se.comparator),this.hr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ts();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=ts(),s=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=ts(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=ts(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return B.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _L(n,r));let s=this.hr.get(n);s===void 0&&(s=Ee(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(){this.Pr=new Ot(Et.Ir),this.Tr=new Ot(Et.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Et(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Et(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new se(new ot([])),r=new Et(n,e),i=new Et(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new se(new ot([])),r=new Et(n,e),i=new Et(n,e+1);let s=Ee();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Et(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Et{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return se.comparator(e.key,n.key)||Oe(e.pr,n.pr)}static Er(e,n){return Oe(e.pr,n.pr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ot(Et.Ir)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new vL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Et(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Et(n,0),i=new Et(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(Oe);return n.forEach(i=>{const s=new Et(i,0),o=new Et(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),B.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;se.isDocumentKey(s)||(s=s.child(""));const o=new Et(new se(s),0);let a=new Ot(Oe);return this.wr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.pr)),!0)},o),B.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){He(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return B.forEach(n.mutations,i=>{const s=new Et(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Et(n,0),i=this.wr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.vr=e,this.docs=function(){return new nt(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=Ur();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ht.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ur();const o=n.path,a=new se(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||MD(LD(d),r)<=0||(i.has(d.key)||Od(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){le()}Fr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZL(this)}getSize(e){return B.resolve(this.size)}}class ZL extends qL{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.persistence=e,this.Mr=new Fo(n=>fg(n),pg),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Or=0,this.Nr=new _g,this.targetCount=0,this.Lr=Co.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),B.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Co(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.qn(n),B.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n){this.Br={},this.overlays={},this.kr=new ug(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new e2(this),this.indexManager=new HL,this.remoteDocumentCache=function(i){return new XL(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new BL(n),this.$r=new QL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new YL(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new n2(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return B.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class n2 extends FD{constructor(e){super(),this.currentSequenceNumber=e}}class wg{constructor(e){this.persistence=e,this.zr=new _g,this.jr=null}static Hr(e){return new wg(e)}get Jr(){if(this.jr)return this.jr;throw le()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),B.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Jr,r=>{const i=se.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ce.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return B.or([()=>B.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ee(),i=Ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Eg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Gb()?8:UD(Dt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new r2;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(ga()<=Se.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),B.resolve()):(ga()<=Se.DEBUG&&X("QueryEngine","Query:",Us(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ga()<=Se.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(n))):B.resolve())}ji(e,n){if(K_(n))return B.resolve(null);let r=ar(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Rp(n,null,"F"),r=ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ee(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Zi(n,a);return this.Xi(n,c,o,u.readTime)?this.ji(e,Rp(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return K_(n)||i.isEqual(ce.min())?B.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?B.resolve(null):(ga()<=Se.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Us(n)),this.es(e,o,n,DD(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ot(jS(e));return n.forEach((i,s)=>{Od(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return ga()<=Se.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Us(n)),this.zi.getDocumentsMatchingQuery(e,n,Ci.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new nt(Oe),this.rs=new Fo(s=>fg(s),pg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GL(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function o2(t,e,n,r){return new s2(t,e,n,r)}async function uI(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Ee();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function a2(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,m=f.keys();let y=B.resolve();return m.forEach(_=>{y=y.next(()=>d.getEntry(u,_)).next(R=>{const x=c.docVersions.get(_);He(x!==null),R.version.compareTo(x)<0&&(f.applyToRemoteDocument(R,c),R.isValidDocument()&&(R.setReadTime(c.commitVersion),d.addEntry(R)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ee();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function cI(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function l2(t,e){const n=he(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((d,f)=>{const m=i.get(f);if(!m)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,f)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(qt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(f,y),function(R,x,S){return R.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(m,y,d)&&a.push(n.Qr.updateTargetData(s,y))});let u=Ur(),c=Ee();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(u2(s,o,e.documentUpdates).next(d=>{u=d.cs,c=d.ls})),!r.isEqual(ce.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.ns=i,s))}function u2(t,e,n){let r=Ee(),i=Ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ur();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ce.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{cs:o,ls:i}})}function c2(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function d2(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new hi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function bp(t,e,n){const r=he(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Vl(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function i0(t,e,n){const r=he(t);let i=ce.min(),s=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=he(u),m=f.rs.get(d);return m!==void 0?B.resolve(f.ns.get(m)):f.Qr.getTargetData(c,d)}(r,o,ar(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ce.min(),n?s:Ee())).next(a=>(h2(r,rL(e),a),{documents:a,hs:s})))}function h2(t,e,n){let r=t.ss.get(e)||ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class s0{constructor(){this.activeTargetIds=uL()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f2{constructor(){this.no=new s0,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new s0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu=null;function qh(){return Pu===null?Pu=function(){return 268435456+Math.round(2147483648*Math.random())}():Pu++,"0x"+Pu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class y2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=qh(),u=this.vo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,u,c,i).then(d=>(X("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Io("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=m2[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=qh();return new Promise((o,a)=>{const u=new TS;u.setWithCredentials(!0),u.listenOnce(IS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case qu.NO_ERROR:const d=u.getResponseJson();X(zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case qu.TIMEOUT:X(zt,`RPC '${e}' ${s} timed out`),a(new ie($.DEADLINE_EXCEEDED,"Request time out"));break;case qu.HTTP_ERROR:const f=u.getStatus();if(X(zt,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const _=function(x){const S=x.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(S)>=0?S:$.UNKNOWN}(y.status);a(new ie(_,y.message))}else a(new ie($.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ie($.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{X(zt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);X(zt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=qh(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=AS(),a=PS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new SS({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");X(zt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const f=o.createWebChannel(d,u);let m=!1,y=!1;const _=new g2({lo:x=>{y?X(zt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(X(zt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),X(zt,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},ho:()=>f.close()}),R=(x,S,v)=>{x.listen(S,T=>{try{v(T)}catch(O){setTimeout(()=>{throw O},0)}})};return R(f,Pa.EventType.OPEN,()=>{y||(X(zt,`RPC '${e}' stream ${i} transport opened.`),_.mo())}),R(f,Pa.EventType.CLOSE,()=>{y||(y=!0,X(zt,`RPC '${e}' stream ${i} transport closed`),_.po())}),R(f,Pa.EventType.ERROR,x=>{y||(y=!0,Io(zt,`RPC '${e}' stream ${i} transport errored:`,x),_.po(new ie($.UNAVAILABLE,"The operation could not be completed")))}),R(f,Pa.EventType.MESSAGE,x=>{var S;if(!y){const v=x.data[0];He(!!v);const T=v,O=T.error||((S=T[0])===null||S===void 0?void 0:S.error);if(O){X(zt,`RPC '${e}' stream ${i} received error:`,O);const V=O.status;let C=function(E){const A=ct[E];if(A!==void 0)return ZS(A)}(V),I=O.message;C===void 0&&(C=$.INTERNAL,I="Unknown error status: "+V+" with message "+O.message),y=!0,_.po(new ie(C,I)),f.close()}else X(zt,`RPC '${e}' stream ${i} received:`,v),_.yo(v)}}),R(a,RS.STAT_EVENT,x=>{x.stat===wp.PROXY?X(zt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===wp.NOPROXY&&X(zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.fo()},0),_}}function Kh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t){return new CL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n,r,i,s,o,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new dI(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Fr(n.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new ie($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class v2 extends hI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=xL(this.serializer,e),r=function(s){if(!("targetChange"in s))return ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?ur(o.readTime):ce.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=kp(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Ip(u)?{documents:DL(s,u)}:{query:LL(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=nI(s,o.resumeToken);const c=Pp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=Gc(s,o.snapshotVersion.toTimestamp());const c=Pp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=VL(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=kp(this.serializer),n.removeTarget=e,this.i_(n)}}class _2 extends hI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=NL(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.A_(r,n)}return He(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=kp(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>OL(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,Ap(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie($.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,Ap(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie($.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class E2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Fr(n),this.y_=!1):X("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{As(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=he(u);c.M_.add(4),await jl(c),c.N_.set("Unknown"),c.M_.delete(4),await Vd(c)}(this))})}),this.N_=new E2(r,i)}}async function Vd(t){if(As(t))for(const e of t.x_)await e(!0)}async function jl(t){for(const e of t.x_)await e(!1)}function fI(t,e){const n=he(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Rg(n)?Ig(n):Uo(n).Xo()&&Sg(n,e))}function Tg(t,e){const n=he(t),r=Uo(n);n.F_.delete(e),r.Xo()&&pI(n,e),n.F_.size===0&&(r.Xo()?r.n_():As(n)&&n.N_.set("Unknown"))}function Sg(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uo(t).P_(e)}function pI(t,e){t.L_.xe(e),Uo(t).I_(e)}function Ig(t){t.L_=new IL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Uo(t).start(),t.N_.w_()}function Rg(t){return As(t)&&!Uo(t).Zo()&&t.F_.size>0}function As(t){return he(t).M_.size===0}function mI(t){t.L_=void 0}async function S2(t){t.N_.set("Online")}async function I2(t){t.F_.forEach((e,n)=>{Sg(t,e)})}async function R2(t,e){mI(t),Rg(t)?(t.N_.D_(e),Ig(t)):t.N_.set("Unknown")}async function P2(t,e,n){if(t.N_.set("Online"),e instanceof tI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qc(t,r)}else if(e instanceof Qu?t.L_.Ke(e):e instanceof eI?t.L_.He(e):t.L_.We(e),!n.isEqual(ce.min()))try{const r=await cI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.F_.get(c);d&&s.F_.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=s.F_.get(u);if(!d)return;s.F_.set(u,d.withResumeToken(qt.EMPTY_BYTE_STRING,d.snapshotVersion)),pI(s,u);const f=new hi(d.target,u,c,d.sequenceNumber);Sg(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await Qc(t,r)}}async function Qc(t,e,n){if(!Vl(e))throw e;t.M_.add(1),await jl(t),t.N_.set("Offline"),n||(n=()=>cI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Vd(t)})}function gI(t,e){return e().catch(n=>Qc(t,n,e))}async function Fd(t){const e=he(t),n=bi(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;A2(e);)try{const i=await c2(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,C2(e,i)}catch(i){await Qc(e,i)}yI(e)&&vI(e)}function A2(t){return As(t)&&t.v_.length<10}function C2(t,e){t.v_.push(e);const n=bi(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function yI(t){return As(t)&&!bi(t).Zo()&&t.v_.length>0}function vI(t){bi(t).start()}async function k2(t){bi(t).V_()}async function b2(t){const e=bi(t);for(const n of t.v_)e.d_(n.mutations)}async function x2(t,e,n){const r=t.v_.shift(),i=gg.from(r,e,n);await gI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Fd(t)}async function O2(t,e){e&&bi(t).E_&&await async function(r,i){if(function(o){return EL(o)&&o!==$.ABORTED}(i.code)){const s=r.v_.shift();bi(r).t_(),await gI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Fd(r)}}(t,e),yI(t)&&vI(t)}async function a0(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=As(n);n.M_.add(3),await jl(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Vd(n)}async function N2(t,e){const n=he(t);e?(n.M_.delete(2),await Vd(n)):e||(n.M_.add(2),await jl(n),n.N_.set("Unknown"))}function Uo(t){return t.B_||(t.B_=function(n,r,i){const s=he(n);return s.f_(),new v2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:S2.bind(null,t),To:I2.bind(null,t),Ao:R2.bind(null,t),h_:P2.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Rg(t)?Ig(t):t.N_.set("Unknown")):(await t.B_.stop(),mI(t))})),t.B_}function bi(t){return t.k_||(t.k_=function(n,r,i){const s=he(n);return s.f_(),new _2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:k2.bind(null,t),Ao:O2.bind(null,t),R_:b2.bind(null,t),A_:x2.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Fd(t)):(await t.k_.stop(),t.v_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Pg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ag(t,e){if(Fr("AsyncQueue",`${e}: ${t}`),Vl(t))return new ie($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Aa(),this.sortedSet=new nt(this.comparator)}static emptySet(e){return new ho(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.q_=new nt(se.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):le():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ko{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ko(e,n,ho.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class L2{constructor(){this.queries=new Fo(e=>US(e),xd),this.onlineState="Unknown",this.z_=new Set}}async function M2(t,e){const n=he(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new D2,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Ag(o,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&Cg(n)}async function V2(t,e){const n=he(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function F2(t,e){const n=he(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&Cg(n)}function U2(t,e,n){const r=he(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function Cg(t){t.z_.forEach(e=>{e.next()})}var xp,u0;(u0=xp||(xp={})).J_="default",u0.Cache="cache";class j2{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==xp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.key=e}}class wI{constructor(e){this.key=e}}class z2{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Ee(),this.mutatedKeys=Ee(),this.Ia=jS(e),this.Ta=new ho(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new l0,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const m=i.get(d),y=Od(this.query,f)?f:null,_=!!m&&this.mutatedKeys.has(m.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;m&&y?m.data.isEqual(y.data)?_!==R&&(r.track({type:3,doc:y}),x=!0):this.Ra(m,y)||(r.track({type:2,doc:y}),x=!0,(u&&this.Ia(y,u)>0||c&&this.Ia(y,c)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),x=!0):m&&!y&&(r.track({type:1,doc:m}),x=!0,(u||c)&&(a=!0)),x&&(y?(o=o.add(y),s=R?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((d,f)=>function(y,_){const R=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return R(y)-R(_)}(d.type,f.type)||this.Ia(d.doc,f.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,c=u!==this.ha;return this.ha=u,o.length!==0||c?{snapshot:new ko(this.query,e.Ta,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new l0,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Ee(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new wI(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new _I(r))}),n}pa(e){this.la=e.hs,this.Pa=Ee();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return ko.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class B2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $2{constructor(e){this.key=e,this.wa=!1}}class H2{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Fo(a=>US(a),xd),this.Da=new Map,this.Ca=new Set,this.va=new nt(se.comparator),this.Fa=new Map,this.Ma=new _g,this.xa={},this.Oa=new Map,this.Na=Co.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function W2(t,e,n=!0){const r=PI(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await EI(r,e,n,!0),i}async function q2(t,e){const n=PI(t);await EI(n,e,!0,!1)}async function EI(t,e,n,r){const i=await d2(t.localStore,ar(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await K2(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&fI(t.remoteStore,i),a}async function K2(t,e,n,r,i){t.Ba=(f,m,y)=>async function(R,x,S,v){let T=x.view.da(S);T.Xi&&(T=await i0(R.localStore,x.query,!1).then(({documents:I})=>x.view.da(I,T)));const O=v&&v.targetChanges.get(x.targetId),V=v&&v.targetMismatches.get(x.targetId)!=null,C=x.view.applyChanges(T,R.isPrimaryClient,O,V);return d0(R,x.targetId,C.fa),C.snapshot}(t,f,m,y);const s=await i0(t.localStore,e,!0),o=new z2(e,s.hs),a=o.da(s.documents),u=Ul.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);d0(t,n,c.fa);const d=new B2(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function G2(t,e,n){const r=he(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!xd(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Tg(r.remoteStore,i.targetId),Op(r,i.targetId)}).catch(Ml)):(Op(r,i.targetId),await bp(r.localStore,i.targetId,!0))}async function Q2(t,e){const n=he(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Tg(n.remoteStore,r.targetId))}async function J2(t,e,n){const r=rM(t);try{const i=await function(o,a){const u=he(o),c=wt.now(),d=a.reduce((y,_)=>y.add(_.key),Ee());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let _=Ur(),R=Ee();return u.os.getEntries(y,d).next(x=>{_=x,_.forEach((S,v)=>{v.isValidDocument()||(R=R.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,_)).next(x=>{f=x;const S=[];for(const v of a){const T=gL(v,f.get(v.key).overlayedDocument);T!=null&&S.push(new Fi(v.key,T,OS(T.value.mapValue),lr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,S,a)}).next(x=>{m=x;const S=x.applyToLocalDocumentSet(f,R);return u.documentOverlayCache.saveOverlays(y,x.batchId,S)})}).then(()=>({batchId:m.batchId,changes:BS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.xa[o.currentUser.toKey()];c||(c=new nt(Oe)),c=c.insert(a,u),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,n),await zl(r,i.changes),await Fd(r.remoteStore)}catch(i){const s=Ag(i,"Failed to persist write");n.reject(s)}}async function TI(t,e){const n=he(t);try{const r=await l2(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?He(o.wa):i.removedDocuments.size>0&&(He(o.wa),o.wa=!1))}),await zl(n,r,e)}catch(r){await Ml(r)}}function c0(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=he(o);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const m of f.U_)m.j_(a)&&(c=!0)}),c&&Cg(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Y2(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new nt(se.comparator);o=o.insert(s,Ht.newNoDocument(s,ce.min()));const a=Ee().add(s),u=new Ld(ce.min(),new Map,new nt(Oe),o,a);await TI(r,u),r.va=r.va.remove(s),r.Fa.delete(e),kg(r)}else await bp(r.localStore,e,!1).then(()=>Op(r,e,n)).catch(Ml)}async function X2(t,e){const n=he(t),r=e.batch.batchId;try{const i=await a2(n.localStore,e);II(n,r,null),SI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zl(n,i)}catch(i){await Ml(i)}}async function Z2(t,e,n){const r=he(t);try{const i=await function(o,a){const u=he(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(He(f!==null),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);II(r,e,n),SI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zl(r,i)}catch(i){await Ml(i)}}function SI(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function II(t,e,n){const r=he(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Op(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||RI(t,r)})}function RI(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Tg(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),kg(t))}function d0(t,e,n){for(const r of n)r instanceof _I?(t.Ma.addReference(r.key,e),eM(t,r)):r instanceof wI?(X("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||RI(t,r.key)):le()}function eM(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(X("SyncEngine","New document in limbo: "+n),t.Ca.add(r),kg(t))}function kg(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new se(ot.fromString(e)),r=t.Na.next();t.Fa.set(r,new $2(n)),t.va=t.va.insert(n,r),fI(t.remoteStore,new hi(ar(mg(n.path)),r,"TargetPurposeLimboResolution",ug.oe))}}async function zl(t,e,n){const r=he(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,u)=>{o.push(r.Ba(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Eg.Ki(u.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(u,c){const d=he(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(c,m=>B.forEach(m.qi,y=>d.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>B.forEach(m.Qi,y=>d.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!Vl(f))throw f;X("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const y=d.ns.get(m),_=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(_);d.ns=d.ns.insert(m,R)}}}(r.localStore,s))}async function tM(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await uI(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(u=>{u.reject(new ie($.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zl(n,r.us)}}function nM(t,e){const n=he(t),r=n.Fa.get(e);if(r&&r.wa)return Ee().add(r.key);{let i=Ee();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function PI(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y2.bind(null,e),e.Sa.h_=F2.bind(null,e.eventManager),e.Sa.ka=U2.bind(null,e.eventManager),e}function rM(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=X2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z2.bind(null,e),e}class h0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Md(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return o2(this.persistence,new i2,e.initialUser,this.serializer)}createPersistence(e){return new t2(wg.Hr,this.serializer)}createSharedClientState(e){return new f2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class iM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>c0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tM.bind(null,this.syncEngine),await N2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new L2}()}createDatastore(e){const n=Md(e.databaseInfo.databaseId),r=function(s){return new y2(s)}(e.databaseInfo);return function(s,o,a,u){return new w2(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new T2(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>c0(this.syncEngine,n,0),function(){return o0.D()?new o0:new p2}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,d){const f=new H2(i,s,o,a,u,c);return d&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=he(r);X("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await jl(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=kS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{X("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(X("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ag(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gh(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await uI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function f0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lM(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>a0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>a0(e.remoteStore,i)),t._onlineComponents=e}function aM(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function lM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!aM(n))throw n;Io("Error using user provided cache. Falling back to memory cache: "+n),await Gh(t,new h0)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await Gh(t,new h0);return t._offlineComponents}async function AI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await f0(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await f0(t,new iM))),t._onlineComponents}function uM(t){return AI(t).then(e=>e.syncEngine)}async function cM(t){const e=await AI(t),n=e.eventManager;return n.onListen=W2.bind(null,e.syncEngine),n.onUnlisten=G2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=q2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Q2.bind(null,e.syncEngine),n}function dM(t,e,n={}){const r=new Ii;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const d=new sM({next:m=>{o.enqueueAndForget(()=>V2(s,f));const y=m.docs.has(a);!y&&m.fromCache?c.reject(new ie($.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?c.reject(new ie($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new j2(mg(a.path),d,{includeMetadataChanges:!0,ra:!0});return M2(s,f)}(await cM(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t,e,n){if(!n)throw new ie($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fM(t,e,n,r){if(e===!0&&r===!0)throw new ie($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function m0(t){if(!se.isDocumentKey(t))throw new ie($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function Es(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bg(t);throw new ie($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ie($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new RD;switch(r.type){case"firstParty":return new kD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=p0.get(n);r&&(X("ComponentProvider","Removing Datastore"),p0.delete(n),r.terminate())}(this),Promise.resolve()}}function pM(t,e,n,r={}){var i;const s=(t=Es(t,xg))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Bt.MOCK_USER;else{a=Bb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ie($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Bt(c)}t._authCredentials=new PD(new CS(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Og(this.firestore,e,this._query)}}class _n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class wl extends Og{constructor(e,n,r){super(e,n,mg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new se(e))}withConverter(e){return new wl(this.firestore,e,this._path)}}function Ud(t,e,...n){if(t=un(t),arguments.length===1&&(e=kS.newId()),hM("doc","path",e),t instanceof xg){const r=ot.fromString(e,...n);return m0(r),new _n(t,null,new se(r))}{if(!(t instanceof _n||t instanceof wl))throw new ie($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return m0(r),new _n(t.firestore,t instanceof wl?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new dI(this,"async_queue_retry"),this.hu=()=>{const n=Kh();n&&X("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Kh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Kh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Ii;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Vl(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Fr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Pg.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&le()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class jd extends xg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new mM}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||bI(this),this._firestoreClient.terminate()}}function gM(t,e){const n=typeof t=="object"?t:UT(),r=typeof t=="string"?t:"(default)",i=Xm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=jb("firestore");s&&pM(i,...s)}return i}function kI(t){return t._firestoreClient||bI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function bI(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,d){return new BD(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,CI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new oM(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bo(qt.fromBase64String(e))}catch(n){throw new ie($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bo(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=/^__.*__$/;class vM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fl(e,this.data,n,this.fieldTransforms)}}class xI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function OI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class Lg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Lg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Jc(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(OI(this.fu)&&yM.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class _M{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Md(e)}Fu(e,n,r,i=!1){return new Lg({fu:e,methodName:n,vu:r,path:bt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NI(t){const e=t._freezeSettings(),n=Md(t._databaseId);return new _M(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wM(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);Mg("Data must be an object, but it was:",o,r);const a=DI(r,o);let u,c;if(s.merge)u=new yn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const m=Np(e,f,n);if(!o.contains(m))throw new ie($.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);MI(d,m)||d.push(m)}u=new yn(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new vM(new nn(a),u,c)}class Bd extends Ng{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bd}}function EM(t,e,n,r){const i=t.Fu(1,e,n);Mg("Data must be an object, but it was:",i,r);const s=[],o=nn.empty();Ps(r,(u,c)=>{const d=Vg(e,u,n);c=un(c);const f=i.Su(d);if(c instanceof Bd)s.push(d);else{const m=$d(c,f);m!=null&&(s.push(d),o.set(d,m))}});const a=new yn(s);return new xI(o,a,i.fieldTransforms)}function TM(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[Np(e,r,n)],u=[i];if(s.length%2!=0)throw new ie($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(Np(e,s[m])),u.push(s[m+1]);const c=[],d=nn.empty();for(let m=a.length-1;m>=0;--m)if(!MI(c,a[m])){const y=a[m];let _=u[m];_=un(_);const R=o.Su(y);if(_ instanceof Bd)c.push(y);else{const x=$d(_,R);x!=null&&(c.push(y),d.set(y,x))}}const f=new yn(c);return new xI(d,f,o.fieldTransforms)}function $d(t,e){if(LI(t=un(t)))return Mg("Unsupported field value:",e,t),DI(t,e);if(t instanceof Ng)return function(r,i){if(!OI(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=$d(a,i.bu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=wt.fromDate(r);return{timestampValue:Gc(i.serializer,s)}}if(r instanceof wt){const s=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gc(i.serializer,s)}}if(r instanceof Dg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bo)return{bytesValue:nI(i.serializer,r._byteString)};if(r instanceof _n){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:vg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${bg(r)}`)}(t,e)}function DI(t,e){const n={};return bS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(t,(r,i)=>{const s=$d(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function LI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof Dg||t instanceof bo||t instanceof _n||t instanceof Ng)}function Mg(t,e,n){if(!LI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=bg(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Np(t,e,n){if((e=un(e))instanceof zd)return e._internalPath;if(typeof e=="string")return Vg(t,e);throw Jc("Field path arguments must be of type string or ",t,!1,void 0,n)}const SM=new RegExp("[~\\*/\\[\\]]");function Vg(t,e,n){if(e.search(SM)>=0)throw Jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zd(...e.split("."))._internalPath}catch{throw Jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ie($.INVALID_ARGUMENT,a+t+u)}function MI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(FI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IM extends VI{data(){return super.data()}}function FI(t,e){return typeof e=="string"?Vg(t,e):e instanceof zd?e._internalPath:e._delegate._internalPath}class RM{convertValue(e,n="none"){switch(ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ps(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Dg(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ml(e));default:return null}}convertTimestamp(e){const n=ki(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);He(lI(r));const i=new gl(r.get(1),r.get(3)),s=new se(r.popFirst(5));return i.isEqual(n)||Fr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class UI extends VI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new CM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(FI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class CM extends UI{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){t=Es(t,_n);const e=Es(t.firestore,jd);return dM(kI(e),t._key).then(n=>OM(e,t,n))}class bM extends RM{constructor(e){super(),this.firestore=e}convertBytes(e){return new bo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function jI(t,e,n){t=Es(t,_n);const r=Es(t.firestore,jd),i=PM(t.converter,e,n);return zI(r,[wM(NI(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,lr.none())])}function xM(t,e,n,...r){t=Es(t,_n);const i=Es(t.firestore,jd),s=NI(i);let o;return o=typeof(e=un(e))=="string"||e instanceof zd?TM(s,"updateDoc",t._key,e,n,r):EM(s,"updateDoc",t._key,e),zI(i,[o.toMutation(t._key,lr.exists(!0))])}function zI(t,e){return function(r,i){const s=new Ii;return r.asyncQueue.enqueueAndForget(async()=>J2(await uM(r),i,s)),s.promise}(kI(t),e)}function OM(t,e,n){const r=n.docs.get(e._key),i=new bM(t);return new UI(t,i,e._key,r,new AM(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Vo=i})(Lo),So(new ps("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new jd(new AD(r.getProvider("auth-internal")),new xD(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ie($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Si(F_,"4.6.4",e),Si(F_,"4.6.4","esm2017")})();const NM={apiKey:"AIzaSyANabuvzOXSvnpwPRnFWPiUXqjbSjN_NTo",authDomain:"petlove-4aff4.firebaseapp.com",projectId:"petlove-4aff4",storageBucket:"petlove-4aff4.appspot.com",messagingSenderId:"441810433275",appId:"1:441810433275:web:e151c8aca04ef9aba8ac5e",measurementId:"G-6X5HZ6W70P"},BI=FT(NM),$I=SD(BI),Hd=gM(BI),DM=async(t,e,n)=>{const i=(await lN($I,e,n)).user;return await jI(Ud(Hd,"users",i.uid),{name:t,email:e,avatar:""}),{uid:i.uid,name:t,email:e,avatar:""}},LM=async(t,e)=>{const r=(await uN($I,t,e)).user,i=await kM(Ud(Hd,"users",r.uid));if(i.exists())return{uid:r.uid,...i.data()};throw new Error("No such user!")},MM=async t=>{const e=Ud(Hd,"users",t.uid);return await jI(e,t,{merge:!0}),t},VM=async(t,e)=>{const n=Ud(Hd,"users",t);return await xM(n,{avatar:e}),{avatar:e}},FM=Hr("user/signup",async({name:t,email:e,password:n})=>await DM(t,e,n)),UM=Hr("user/login",async({email:t,password:e})=>await LM(t,e)),jM=Hr("user/updateUser",async t=>await MM(t)),zM=Hr("user/updateAvatar",async({uid:t,avatar:e})=>{const n=await VM(t,e);return{uid:t,avatar:n.avatar}}),HI=Qn({name:"user",initialState:{user:null,token:null,status:"idle",error:null},reducers:{logout:t=>{t.user=null,t.token=null}},extraReducers:t=>{t.addCase(FM.fulfilled,(e,n)=>{e.user=n.payload,e.token=n.payload.token,e.status="succeeded"}).addCase(UM.fulfilled,(e,n)=>{e.user=n.payload,e.token=n.payload.token,e.status="succeeded"}).addCase(jM.fulfilled,(e,n)=>{e.user=n.payload,e.status="succeeded"}).addCase(zM.fulfilled,(e,n)=>{e.user&&(e.user.avatar=n.payload.avatar),e.status="succeeded"}).addMatcher(e=>e.type.endsWith("/pending"),e=>{e.status="loading"}).addMatcher(e=>e.type.endsWith("/rejected"),(e,n)=>{e.status="failed",e.error=n.error.message})}}),{logout:WI}=HI.actions,BM=HI.reducer;var qI={exports:{}},$M="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HM=$M,WM=HM;function KI(){}function GI(){}GI.resetWarningCache=KI;var qM=function(){function t(r,i,s,o,a,u){if(u!==WM){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:GI,resetWarningCache:KI};return n.PropTypes=n,n};qI.exports=qM();var KM=qI.exports;const Au=Zc(KM),El=({text:t,to:e,className:n,onClick:r})=>W.jsx("button",{className:`button-auth ${n}`,onClick:r,children:e?W.jsx(Ir,{to:e,children:t}):t});El.propTypes={text:Au.string.isRequired,to:Au.string,className:Au.string,onClick:Au.func};El.defaultProps={to:null,className:"",onClick:null};const GM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFzSURBVHgB3ZRBTsJAFIbfK9RJRRN6gx5B9xjLyrDkBHIEbyCewHAC6wlYEleMCTEuvYG9ASw0pJaZ54xYROq00ygL+VbNzOv758+8+QH+O2hT9DI66TlI56o8XK4QlyRvDzoPUdm/hQLTYdhk3mL41TgHT+a1rt/lM1MPBwpg++KyoLkmdD9qzBgdTEdhwFA8gwXKhW9yYXTgggjBEpelPdOeUQCBArAEEZuVBQjJeHG5WpBxZYGUuRFYUgPJoaqA3+YzCTSAEqSkgdd5jCsLaFJW76sx48YCgvtGUu9DAfYvGaCnqk+zxhJEZPOSt05pVLheqk6P6uR4pJaCz61Y2Yh1HqXqgv2COzAKvN61dExcIIFxxjMxNdJR42xyZSWwjIjFTUkG/dTqKaG37qYbzDeXY6jwijeIVS4dr+fStzHdc8T1L5prAuaJ4frCysF81AoJcQx/gCBqH3YmXH87sGVWAp5StImGIghhpqMjO/1u8A7AwYq1mK9QdQAAAABJRU5ErkJggg==",QM=t=>t.charAt(0).toUpperCase()+t.slice(1),JM=()=>{const t=yT(),e=Wm(r=>r.user.user),n=()=>{t(WI())};return W.jsxs("div",{className:"user-bar",children:[W.jsxs(Ir,{to:"/profile",className:"user_info",children:[W.jsx("img",{src:(e==null?void 0:e.avatar)||GM,alt:`${e==null?void 0:e.name}'s avatar`,className:"user-avatar"}),W.jsx("span",{className:"user-name",children:e?QM(e.name):""})]}),W.jsx(El,{text:"Logout",to:"#",className:"logout",onClick:n})]})},YM=()=>{const t=Wm(r=>r.user.user),e=yT(),n=()=>{e(WI())};return W.jsx("div",{className:"auth_nav",children:t?W.jsx(JM,{avatar:t.avatar,name:t.name,onLogout:n}):W.jsxs(W.Fragment,{children:[W.jsx(El,{text:"Log In",to:"/login",className:"login"}),W.jsx(El,{text:"Registration",to:"/registration",className:"registration"})]})})},XM="data:image/svg+xml,%3csvg%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M27%209L9%2027'%20stroke='%23262626'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9%209L27%2027'%20stroke='%23262626'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ZM=({isMenuOpen:t,handleToggleMenu:e})=>W.jsxs("div",{className:`mobile-menu ${t?"open":""}`,children:[W.jsx("img",{src:XM,className:"x-menu",alt:"x-menu",onClick:e}),W.jsx(Ir,{to:"/news",onClick:e,children:"News"}),W.jsx(Ir,{to:"/find_pet",onClick:e,children:"Find pet"}),W.jsx(Ir,{to:"/our_friends",onClick:e,children:"Our friends"})]}),eV=({isHomePage:t})=>{const[e,n]=en.useState(!1),r=()=>{n(!e)};return W.jsxs("header",{className:t?"header homePageHeader":"header",children:[W.jsxs("div",{className:"center",children:[W.jsx("div",{className:"logo",children:t?W.jsx(rp,{to:"/",children:W.jsx("img",{src:gk,alt:"logo"})}):W.jsx(rp,{to:"/",children:W.jsx("img",{src:yk,alt:"logo"})})}),W.jsx(mk,{}),W.jsx(YM,{})]}),W.jsx("img",{className:"burger-menu",src:vk,alt:"burger-menu",onClick:r}),W.jsx(ZM,{isMenuOpen:e,handleToggleMenu:r})]})};function Qh(t,e,n,r){if(typeof n!==r)throw new TypeError(`Invalid prop '${e}' of type '${typeof n}' supplied to '${t}', expected '${r}'.`)}function tV(t,e){e===void 0&&(e={});var n=e.insertAt;if(typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var nV="Jelly-module_container__LB5dG",rV="Jelly-module_svg__Ae81n";function iV(t){let{size:e=50,color:n="black",speed:r=.9}=t;return Qh("Jelly","size",e,"number"),Qh("Jelly","color",n,"string"),Qh("Jelly","speed",r,"number"),en.createElement(en.Fragment,null,en.createElement("div",{className:nV,style:{"--uib-size":e+"px","--uib-color":n,"--uib-speed":r+"s"}}),en.createElement("svg",{width:"0",height:"0",className:rV},en.createElement("defs",null,en.createElement("filter",{id:"uib-jelly-ooze"},en.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:e/8,result:"blur"}),en.createElement("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7",result:"ooze"}),en.createElement("feBlend",{in:"SourceGraphic",in2:"ooze"})))))}tV('.Jelly-module_container__LB5dG{animation:Jelly-module_rotate__gDXQZ calc(var(--uib-speed)*2) linear infinite;filter:url(#uib-jelly-ooze);height:calc(var(--uib-size)/2);position:relative;width:var(--uib-size);will-change:transform}.Jelly-module_container__LB5dG:after,.Jelly-module_container__LB5dG:before{background:var(--uib-color);border-radius:100%;content:"";height:100%;left:25%;position:absolute;top:0;width:50%;will-change:transform}.Jelly-module_container__LB5dG:before{animation:Jelly-module_shift-left__20PCG var(--uib-speed) ease infinite}.Jelly-module_container__LB5dG:after{animation:Jelly-module_shift-right__WCf3m var(--uib-speed) ease infinite}.Jelly-module_svg__Ae81n{height:0;position:absolute;width:0}@keyframes Jelly-module_rotate__gDXQZ{0%,49.999%,to{transform:none}50%,99.999%{transform:rotate(90deg)}}@keyframes Jelly-module_shift-left__20PCG{0%,to{transform:translateX(0)}50%{transform:scale(.65) translateX(-75%)}}@keyframes Jelly-module_shift-right__WCf3m{0%,to{transform:translateX(0)}50%{transform:scale(.65) translateX(75%)}}');function QI(){return W.jsx("div",{className:"backdrop",children:W.jsx(iV,{size:180,speed:.8,color:"54ADFF"})})}const sV=()=>{const e=Li().pathname==="/";return W.jsxs("div",{children:[W.jsx(eV,{isHomePage:e}),W.jsx(j.Suspense,{fallback:W.jsx(QI,{}),children:W.jsx($C,{})})]})},Jh=({children:t})=>Wm(n=>n.user.user)?t:W.jsx(BC,{to:"/login",replace:!0}),oV="/Petslove/assets/errorpage-CBX1VmoW.png",aV=()=>W.jsxs("div",{children:[W.jsx("h1",{children:"Page Not Found"}),W.jsx("section",{className:"notfound",children:W.jsx("img",{src:oV})})]}),lV=j.lazy(()=>$r(()=>import("./HomePage--KiGS64H.js"),__vite__mapDeps([0,1]))),uV=j.lazy(()=>$r(()=>import("./FindPetPage-Cls_yJW-.js"),__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14]))),cV=j.lazy(()=>$r(()=>import("./NewsPage-CDVbkeip.js"),__vite__mapDeps([15,12,7,13,16]))),dV=j.lazy(()=>$r(()=>import("./RegistrationPage-CIGsa-qx.js"),__vite__mapDeps([17,18,11,19,20,21]))),hV=j.lazy(()=>$r(()=>import("./LoginPage-CXl-1yQ7.js"),__vite__mapDeps([22,18,11,19,23,21]))),fV=j.lazy(()=>$r(()=>import("./ProfilePage-BL58_UPf.js"),__vite__mapDeps([24,18,11,4,5,7,8,9,25,26,3,6,27]))),pV=j.lazy(()=>$r(()=>import("./OurFriendsPage-RKKkejvH.js"),__vite__mapDeps([28,29]))),mV=j.lazy(()=>$r(()=>import("./FavoritePetsPage-BxHQ7FPB.js"),__vite__mapDeps([30,3,4,5,6]))),gV=j.lazy(()=>$r(()=>import("./AddPetPage-Bs17veDP.js"),__vite__mapDeps([31,19,25,4,5,26,10,11,32]))),yV=YC([{element:W.jsx(sV,{}),children:[{path:"/",index:!0,element:W.jsx(j.Suspense,{fallback:W.jsx("div",{children:"Loading..."}),children:W.jsx(lV,{})})},{path:"/news",element:W.jsx(j.Suspense,{fallback:W.jsx("div",{children:"Loading..."}),children:W.jsx(cV,{})})},{path:"/find_pet",element:W.jsx(j.Suspense,{fallback:W.jsx("div",{children:"Loading..."}),children:W.jsx(uV,{})})},{path:"/our_friends",element:W.jsx(j.Suspense,{fallback:W.jsx("div",{children:"Loading..."}),children:W.jsx(pV,{})})},{path:"/registration",element:W.jsx(j.Suspense,{fallback:W.jsx("div",{children:"Loading..."}),children:W.jsx(dV,{})})},{path:"/login",element:W.jsx(j.Suspense,{fallback:W.jsx("div",{children:"Loading..."}),children:W.jsx(hV,{})})},{path:"/profile",element:W.jsx(Jh,{children:W.jsx(j.Suspense,{fallback:W.jsx("div",{children:"Loading..."}),children:W.jsx(fV,{})})})},{path:"/favorites",element:W.jsx(Jh,{children:W.jsx(j.Suspense,{fallback:W.jsx("div",{children:"Loading..."}),children:W.jsx(mV,{})})})},{path:"/add_pet",element:W.jsx(Jh,{children:W.jsx(j.Suspense,{fallback:W.jsx("div",{children:"Loading..."}),children:W.jsx(gV,{})})})},{path:"*",element:W.jsx(aV,{})}]}]);var JI={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(rR,function(){return function(n){function r(s){if(i[s])return i[s].exports;var o=i[s]={exports:{},id:s,loaded:!1};return n[s].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var i={};return r.m=n,r.c=i,r.p="dist/",r(0)}([function(n,r,i){function s(Q){return Q&&Q.__esModule?Q:{default:Q}}var o=Object.assign||function(Q){for(var Ae=1;Ae<arguments.length;Ae++){var rt=arguments[Ae];for(var ge in rt)Object.prototype.hasOwnProperty.call(rt,ge)&&(Q[ge]=rt[ge])}return Q},a=i(1),u=(s(a),i(6)),c=s(u),d=i(7),f=s(d),m=i(8),y=s(m),_=i(9),R=s(_),x=i(10),S=s(x),v=i(11),T=s(v),O=i(14),V=s(O),C=[],I=!1,g={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},E=function(){var Q=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(Q&&(I=!0),I)return C=(0,T.default)(C,g),(0,S.default)(C,g.once),C},A=function(){C=(0,V.default)(),E()},k=function(){C.forEach(function(Q,Ae){Q.node.removeAttribute("data-aos"),Q.node.removeAttribute("data-aos-easing"),Q.node.removeAttribute("data-aos-duration"),Q.node.removeAttribute("data-aos-delay")})},b=function(Q){return Q===!0||Q==="mobile"&&R.default.mobile()||Q==="phone"&&R.default.phone()||Q==="tablet"&&R.default.tablet()||typeof Q=="function"&&Q()===!0},P=function(Q){g=o(g,Q),C=(0,V.default)();var Ae=document.all&&!window.atob;return b(g.disable)||Ae?k():(g.disableMutationObserver||y.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),g.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",g.easing),document.querySelector("body").setAttribute("data-aos-duration",g.duration),document.querySelector("body").setAttribute("data-aos-delay",g.delay),g.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?E(!0):g.startEvent==="load"?window.addEventListener(g.startEvent,function(){E(!0)}):document.addEventListener(g.startEvent,function(){E(!0)}),window.addEventListener("resize",(0,f.default)(E,g.debounceDelay,!0)),window.addEventListener("orientationchange",(0,f.default)(E,g.debounceDelay,!0)),window.addEventListener("scroll",(0,c.default)(function(){(0,S.default)(C,g.once)},g.throttleDelay)),g.disableMutationObserver||y.default.ready("[data-aos]",A),C)};n.exports={init:P,refresh:E,refreshHard:A}},function(n,r){},,,,,function(n,r){(function(i){function s(b,P,Q){function Ae(Te){var ut=ke,pt=Ve;return ke=Ve=void 0,Kt=Te,De=b.apply(pt,ut)}function rt(Te){return Kt=Te,We=setTimeout(Z,P),Gt?Ae(Te):De}function ge(Te){var ut=Te-It,pt=Te-Kt,Cs=P-ut;return Le?A(Cs,Fe-pt):Cs}function K(Te){var ut=Te-It,pt=Te-Kt;return It===void 0||ut>=P||ut<0||Le&&pt>=Fe}function Z(){var Te=k();return K(Te)?re(Te):void(We=setTimeout(Z,ge(Te)))}function re(Te){return We=void 0,Ie&&ke?Ae(Te):(ke=Ve=void 0,De)}function ve(){We!==void 0&&clearTimeout(We),Kt=0,ke=It=Ve=We=void 0}function me(){return We===void 0?De:re(k())}function ye(){var Te=k(),ut=K(Te);if(ke=arguments,Ve=this,It=Te,ut){if(We===void 0)return rt(It);if(Le)return We=setTimeout(Z,P),Ae(It)}return We===void 0&&(We=setTimeout(Z,P)),De}var ke,Ve,Fe,De,We,It,Kt=0,Gt=!1,Le=!1,Ie=!0;if(typeof b!="function")throw new TypeError(m);return P=d(P)||0,a(Q)&&(Gt=!!Q.leading,Le="maxWait"in Q,Fe=Le?E(d(Q.maxWait)||0,P):Fe,Ie="trailing"in Q?!!Q.trailing:Ie),ye.cancel=ve,ye.flush=me,ye}function o(b,P,Q){var Ae=!0,rt=!0;if(typeof b!="function")throw new TypeError(m);return a(Q)&&(Ae="leading"in Q?!!Q.leading:Ae,rt="trailing"in Q?!!Q.trailing:rt),s(b,P,{leading:Ae,maxWait:P,trailing:rt})}function a(b){var P=typeof b>"u"?"undefined":f(b);return!!b&&(P=="object"||P=="function")}function u(b){return!!b&&(typeof b>"u"?"undefined":f(b))=="object"}function c(b){return(typeof b>"u"?"undefined":f(b))=="symbol"||u(b)&&g.call(b)==_}function d(b){if(typeof b=="number")return b;if(c(b))return y;if(a(b)){var P=typeof b.valueOf=="function"?b.valueOf():b;b=a(P)?P+"":P}if(typeof b!="string")return b===0?b:+b;b=b.replace(R,"");var Q=S.test(b);return Q||v.test(b)?T(b.slice(2),Q?2:8):x.test(b)?y:+b}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},m="Expected a function",y=NaN,_="[object Symbol]",R=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,v=/^0o[0-7]+$/i,T=parseInt,O=(typeof i>"u"?"undefined":f(i))=="object"&&i&&i.Object===Object&&i,V=(typeof self>"u"?"undefined":f(self))=="object"&&self&&self.Object===Object&&self,C=O||V||Function("return this")(),I=Object.prototype,g=I.toString,E=Math.max,A=Math.min,k=function(){return C.Date.now()};n.exports=o}).call(r,function(){return this}())},function(n,r){(function(i){function s(k,b,P){function Q(Ie){var Te=ye,ut=ke;return ye=ke=void 0,It=Ie,Fe=k.apply(ut,Te)}function Ae(Ie){return It=Ie,De=setTimeout(K,b),Kt?Q(Ie):Fe}function rt(Ie){var Te=Ie-We,ut=Ie-It,pt=b-Te;return Gt?E(pt,Ve-ut):pt}function ge(Ie){var Te=Ie-We,ut=Ie-It;return We===void 0||Te>=b||Te<0||Gt&&ut>=Ve}function K(){var Ie=A();return ge(Ie)?Z(Ie):void(De=setTimeout(K,rt(Ie)))}function Z(Ie){return De=void 0,Le&&ye?Q(Ie):(ye=ke=void 0,Fe)}function re(){De!==void 0&&clearTimeout(De),It=0,ye=We=ke=De=void 0}function ve(){return De===void 0?Fe:Z(A())}function me(){var Ie=A(),Te=ge(Ie);if(ye=arguments,ke=this,We=Ie,Te){if(De===void 0)return Ae(We);if(Gt)return De=setTimeout(K,b),Q(We)}return De===void 0&&(De=setTimeout(K,b)),Fe}var ye,ke,Ve,Fe,De,We,It=0,Kt=!1,Gt=!1,Le=!0;if(typeof k!="function")throw new TypeError(f);return b=c(b)||0,o(P)&&(Kt=!!P.leading,Gt="maxWait"in P,Ve=Gt?g(c(P.maxWait)||0,b):Ve,Le="trailing"in P?!!P.trailing:Le),me.cancel=re,me.flush=ve,me}function o(k){var b=typeof k>"u"?"undefined":d(k);return!!k&&(b=="object"||b=="function")}function a(k){return!!k&&(typeof k>"u"?"undefined":d(k))=="object"}function u(k){return(typeof k>"u"?"undefined":d(k))=="symbol"||a(k)&&I.call(k)==y}function c(k){if(typeof k=="number")return k;if(u(k))return m;if(o(k)){var b=typeof k.valueOf=="function"?k.valueOf():k;k=o(b)?b+"":b}if(typeof k!="string")return k===0?k:+k;k=k.replace(_,"");var P=x.test(k);return P||S.test(k)?v(k.slice(2),P?2:8):R.test(k)?m:+k}var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},f="Expected a function",m=NaN,y="[object Symbol]",_=/^\s+|\s+$/g,R=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,S=/^0o[0-7]+$/i,v=parseInt,T=(typeof i>"u"?"undefined":d(i))=="object"&&i&&i.Object===Object&&i,O=(typeof self>"u"?"undefined":d(self))=="object"&&self&&self.Object===Object&&self,V=T||O||Function("return this")(),C=Object.prototype,I=C.toString,g=Math.max,E=Math.min,A=function(){return V.Date.now()};n.exports=s}).call(r,function(){return this}())},function(n,r){function i(d){var f=void 0,m=void 0;for(f=0;f<d.length;f+=1)if(m=d[f],m.dataset&&m.dataset.aos||m.children&&i(m.children))return!0;return!1}function s(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function o(){return!!s()}function a(d,f){var m=window.document,y=s(),_=new y(u);c=f,_.observe(m.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function u(d){d&&d.forEach(function(f){var m=Array.prototype.slice.call(f.addedNodes),y=Array.prototype.slice.call(f.removedNodes),_=m.concat(y);if(i(_))return c()})}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){};r.default={isSupported:o,ready:a}},function(n,r){function i(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function s(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(y,_){for(var R=0;R<_.length;R++){var x=_[R];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,_,R){return _&&m(y.prototype,_),R&&m(y,R),y}}(),a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,u=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,d=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,f=function(){function m(){i(this,m)}return o(m,[{key:"phone",value:function(){var y=s();return!(!a.test(y)&&!u.test(y.substr(0,4)))}},{key:"mobile",value:function(){var y=s();return!(!c.test(y)&&!d.test(y.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),m}();r.default=new f},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(o,a,u){var c=o.node.getAttribute("data-aos-once");a>o.position?o.node.classList.add("aos-animate"):typeof c<"u"&&(c==="false"||!u&&c!=="true")&&o.node.classList.remove("aos-animate")},s=function(o,a){var u=window.pageYOffset,c=window.innerHeight;o.forEach(function(d,f){i(d,c+u,a)})};r.default=s},function(n,r,i){function s(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),a=s(o),u=function(c,d){return c.forEach(function(f,m){f.node.classList.add("aos-init"),f.position=(0,a.default)(f.node,d.offset)}),c};r.default=u},function(n,r,i){function s(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(13),a=s(o),u=function(c,d){var f=0,m=0,y=window.innerHeight,_={offset:c.getAttribute("data-aos-offset"),anchor:c.getAttribute("data-aos-anchor"),anchorPlacement:c.getAttribute("data-aos-anchor-placement")};switch(_.offset&&!isNaN(_.offset)&&(m=parseInt(_.offset)),_.anchor&&document.querySelectorAll(_.anchor)&&(c=document.querySelectorAll(_.anchor)[0]),f=(0,a.default)(c).top,_.anchorPlacement){case"top-bottom":break;case"center-bottom":f+=c.offsetHeight/2;break;case"bottom-bottom":f+=c.offsetHeight;break;case"top-center":f+=y/2;break;case"bottom-center":f+=y/2+c.offsetHeight;break;case"center-center":f+=y/2+c.offsetHeight/2;break;case"top-top":f+=y;break;case"bottom-top":f+=c.offsetHeight+y;break;case"center-top":f+=c.offsetHeight/2+y}return _.anchorPlacement||_.offset||isNaN(d)||(m=d),f+m};r.default=u},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(s){for(var o=0,a=0;s&&!isNaN(s.offsetLeft)&&!isNaN(s.offsetTop);)o+=s.offsetLeft-(s.tagName!="BODY"?s.scrollLeft:0),a+=s.offsetTop-(s.tagName!="BODY"?s.scrollTop:0),s=s.offsetParent;return{top:a,left:o}};r.default=i},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(s){return s=s||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(s,function(o){return{node:o}})};r.default=i}])})})(JI);var vV=JI.exports;const y0=Zc(vV);function _V(){return en.useEffect(()=>{y0.init({duration:800,easing:"ease-in-sine",delay:100,offset:100}),y0.refresh()},[]),W.jsx(en.Suspense,{fallback:W.jsx(QI,{}),children:W.jsx(sk,{router:yV})})}var Fg="persist:",YI="persist/FLUSH",Ug="persist/REHYDRATE",XI="persist/PAUSE",ZI="persist/PERSIST",e1="persist/PURGE",t1="persist/REGISTER",wV=-1;function Ju(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ju=function(n){return typeof n}:Ju=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ju(t)}function v0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v0(n,!0).forEach(function(r){TV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v0(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TV(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SV(t,e,n,r){r.debug;var i=EV({},n);return t&&Ju(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function IV(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:Fg).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(V){return V}:typeof t.serialize=="function"?a=t.serialize:a=RV;var u=t.writeFailHandler||null,c={},d={},f=[],m=null,y=null,_=function(V){Object.keys(V).forEach(function(C){S(C)&&c[C]!==V[C]&&f.indexOf(C)===-1&&f.push(C)}),Object.keys(c).forEach(function(C){V[C]===void 0&&S(C)&&f.indexOf(C)===-1&&c[C]!==void 0&&f.push(C)}),m===null&&(m=setInterval(R,i)),c=V};function R(){if(f.length===0){m&&clearInterval(m),m=null;return}var O=f.shift(),V=r.reduce(function(C,I){return I.in(C,O,c)},c[O]);if(V!==void 0)try{d[O]=a(V)}catch(C){console.error("redux-persist/createPersistoid: error serializing state",C)}else delete d[O];f.length===0&&x()}function x(){Object.keys(d).forEach(function(O){c[O]===void 0&&delete d[O]}),y=o.setItem(s,a(d)).catch(v)}function S(O){return!(n&&n.indexOf(O)===-1&&O!=="_persist"||e&&e.indexOf(O)!==-1)}function v(O){u&&u(O)}var T=function(){for(;f.length!==0;)R();return y||Promise.resolve()};return{update:_,flush:T}}function RV(t){return JSON.stringify(t)}function PV(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Fg).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=AV,r.getItem(n).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(u){o[u]=e.reduceRight(function(c,d){return d.out(c,u,a)},i(a[u]))}),o}catch(u){throw u}else return})}function AV(t){return JSON.parse(t)}function CV(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Fg).concat(t.key);return e.removeItem(n,kV)}function kV(t){}function _0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_0(n,!0).forEach(function(r){bV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_0(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bV(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xV(t,e){if(t==null)return{};var n=OV(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OV(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var NV=5e3;function DV(t,e){var n=t.version!==void 0?t.version:wV;t.debug;var r=t.stateReconciler===void 0?SV:t.stateReconciler,i=t.getStoredState||PV,s=t.timeout!==void 0?t.timeout:NV,o=null,a=!1,u=!0,c=function(f){return f._persist.rehydrated&&o&&!u&&o.update(f),f};return function(d,f){var m=d||{},y=m._persist,_=xV(m,["_persist"]),R=_;if(f.type===ZI){var x=!1,S=function(g,E){x||(f.rehydrate(t.key,g,E),x=!0)};if(s&&setTimeout(function(){!x&&S(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),u=!1,o||(o=IV(t)),y)return _r({},e(R,f),{_persist:y});if(typeof f.rehydrate!="function"||typeof f.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return f.register(t.key),i(t).then(function(I){var g=t.migrate||function(E,A){return Promise.resolve(E)};g(I,n).then(function(E){S(E)},function(E){S(void 0,E)})},function(I){S(void 0,I)}),_r({},e(R,f),{_persist:{version:n,rehydrated:!1}})}else{if(f.type===e1)return a=!0,f.result(CV(t)),_r({},e(R,f),{_persist:y});if(f.type===YI)return f.result(o&&o.flush()),_r({},e(R,f),{_persist:y});if(f.type===XI)u=!0;else if(f.type===Ug){if(a)return _r({},R,{_persist:_r({},y,{rehydrated:!0})});if(f.key===t.key){var v=e(R,f),T=f.payload,O=r!==!1&&T!==void 0?r(T,d,v,t):v,V=_r({},O,{_persist:_r({},y,{rehydrated:!0})});return c(V)}}}if(!y)return e(d,f);var C=e(R,f);return C===R?d:c(_r({},C,{_persist:y}))}}function w0(t){return VV(t)||MV(t)||LV()}function LV(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function MV(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function VV(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function E0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E0(n,!0).forEach(function(r){FV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E0(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FV(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var n1={registry:[],bootstrapped:!1},UV=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n1,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case t1:return Dp({},e,{registry:[].concat(w0(e.registry),[n.key])});case Ug:var r=e.registry.indexOf(n.key),i=w0(e.registry);return i.splice(r,1),Dp({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function jV(t,e,n){var r=Km(UV,n1,void 0),i=function(u){r.dispatch({type:t1,key:u})},s=function(u,c,d){var f={type:Ug,payload:c,err:d,key:u};t.dispatch(f),r.dispatch(f)},o=Dp({},r,{purge:function(){var u=[];return t.dispatch({type:e1,result:function(d){u.push(d)}}),Promise.all(u)},flush:function(){var u=[];return t.dispatch({type:YI,result:function(d){u.push(d)}}),Promise.all(u)},pause:function(){t.dispatch({type:XI})},persist:function(){t.dispatch({type:ZI,register:i,rehydrate:s})}});return o.persist(),o}var jg={},zg={};zg.__esModule=!0;zg.default=$V;function Yu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yu=function(n){return typeof n}:Yu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Yu(t)}function Yh(){}var zV={getItem:Yh,setItem:Yh,removeItem:Yh};function BV(t){if((typeof self>"u"?"undefined":Yu(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function $V(t){var e="".concat(t,"Storage");return BV(e)?self[e]:zV}jg.__esModule=!0;jg.default=qV;var HV=WV(zg);function WV(t){return t&&t.__esModule?t:{default:t}}function qV(t){var e=(0,HV.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var r1=void 0,KV=GV(jg);function GV(t){return t&&t.__esModule?t:{default:t}}var QV=(0,KV.default)("local");r1=QV;const JV={filters:{category:[],gender:[],type:[],location:[]}},i1=Qn({name:"notices",initialState:JV,reducers:{setCategoryFilter:(t,e)=>{t.filters.category=e.payload?[e.payload]:[]},setGenderFilter:(t,e)=>{t.filters.gender=e.payload?[e.payload]:[]},setTypeFilter:(t,e)=>{t.filters.type=e.payload?[e.payload]:[]},setLocationFilter:(t,e)=>{t.filters.location=e.payload?[e.payload]:[]}}});i1.actions;const YV=i1.reducer;function s1(t,e){return function(){return t.apply(e,arguments)}}const{toString:XV}=Object.prototype,{getPrototypeOf:Bg}=Object,Wd=(t=>e=>{const n=XV.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Jn=t=>(t=t.toLowerCase(),e=>Wd(e)===t),qd=t=>e=>typeof e===t,{isArray:jo}=Array,Tl=qd("undefined");function ZV(t){return t!==null&&!Tl(t)&&t.constructor!==null&&!Tl(t.constructor)&&xn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const o1=Jn("ArrayBuffer");function eF(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&o1(t.buffer),e}const tF=qd("string"),xn=qd("function"),a1=qd("number"),Kd=t=>t!==null&&typeof t=="object",nF=t=>t===!0||t===!1,Xu=t=>{if(Wd(t)!=="object")return!1;const e=Bg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},rF=Jn("Date"),iF=Jn("File"),sF=Jn("Blob"),oF=Jn("FileList"),aF=t=>Kd(t)&&xn(t.pipe),lF=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||xn(t.append)&&((e=Wd(t))==="formdata"||e==="object"&&xn(t.toString)&&t.toString()==="[object FormData]"))},uF=Jn("URLSearchParams"),[cF,dF,hF,fF]=["ReadableStream","Request","Response","Headers"].map(Jn),pF=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),jo(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function l1(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const u1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,c1=t=>!Tl(t)&&t!==u1;function Lp(){const{caseless:t}=c1(this)&&this||{},e={},n=(r,i)=>{const s=t&&l1(e,i)||i;Xu(e[s])&&Xu(r)?e[s]=Lp(e[s],r):Xu(r)?e[s]=Lp({},r):jo(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Bl(arguments[r],n);return e}const mF=(t,e,n,{allOwnKeys:r}={})=>(Bl(e,(i,s)=>{n&&xn(i)?t[s]=s1(i,n):t[s]=i},{allOwnKeys:r}),t),gF=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),yF=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},vF=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Bg(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},_F=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},wF=t=>{if(!t)return null;if(jo(t))return t;let e=t.length;if(!a1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},EF=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Bg(Uint8Array)),TF=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},SF=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},IF=Jn("HTMLFormElement"),RF=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),T0=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),PF=Jn("RegExp"),d1=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Bl(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},AF=t=>{d1(t,(e,n)=>{if(xn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(xn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},CF=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return jo(t)?r(t):r(String(t).split(e)),n},kF=()=>{},bF=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Xh="abcdefghijklmnopqrstuvwxyz",S0="0123456789",h1={DIGIT:S0,ALPHA:Xh,ALPHA_DIGIT:Xh+Xh.toUpperCase()+S0},xF=(t=16,e=h1.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function OF(t){return!!(t&&xn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const NF=t=>{const e=new Array(10),n=(r,i)=>{if(Kd(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=jo(r)?[]:{};return Bl(r,(o,a)=>{const u=n(o,i+1);!Tl(u)&&(s[a]=u)}),e[i]=void 0,s}}return r};return n(t,0)},DF=Jn("AsyncFunction"),LF=t=>t&&(Kd(t)||xn(t))&&xn(t.then)&&xn(t.catch),U={isArray:jo,isArrayBuffer:o1,isBuffer:ZV,isFormData:lF,isArrayBufferView:eF,isString:tF,isNumber:a1,isBoolean:nF,isObject:Kd,isPlainObject:Xu,isReadableStream:cF,isRequest:dF,isResponse:hF,isHeaders:fF,isUndefined:Tl,isDate:rF,isFile:iF,isBlob:sF,isRegExp:PF,isFunction:xn,isStream:aF,isURLSearchParams:uF,isTypedArray:EF,isFileList:oF,forEach:Bl,merge:Lp,extend:mF,trim:pF,stripBOM:gF,inherits:yF,toFlatObject:vF,kindOf:Wd,kindOfTest:Jn,endsWith:_F,toArray:wF,forEachEntry:TF,matchAll:SF,isHTMLForm:IF,hasOwnProperty:T0,hasOwnProp:T0,reduceDescriptors:d1,freezeMethods:AF,toObjectSet:CF,toCamelCase:RF,noop:kF,toFiniteNumber:bF,findKey:l1,global:u1,isContextDefined:c1,ALPHABET:h1,generateString:xF,isSpecCompliantForm:OF,toJSONObject:NF,isAsyncFn:DF,isThenable:LF};function fe(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}U.inherits(fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const f1=fe.prototype,p1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{p1[t]={value:t}});Object.defineProperties(fe,p1);Object.defineProperty(f1,"isAxiosError",{value:!0});fe.from=(t,e,n,r,i,s)=>{const o=Object.create(f1);return U.toFlatObject(t,o,function(u){return u!==Error.prototype},a=>a!=="isAxiosError"),fe.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const MF=null;function Mp(t){return U.isPlainObject(t)||U.isArray(t)}function m1(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function I0(t,e,n){return t?t.concat(e).map(function(i,s){return i=m1(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function VF(t){return U.isArray(t)&&!t.some(Mp)}const FF=U.toFlatObject(U,{},null,function(e){return/^is[A-Z]/.test(e)});function Gd(t,e,n){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,x){return!U.isUndefined(x[R])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(i))throw new TypeError("visitor must be a function");function c(_){if(_===null)return"";if(U.isDate(_))return _.toISOString();if(!u&&U.isBlob(_))throw new fe("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(_)||U.isTypedArray(_)?u&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function d(_,R,x){let S=_;if(_&&!x&&typeof _=="object"){if(U.endsWith(R,"{}"))R=r?R:R.slice(0,-2),_=JSON.stringify(_);else if(U.isArray(_)&&VF(_)||(U.isFileList(_)||U.endsWith(R,"[]"))&&(S=U.toArray(_)))return R=m1(R),S.forEach(function(T,O){!(U.isUndefined(T)||T===null)&&e.append(o===!0?I0([R],O,s):o===null?R:R+"[]",c(T))}),!1}return Mp(_)?!0:(e.append(I0(x,R,s),c(_)),!1)}const f=[],m=Object.assign(FF,{defaultVisitor:d,convertValue:c,isVisitable:Mp});function y(_,R){if(!U.isUndefined(_)){if(f.indexOf(_)!==-1)throw Error("Circular reference detected in "+R.join("."));f.push(_),U.forEach(_,function(S,v){(!(U.isUndefined(S)||S===null)&&i.call(e,S,U.isString(v)?v.trim():v,R,m))===!0&&y(S,R?R.concat(v):[v])}),f.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return y(t),e}function R0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function $g(t,e){this._pairs=[],t&&Gd(t,this,e)}const g1=$g.prototype;g1.append=function(e,n){this._pairs.push([e,n])};g1.toString=function(e){const n=e?function(r){return e.call(this,r,R0)}:R0;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function UF(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function y1(t,e,n){if(!e)return t;const r=n&&n.encode||UF,i=n&&n.serialize;let s;if(i?s=i(e,n):s=U.isURLSearchParams(e)?e.toString():new $g(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class P0{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,function(r){r!==null&&e(r)})}}const v1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jF=typeof URLSearchParams<"u"?URLSearchParams:$g,zF=typeof FormData<"u"?FormData:null,BF=typeof Blob<"u"?Blob:null,$F={isBrowser:!0,classes:{URLSearchParams:jF,FormData:zF,Blob:BF},protocols:["http","https","file","blob","url","data"]},Hg=typeof window<"u"&&typeof document<"u",HF=(t=>Hg&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),WF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qF=Hg&&window.location.href||"http://localhost",KF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hg,hasStandardBrowserEnv:HF,hasStandardBrowserWebWorkerEnv:WF,origin:qF},Symbol.toStringTag,{value:"Module"})),qn={...KF,...$F};function GF(t,e){return Gd(t,new qn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return qn.isNode&&U.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function QF(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function JF(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function _1(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),u=s>=n.length;return o=!o&&U.isArray(i)?i.length:o,u?(U.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!U.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&U.isArray(i[o])&&(i[o]=JF(i[o])),!a)}if(U.isFormData(t)&&U.isFunction(t.entries)){const n={};return U.forEachEntry(t,(r,i)=>{e(QF(r),i,n,0)}),n}return null}function YF(t,e,n){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const $l={transitional:v1,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=U.isObject(e);if(s&&U.isHTMLForm(e)&&(e=new FormData(e)),U.isFormData(e))return i?JSON.stringify(_1(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e)||U.isReadableStream(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return GF(e,this.formSerializer).toString();if((a=U.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Gd(a?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),YF(e)):e}],transformResponse:[function(e){const n=this.transitional||$l.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(U.isResponse(e)||U.isReadableStream(e))return e;if(e&&U.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?fe.from(a,fe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qn.classes.FormData,Blob:qn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],t=>{$l.headers[t]={}});const XF=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZF=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&XF[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},A0=Symbol("internals");function ya(t){return t&&String(t).trim().toLowerCase()}function Zu(t){return t===!1||t==null?t:U.isArray(t)?t.map(Zu):String(t)}function eU(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const tU=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Zh(t,e,n,r,i){if(U.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!U.isString(e)){if(U.isString(r))return e.indexOf(r)!==-1;if(U.isRegExp(r))return r.test(e)}}function nU(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function rU(t,e){const n=U.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class ln{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,u,c){const d=ya(u);if(!d)throw new Error("header name must be a non-empty string");const f=U.findKey(i,d);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||u]=Zu(a))}const o=(a,u)=>U.forEach(a,(c,d)=>s(c,d,u));if(U.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(U.isString(e)&&(e=e.trim())&&!tU(e))o(ZF(e),n);else if(U.isHeaders(e))for(const[a,u]of e.entries())s(u,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=ya(e),e){const r=U.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return eU(i);if(U.isFunction(n))return n.call(this,i,r);if(U.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ya(e),e){const r=U.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Zh(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=ya(o),o){const a=U.findKey(r,o);a&&(!n||Zh(r,r[a],a,n))&&(delete r[a],i=!0)}}return U.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Zh(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return U.forEach(this,(i,s)=>{const o=U.findKey(r,s);if(o){n[o]=Zu(i),delete n[s];return}const a=e?nU(s):String(s).trim();a!==s&&delete n[s],n[a]=Zu(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return U.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&U.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[A0]=this[A0]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=ya(o);r[a]||(rU(i,o),r[a]=!0)}return U.isArray(e)?e.forEach(s):s(e),this}}ln.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(ln.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});U.freezeMethods(ln);function ef(t,e){const n=this||$l,r=e||n,i=ln.from(r.headers);let s=r.data;return U.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function w1(t){return!!(t&&t.__CANCEL__)}function zo(t,e,n){fe.call(this,t??"canceled",fe.ERR_CANCELED,e,n),this.name="CanceledError"}U.inherits(zo,fe,{__CANCEL__:!0});function E1(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new fe("Request failed with status code "+n.status,[fe.ERR_BAD_REQUEST,fe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function iU(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function sU(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(u){const c=Date.now(),d=r[s];o||(o=c),n[i]=u,r[i]=c;let f=s,m=0;for(;f!==i;)m+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const y=d&&c-d;return y?Math.round(m*1e3/y):void 0}}function oU(t,e){let n=0;const r=1e3/e;let i=null;return function(){const o=this===!0,a=Date.now();if(o||a-n>r)return i&&(clearTimeout(i),i=null),n=a,t.apply(null,arguments);i||(i=setTimeout(()=>(i=null,n=Date.now(),t.apply(null,arguments)),r-(a-n)))}}const Yc=(t,e,n=3)=>{let r=0;const i=sU(50,250);return oU(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,u=o-r,c=i(u),d=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:u,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:s,lengthComputable:a!=null};f[e?"download":"upload"]=!0,t(f)},n)},aU=qn.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=U.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),lU=qn.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];U.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),U.isString(r)&&o.push("path="+r),U.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function uU(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function cU(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function T1(t,e){return t&&!uU(e)?cU(t,e):e}const C0=t=>t instanceof ln?{...t}:t;function Ts(t,e){e=e||{};const n={};function r(c,d,f){return U.isPlainObject(c)&&U.isPlainObject(d)?U.merge.call({caseless:f},c,d):U.isPlainObject(d)?U.merge({},d):U.isArray(d)?d.slice():d}function i(c,d,f){if(U.isUndefined(d)){if(!U.isUndefined(c))return r(void 0,c,f)}else return r(c,d,f)}function s(c,d){if(!U.isUndefined(d))return r(void 0,d)}function o(c,d){if(U.isUndefined(d)){if(!U.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,f){if(f in e)return r(c,d);if(f in t)return r(void 0,c)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d)=>i(C0(c),C0(d),!0)};return U.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=u[d]||i,m=f(t[d],e[d],d);U.isUndefined(m)&&f!==a||(n[d]=m)}),n}const S1=t=>{const e=Ts({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=ln.from(o),e.url=y1(T1(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let u;if(U.isFormData(n)){if(qn.hasStandardBrowserEnv||qn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[c,...d]=u?u.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(qn.hasStandardBrowserEnv&&(r&&U.isFunction(r)&&(r=r(e)),r||r!==!1&&aU(e.url))){const c=i&&s&&lU.read(s);c&&o.set(i,c)}return e},dU=typeof XMLHttpRequest<"u",hU=dU&&function(t){return new Promise(function(n,r){const i=S1(t);let s=i.data;const o=ln.from(i.headers).normalize();let{responseType:a}=i,u;function c(){i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let d=new XMLHttpRequest;d.open(i.method.toUpperCase(),i.url,!0),d.timeout=i.timeout;function f(){if(!d)return;const y=ln.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),R={data:!a||a==="text"||a==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:y,config:t,request:d};E1(function(S){n(S),c()},function(S){r(S),c()},R),d=null}"onloadend"in d?d.onloadend=f:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(f)},d.onabort=function(){d&&(r(new fe("Request aborted",fe.ECONNABORTED,i,d)),d=null)},d.onerror=function(){r(new fe("Network Error",fe.ERR_NETWORK,i,d)),d=null},d.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const R=i.transitional||v1;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),r(new fe(_,R.clarifyTimeoutError?fe.ETIMEDOUT:fe.ECONNABORTED,i,d)),d=null},s===void 0&&o.setContentType(null),"setRequestHeader"in d&&U.forEach(o.toJSON(),function(_,R){d.setRequestHeader(R,_)}),U.isUndefined(i.withCredentials)||(d.withCredentials=!!i.withCredentials),a&&a!=="json"&&(d.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&d.addEventListener("progress",Yc(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",Yc(i.onUploadProgress)),(i.cancelToken||i.signal)&&(u=y=>{d&&(r(!y||y.type?new zo(null,t,d):y),d.abort(),d=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const m=iU(i.url);if(m&&qn.protocols.indexOf(m)===-1){r(new fe("Unsupported protocol "+m+":",fe.ERR_BAD_REQUEST,t));return}d.send(s||null)})},fU=(t,e)=>{let n=new AbortController,r;const i=function(u){if(!r){r=!0,o();const c=u instanceof Error?u:this.reason;n.abort(c instanceof fe?c:new zo(c instanceof Error?c.message:c))}};let s=e&&setTimeout(()=>{i(new fe(`timeout ${e} of ms exceeded`,fe.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(u=>{u&&(u.removeEventListener?u.removeEventListener("abort",i):u.unsubscribe(i))}),t=null)};t.forEach(u=>u&&u.addEventListener&&u.addEventListener("abort",i));const{signal:a}=n;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},pU=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},mU=async function*(t,e,n){for await(const r of t)yield*pU(ArrayBuffer.isView(r)?r:await n(String(r)),e)},k0=(t,e,n,r,i)=>{const s=mU(t,e,i);let o=0;return new ReadableStream({type:"bytes",async pull(a){const{done:u,value:c}=await s.next();if(u){a.close(),r();return}let d=c.byteLength;n&&n(o+=d),a.enqueue(new Uint8Array(c))},cancel(a){return r(a),s.return()}},{highWaterMark:2})},b0=(t,e)=>{const n=t!=null;return r=>setTimeout(()=>e({lengthComputable:n,total:t,loaded:r}))},Qd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",I1=Qd&&typeof ReadableStream=="function",Vp=Qd&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),gU=I1&&(()=>{let t=!1;const e=new Request(qn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),x0=64*1024,Fp=I1&&!!(()=>{try{return U.isReadableStream(new Response("").body)}catch{}})(),Xc={stream:Fp&&(t=>t.body)};Qd&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Xc[e]&&(Xc[e]=U.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new fe(`Response type '${e}' is not supported`,fe.ERR_NOT_SUPPORT,r)})})})(new Response);const yU=async t=>{if(t==null)return 0;if(U.isBlob(t))return t.size;if(U.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(U.isArrayBufferView(t))return t.byteLength;if(U.isURLSearchParams(t)&&(t=t+""),U.isString(t))return(await Vp(t)).byteLength},vU=async(t,e)=>{const n=U.toFiniteNumber(t.getContentLength());return n??yU(e)},_U=Qd&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:u,responseType:c,headers:d,withCredentials:f="same-origin",fetchOptions:m}=S1(t);c=c?(c+"").toLowerCase():"text";let[y,_]=i||s||o?fU([i,s],o):[],R,x;const S=()=>{!R&&setTimeout(()=>{y&&y.unsubscribe()}),R=!0};let v;try{if(u&&gU&&n!=="get"&&n!=="head"&&(v=await vU(d,r))!==0){let C=new Request(e,{method:"POST",body:r,duplex:"half"}),I;U.isFormData(r)&&(I=C.headers.get("content-type"))&&d.setContentType(I),C.body&&(r=k0(C.body,x0,b0(v,Yc(u)),null,Vp))}U.isString(f)||(f=f?"cors":"omit"),x=new Request(e,{...m,signal:y,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",withCredentials:f});let T=await fetch(x);const O=Fp&&(c==="stream"||c==="response");if(Fp&&(a||O)){const C={};["status","statusText","headers"].forEach(g=>{C[g]=T[g]});const I=U.toFiniteNumber(T.headers.get("content-length"));T=new Response(k0(T.body,x0,a&&b0(I,Yc(a,!0)),O&&S,Vp),C)}c=c||"text";let V=await Xc[U.findKey(Xc,c)||"text"](T,t);return!O&&S(),_&&_(),await new Promise((C,I)=>{E1(C,I,{data:V,headers:ln.from(T.headers),status:T.status,statusText:T.statusText,config:t,request:x})})}catch(T){throw S(),T&&T.name==="TypeError"&&/fetch/i.test(T.message)?Object.assign(new fe("Network Error",fe.ERR_NETWORK,t,x),{cause:T.cause||T}):fe.from(T,T&&T.code,t,x)}}),Up={http:MF,xhr:hU,fetch:_U};U.forEach(Up,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const O0=t=>`- ${t}`,wU=t=>U.isFunction(t)||t===null||t===!1,R1={getAdapter:t=>{t=U.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!wU(n)&&(r=Up[(o=String(n)).toLowerCase()],r===void 0))throw new fe(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(O0).join(`
`):" "+O0(s[0]):"as no adapter specified";throw new fe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Up};function tf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new zo(null,t)}function N0(t){return tf(t),t.headers=ln.from(t.headers),t.data=ef.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),R1.getAdapter(t.adapter||$l.adapter)(t).then(function(r){return tf(t),r.data=ef.call(t,t.transformResponse,r),r.headers=ln.from(r.headers),r},function(r){return w1(r)||(tf(t),r&&r.response&&(r.response.data=ef.call(t,t.transformResponse,r.response),r.response.headers=ln.from(r.response.headers))),Promise.reject(r)})}const P1="1.7.2",Wg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Wg[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const D0={};Wg.transitional=function(e,n,r){function i(s,o){return"[Axios v"+P1+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new fe(i(o," has been removed"+(n?" in "+n:"")),fe.ERR_DEPRECATED);return n&&!D0[o]&&(D0[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function EU(t,e,n){if(typeof t!="object")throw new fe("options must be an object",fe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],u=a===void 0||o(a,s,t);if(u!==!0)throw new fe("option "+s+" must be "+u,fe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new fe("Unknown option "+s,fe.ERR_BAD_OPTION)}}const jp={assertOptions:EU,validators:Wg},ei=jp.validators;class ss{constructor(e){this.defaults=e,this.interceptors={request:new P0,response:new P0}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ts(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&jp.assertOptions(r,{silentJSONParsing:ei.transitional(ei.boolean),forcedJSONParsing:ei.transitional(ei.boolean),clarifyTimeoutError:ei.transitional(ei.boolean)},!1),i!=null&&(U.isFunction(i)?n.paramsSerializer={serialize:i}:jp.assertOptions(i,{encode:ei.function,serialize:ei.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&U.merge(s.common,s[n.method]);s&&U.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),n.headers=ln.concat(o,s);const a=[];let u=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(n)===!1||(u=u&&R.synchronous,a.unshift(R.fulfilled,R.rejected))});const c=[];this.interceptors.response.forEach(function(R){c.push(R.fulfilled,R.rejected)});let d,f=0,m;if(!u){const _=[N0.bind(this),void 0];for(_.unshift.apply(_,a),_.push.apply(_,c),m=_.length,d=Promise.resolve(n);f<m;)d=d.then(_[f++],_[f++]);return d}m=a.length;let y=n;for(f=0;f<m;){const _=a[f++],R=a[f++];try{y=_(y)}catch(x){R.call(this,x);break}}try{d=N0.call(this,y)}catch(_){return Promise.reject(_)}for(f=0,m=c.length;f<m;)d=d.then(c[f++],c[f++]);return d}getUri(e){e=Ts(this.defaults,e);const n=T1(e.baseURL,e.url);return y1(n,e.params,e.paramsSerializer)}}U.forEach(["delete","get","head","options"],function(e){ss.prototype[e]=function(n,r){return this.request(Ts(r||{},{method:e,url:n,data:(r||{}).data}))}});U.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Ts(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ss.prototype[e]=n(),ss.prototype[e+"Form"]=n(!0)});class qg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new zo(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new qg(function(i){e=i}),cancel:e}}}function TU(t){return function(n){return t.apply(null,n)}}function SU(t){return U.isObject(t)&&t.isAxiosError===!0}const zp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zp).forEach(([t,e])=>{zp[e]=t});function A1(t){const e=new ss(t),n=s1(ss.prototype.request,e);return U.extend(n,ss.prototype,e,{allOwnKeys:!0}),U.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return A1(Ts(t,i))},n}const ze=A1($l);ze.Axios=ss;ze.CanceledError=zo;ze.CancelToken=qg;ze.isCancel=w1;ze.VERSION=P1;ze.toFormData=Gd;ze.AxiosError=fe;ze.Cancel=ze.CanceledError;ze.all=function(e){return Promise.all(e)};ze.spread=TU;ze.isAxiosError=SU;ze.mergeConfig=Ts;ze.AxiosHeaders=ln;ze.formToJSON=t=>_1(U.isHTMLForm(t)?new FormData(t):t);ze.getAdapter=R1.getAdapter;ze.HttpStatusCode=zp;ze.default=ze;const nf=Hr("location/fetchLocations",async(t,{rejectWithValue:e})=>{try{return(await ze.get("https://petlove.b.goit.study/api/cities")).data}catch(n){return e(n.response.data)}}),C1=Qn({name:"location",initialState:{searchValue:"",locations:[],status:"idle",error:null},reducers:{setSearchValue(t,e){t.searchValue=e.payload},clearSearchValue(t){t.searchValue=""}},extraReducers:t=>{t.addCase(nf.pending,e=>{e.status="loading"}).addCase(nf.fulfilled,(e,n)=>{e.status="succeeded",e.locations=n.payload}).addCase(nf.rejected,(e,n)=>{e.status="failed",e.error=n.payload})}});C1.actions;const IU=C1.reducer,RU={isOpen:!1,modalContent:""},k1=Qn({name:"modal",initialState:RU,reducers:{openModal:(t,e)=>{t.isOpen=!0,t.modalContent=e.payload},closeModal:t=>{t.isOpen=!1,t.modalContent=""}}});k1.actions;const PU=k1.reducer,b1=Qn({name:"favoritePets",initialState:{pets:[],showFavorites:!1},reducers:{addFavoritePet:(t,e)=>{t.pets.find(r=>r._id===e.payload._id)||t.pets.push(e.payload)},removeFavoritePet:(t,e)=>{t.pets=t.pets.filter(n=>n._id!==e.payload._id)},setShowFavorites:(t,e)=>{t.showFavorites=e.payload}}}),{addFavoritePet:ZU,removeFavoritePet:e4,setShowFavorites:t4}=b1.actions,AU=b1.reducer,Cu="https://petlove.b.goit.study/api",rf=Hr("data/fetchData",async()=>{const t=await ze.get(`${Cu}/notices/categories`),e=await ze.get(`${Cu}/notices/sex`),n=await ze.get(`${Cu}/notices/species`),r=await ze.get(`${Cu}/notices`);return{categories:t.data,genders:e.data,types:n.data,locations:r.data.results.map(i=>i.location)}}),CU=Qn({name:"data",initialState:{categories:[],genders:[],types:[],locations:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(rf.pending,e=>{e.loading=!0}).addCase(rf.fulfilled,(e,n)=>{e.loading=!1,e.categories=n.payload.categories,e.genders=n.payload.genders,e.types=n.payload.types,e.locations=n.payload.locations}).addCase(rf.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message})}}),kU=CU.reducer,bU={category:"",gender:"",type:"",location:""},x1=Qn({name:"filters",initialState:bU,reducers:{setCategoryFilter(t,e){t.category=e.payload},setGenderFilter(t,e){t.gender=e.payload},setTypeFilter(t,e){t.type=e.payload},setLocationFilter(t,e){t.location=e.payload},clearFilters(t){t.category="",t.gender="",t.type="",t.location=""}}}),{setCategoryFilter:n4,setGenderFilter:r4,setTypeFilter:i4,setLocationFilter:s4,clearFilters:o4}=x1.actions,xU=x1.reducer,OU={viewedPets:[]},O1=Qn({name:"viewedPets",initialState:OU,reducers:{addViewedPet(t,e){t.viewedPets.find(n=>n._id===e.payload._id)||t.viewedPets.push(e.payload)}}}),{addViewedPet:a4}=O1.actions,NU=O1.reducer,DU="https://petlove.b.goit.study/api",sf=Hr("search/fetchAllPetsByQuery",async({query:t})=>{console.log(`Fetching all pets for query: ${t}`);const e=async s=>(await ze.get(`${DU}/notices`,{params:{page:s,perPage:6,query:t}})).data;let n=1;const r=new Map;let i=1;do{const s=await e(n);s.results.forEach(o=>{r.set(o._id,o)}),i=s.totalPages,n+=1}while(n<=i);return console.log("Fetched all pets:",Array.from(r.values())),Array.from(r.values())}),N1=Qn({name:"search",initialState:{pets:[],totalItems:0,loading:!1,error:null,query:"",currentPage:1},reducers:{setQuery(t,e){console.log(`Setting query: ${e.payload}`),t.query=e.payload,t.currentPage=1},setPage(t,e){console.log(`Setting page: ${e.payload}`),t.currentPage=e.payload}},extraReducers:t=>{t.addCase(sf.pending,e=>{e.loading=!0}).addCase(sf.fulfilled,(e,n)=>{e.loading=!1,e.pets=n.payload,e.totalItems=n.payload.length,console.log("Fetched all pets:",e.pets)}).addCase(sf.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message})}}),{setQuery:l4,setPage:u4}=N1.actions,LU=N1.reducer,D1=Qn({name:"sort",initialState:{sortBy:"none"},reducers:{setSortBy(t,e){t.sortBy=e.payload}}}),{setSortBy:c4}=D1.actions,MU=D1.reducer,L1="https://petlove.b.goit.study/api",of=Hr("pets/addNotice",async({token:t,...e},n)=>{try{const r={headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}};return(await ze.post(`${L1}/notices`,e,r)).data}catch(r){return console.error("Error from API:",r.response.data),n.rejectWithValue(r.response.data)}}),af=Hr("pets/fetchPets",async(t,e)=>{try{return(await ze.get(`${L1}/notices`)).data.results}catch(n){return e.rejectWithValue(n.message)}}),VU=Qn({name:"pets",initialState:{pets:[],status:"idle",error:null},reducers:{},extraReducers:t=>{t.addCase(af.pending,e=>{e.status="loading"}).addCase(af.fulfilled,(e,n)=>{e.status="succeeded",e.pets=n.payload}).addCase(af.rejected,(e,n)=>{e.status="failed",e.error=n.payload}).addCase(of.pending,e=>{e.status="loading"}).addCase(of.fulfilled,(e,n)=>{e.status="succeeded",e.pets.push(n.payload)}).addCase(of.rejected,(e,n)=>{e.status="failed",e.error=n.payload})}}),FU=VU.reducer,UU=vT({user:BM,notices:YV,modal:PU,location:IU,favoritePets:AU,data:kU,filters:xU,viewedPets:NU,search:LU,sort:MU,pets:FU}),jU={key:"root",storage:r1,whitelist:["user","notices","location","favoritePets","viewedPets"]},zU=DV(jU,UU),M1=fb({reducer:zU,middleware:t=>t({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE","persist/PAUSE","persist/FLUSH","persist/PURGE","persist/REGISTER"]}})}),BU=jV(M1);function ec(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ec=function(n){return typeof n}:ec=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ec(t)}function $U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function WU(t,e,n){return e&&HU(t.prototype,e),t}function qU(t,e){return e&&(ec(e)==="object"||typeof e=="function")?e:tc(t)}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Bp(t)}function tc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$p(t,e)}function $p(t,e){return $p=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},$p(t,e)}function nc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var V1=function(t){KU(e,t);function e(){var n,r;$U(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=qU(this,(n=Bp(e)).call.apply(n,[this].concat(s))),nc(tc(r),"state",{bootstrapped:!1}),nc(tc(r),"_unsubscribe",void 0),nc(tc(r),"handlePersistorState",function(){var a=r.props.persistor,u=a.getState(),c=u.bootstrapped;c&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return WU(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(j.PureComponent);nc(V1,"defaultProps",{children:null,loading:null});GE(document.getElementById("root")).render(W.jsx(Uk,{store:M1,children:W.jsx(V1,{loading:null,persistor:BU,children:W.jsx(_V,{})})}));export{YM as A,El as B,of as C,Fm as D,rp as L,Au as P,lf as R,Wm as a,e4 as b,ZU as c,aT as d,a4 as e,ze as f,r4 as g,i4 as h,s4 as i,W as j,c4 as k,sf as l,l4 as m,u4 as n,en as o,FM as p,UM as q,j as r,n4 as s,jM as t,yT as u,zM as v,t4 as w,WI as x,Zc as y,rR as z};
