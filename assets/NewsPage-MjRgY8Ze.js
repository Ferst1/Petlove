import{j as e,L as v,r as c}from"./index-5zAZmief.js";import{I as C,P as S}from"./Pagination-D8nFrKzB.js";import"./index-DR24rY6j.js";function x(t){const n=new Date(t),s=n.getDate(),a=n.getMonth()+1,h=n.getFullYear(),i=s<10?`0${s}`:s,d=a<10?`0${a}`:a;return`${i}/${d}/${h}`}const _="2023-04-07T09:00:46+0000",y=x(_);console.log(y);const P=({news:t,loading:n})=>e.jsx("div",{className:"news_card",children:n?Array(4).fill(0).map((s,a)=>e.jsxs("div",{"data-aos":"fade-up","data-aos-delay":"300",className:"news",children:[e.jsx("div",{className:"placeholder-img"}),e.jsx("h3",{className:"placeholder-title"}),e.jsx("p",{className:"placeholder-text"}),e.jsxs("div",{className:"news_details",children:[e.jsx("span",{className:"placeholder-date"}),e.jsx("span",{className:"placeholder-link"})]})]},a)):t.map(s=>e.jsxs("div",{"data-aos":"fade-up","data-aos-delay":"300",className:"news",children:[e.jsx("img",{src:s.imgUrl,alt:s.title}),e.jsx("h3",{"data-aos":"zoom-out","data-aos-duration":"500","data-ous-once":"true",children:s.title}),e.jsx("p",{children:s.text}),e.jsxs("div",{className:"news_details",children:[e.jsx("span",{className:"news_date",children:e.jsx("p",{children:x(s.date)})}),e.jsx(v,{to:s.url,className:"read_more",target:"_blank",rel:"noopener noreferrer",children:"Read More"})]})]},s.id))}),E=()=>{const[t,n]=c.useState([]),[s,a]=c.useState([]),[h,i]=c.useState(!0),[d,m]=c.useState(1),[u,p]=c.useState(0),w=6;c.useEffect(()=>{j(d)},[d]);const j=async o=>{i(!0);try{const r=await fetch(`https://petlove.b.goit.study/api/news?page=${o}&limit=${w}`);if(!r.ok)throw new Error("Failed to fetch news");const l=await r.json();n(l.results),a(l.results),p(l.total)}catch(r){console.error("Error fetching news:",r)}finally{i(!1)}},g=o=>{const r=t.filter(l=>l.title.toLowerCase().includes(o.toLowerCase())||l.text.toLowerCase().includes(o.toLowerCase()));a(r),p(r.length),m(1)},f=()=>{a(t),p(t.length),m(1)},N=o=>{m(o)};return e.jsx("div",{className:"container",children:e.jsxs("section",{className:"news",children:[e.jsxs("div",{className:"news_search_wrapper",children:[e.jsx("h2",{children:"News"}),e.jsx(C,{onSearch:g,onClear:f})]}),e.jsxs("div",{className:"news_page",children:[e.jsx(P,{news:s,loading:h}),e.jsx(S,{totalItems:u,itemsPerPage:w,onPageChange:N,currentPage:d})]})]})})};export{E as default};
