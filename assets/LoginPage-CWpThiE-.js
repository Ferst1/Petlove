import{u as k,d as j,a as w,r as t,j as s,L as C,y as E}from"./index-ChFUDA8s.js";import{F as S,a as y,b as g,E as p}from"./formik.esm-yd7nTQh6.js";import{c as L,a as x}from"./index.esm-Dsuap5jW.js";import{x as I,C as u,e as P,a as R}from"./FormStyles-BlJFy7EG.js";import"./hoist-non-react-statics.cjs-BJAZoXu8.js";const q=()=>{const o=k(),i=j(),{user:n,status:c,error:a}=w(r=>r.user),[m,f]=t.useState(!1);t.useEffect(()=>{n&&i("/profile")},[n,i]);const v=L({email:x().email("Invalid email address").required("Required"),password:x().min(6,"Must be at least 6 characters").required("Required")}),N=(r,{setSubmitting:e})=>{o(E(r)).finally(()=>e(!1))};return s.jsxs("div",{className:"form_container",children:[s.jsx("h2",{children:"Log In"}),s.jsx(S,{initialValues:{email:"",password:""},validationSchema:v,onSubmit:N,children:({isSubmitting:r,touched:e,errors:l,values:d,setFieldValue:b})=>s.jsxs(y,{className:"form",children:[s.jsxs("div",{className:"email-container",children:[s.jsx(g,{id:"email",type:"email",name:"email",className:`${e.email&&l.email?"invalid":e.email?"valid":""}`,autoComplete:"email",placeholder:"Email"}),e.email&&l.email&&s.jsx("img",{src:I,alt:"Clear",className:"clear-icon",onClick:()=>b("email","")}),e.email&&!l.email&&d.email&&s.jsx("img",{src:u,alt:"Check",className:"check-icon"}),s.jsx(p,{name:"email",component:"div",className:"error-message"})]}),s.jsxs("div",{className:"password-container",children:[s.jsx(g,{id:"password",type:m?"text":"password",name:"password",className:`${e.password&&l.password?"invalid":e.password?"valid":""}`,autoComplete:"current-password",placeholder:"Password"}),s.jsx("img",{src:m?P:R,alt:"Toggle visibility",className:"toggle-password-icon",onClick:()=>f(!m)}),e.password&&!l.password&&d.password&&s.jsx("img",{src:u,alt:"Check",className:"check-icon"}),s.jsx(p,{name:"password",component:"div",className:"error-message"})]}),s.jsx("button",{type:"submit",disabled:r,className:"btnSignup",children:"Log In"}),c==="failed"&&s.jsx("div",{children:a}),s.jsxs("p",{className:"auth-text",children:["Don't have an account? ",s.jsx(C,{to:"/registration",className:"auth-link",children:"Registration"})]})]})})]})},h="/Petlove/assets/dog-register-BwgJ11o3.jpg",F="/Petlove/assets/login-tablet-C1WklBVq.png",T=()=>{const o=j(),i=w(a=>a.user.user),[n,c]=t.useState(h);return t.useEffect(()=>{const a=()=>{window.innerWidth<=768?c(F):c(h)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),t.useEffect(()=>{i&&o("/profile")},[i,o]),s.jsx("div",{className:"container",children:s.jsxs("div",{className:"login-page",children:[s.jsx("div",{className:"login-img-page",children:s.jsx("img",{className:"login-img",src:n,alt:"register-page"})}),s.jsx("div",{className:"login-form-page",children:s.jsx(q,{})})]})})};export{T as default};
