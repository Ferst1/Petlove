import{r as d,j as e,A as b,m as Q,I as S,B as A,u as h,z as B,a as m,C as L,d as w,D as F,E as Y,F as f,G as R,M as W,H as k}from"./index-CDfUhzho.js";import{F as I,a as M,b as u}from"./formik.esm-9s3eQDAv.js";import{u as z,U as D}from"./PetsBlock-BqyD7ojN.js";import{C as V,f as O,P as H}from"./PetCard-bwv-ytsm.js";import"./hoist-non-react-statics.cjs-P4dtTR3h.js";const T="data:image/png;base64,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",v="data:image/png;base64,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",X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAM1SURBVHgBzZi7bhNBFIb/mV0TQoIwIogu8VIgGoShRsK8AamRSPIEhJYmzhtATeMUtCQtVYygRUmHxCW+FBQIhHNxIoh3hnNm15adxN5Ze9fwS+vdHc/Yn88Zn8sKDCG9/7kAJfNw5X1o5OnIQtBh3kSDrqvmaKm3cPyymL6xjZgSthP1r0oW5/CEvniRbnOIpyqUvwrfKYvLXtVmgRWYblZWoLDcscrwYkuWxJS3GjVxIBhZKYcM1ukyj2RVxTEeDLKe7PeGPqotwMVWClAs/sFbeu/Lw34TRF8oX5UwDjlyUUzOrZ0cPgVmfoV01jFOnQHXA2b2FLtv9E0eVw3ac3e691zvHstg8x9AsbLhn6yjDphu1lYQPz4lqbze/1ps3xhXhmFhEwmD6dYh4B9CTMzYLmGXeuTShmtuHb9ALzkkqNa3N2jV1w2cOD+DiVvPbACzcNUynYuBK6WzggTVqr/G8c4ryCt3kbn+iPMn/nx6abdYyAU+ufqgwgE0h4RkoOobcGfnkaGjLQbVv3/YWC3HRQJbrICE1A9KHdSDC+eC3QcJmZfQuoAE1A+Kx/3v78y4cC3BtCCLCTGHETUI6qzxSAlxm12ZwwhKHCpQlsGGjvQpQXXA/jcoIwZrIKbShmImCaV346wYAxSrSv9KWHcwqlkfBxSFC13jcFG2na92P5qze+1eelAsocsu5bFt2ybO//kBcmqW0spVk5w5SXOyThTKSJaDsmdvpwoZHWiP3j82lQKnFt0M0kziUNQoU3vnBWWPECV6HVhhqBAEraC+cqlqkJdukgVHThy90lgN+BB22RlUEBFsVbNm3Gid8+KKHytI6jcnvaoJsFwxEumLqHVsndSgWEqtMZRh6h6n2iytBjda4d5q3/amJAe8i2NnggTUYBd2D/SAhWZ8inFLYKntwrZOJXEx7ZXotITxaYlcuHFy8MzqwsCp1N3aMFCBIU4zDFqpj6jfVNRv6oQbYc7PEvMn3dc7xUJ6v1KkD1pIANCEJXHRK0ZNtH/UydbzqaMSlCHiAipdM9llGs+F8Ky2hzVYt8JetBB2WLmwoWlnjYap8dhdXLlQkUAWKiOm/gLtKXCA2sT5rwAAAABJRU5ErkJggg==",G=({isOpen:s,onClose:n,user:a,onSave:l})=>{const{register:i,handleSubmit:c,setValue:o}=z({defaultValues:{avatar:(a==null?void 0:a.avatar)||v,name:(a==null?void 0:a.name)||"",email:(a==null?void 0:a.email)||"",phone:(a==null?void 0:a.phone)||""}}),[t,p]=d.useState((a==null?void 0:a.avatar)||v),j=d.useRef(null),N=r=>{r.key==="Escape"&&n()},U=r=>{r.target===r.currentTarget&&n()},C=r=>{const g=r.target.files[0];if(g){const x=new FileReader;x.onload=()=>{p(x.result),o("avatar",x.result)},x.readAsDataURL(g)}},y=()=>{j.current.click()},E=r=>{l({...r,avatar:t}),n()};return d.useLayoutEffect(()=>(s?(document.body.style.overflow="hidden",document.addEventListener("keydown",N)):document.body.style.overflow="unset",()=>{document.removeEventListener("keydown",N)}),[s]),e.jsx(b,{children:s&&e.jsx("div",{className:"backdrop",onClick:U,children:e.jsx(Q.div,{"data-aos":"fade-up","data-aos-delay":"100",className:"modal-window",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("button",{className:"close-btn",onClick:n,children:e.jsx(S,{size:"24px"})}),e.jsx("h3",{children:"Edit information"}),e.jsx("img",{src:t,alt:`${a.name}'s avatar`,className:"user-avatar"}),e.jsxs("div",{className:"img-upload",children:[e.jsx(D,{register:i,handleFileChange:C,handleAvatarUpload:y}),e.jsx("input",{type:"file",name:"file",ref:j,onChange:C,className:"select-avatar-input",style:{display:"none"}})]}),e.jsxs("form",{onSubmit:c(E),children:[e.jsx("input",{type:"text",name:"name",...i("name"),placeholder:"Name",className:"full-width-input"}),e.jsx("input",{type:"email",name:"email",...i("email"),placeholder:"E-mail",className:"full-width-input"}),e.jsx("input",{type:"tel",name:"phone",...i("phone"),placeholder:"+380 ",className:"full-width-input"}),e.jsxs("div",{className:"buttons_modal",children:[e.jsx(A,{text:"Save",type:"submit"}),e.jsx(A,{text:"Cancel",onClick:n})]})]})]})})})})},Z=({pet:s,openModal:n})=>{const a=h(),[l,i]=d.useState(!1),c=()=>{a(B(s.id))},o=()=>{i(!0)},t=()=>{i(!1)};return e.jsxs("div",{className:"firestore-pets_item",children:[e.jsx("div",{className:"img-wrapper",children:e.jsx("img",{src:s.imgUrl,alt:s.title})}),e.jsxs("div",{className:"content-wrapper",children:[e.jsxs("div",{className:"title-crach",children:[e.jsx("h3",{children:s.title}),e.jsx("div",{className:"favorite_button",children:e.jsx("img",{className:"favorit",src:V,alt:"Delete",onClick:c,onMouseEnter:o,onMouseLeave:t})})]}),e.jsxs("div",{className:"firestore-pets-data",children:[e.jsxs("div",{className:"data-item",children:[e.jsx("p",{className:"label",children:"Name"}),e.jsx("p",{className:"value",children:s.name})]}),e.jsxs("div",{className:"data-item",children:[e.jsx("p",{className:"label",children:"Birthday"}),e.jsx("p",{className:"value",children:O(s.dateOfBirth)})]}),e.jsxs("div",{className:"data-item",children:[e.jsx("p",{className:"label",children:"Sex"}),e.jsx("p",{className:"value",children:s.sex})]}),e.jsxs("div",{className:"data-item",children:[e.jsx("p",{className:"label",children:"Species"}),e.jsx("p",{className:"value",children:s.species})]})]}),e.jsx("div",{children:e.jsx("p",{children:s.comment})})]})]})},q=()=>{const s=h(),n=m(l=>l.pets.pets),a=m(l=>l.user.user);return d.useEffect(()=>{a&&s(L())},[s,a]),e.jsx("div",{className:"pets-block",children:n.map(l=>e.jsx(Z,{pet:l},l.id))})},J=()=>{const s=m(t=>t.user.user),n=h(),a=w(),[l,i]=d.useState(!1),c=t=>{n(F({uid:s.uid,name:t.name,email:t.email,phone:t.phone})),t.avatar&&n(Y({uid:s.uid,avatar:t.avatar}))},o=()=>{i(!0)};return e.jsxs("div",{className:"user-card",children:[e.jsxs("div",{className:"user-updated",children:[e.jsx("img",{className:"user-logo",src:T,alt:"User Logo"}),e.jsx("div",{className:"img-upload",children:e.jsx("img",{className:"user-upload",src:(s==null?void 0:s.avatar)||v,alt:"User Upload"})}),e.jsx("img",{className:"user-edit",src:X,alt:"User Edit",onClick:o})]}),s?e.jsx(I,{initialValues:{name:s.name,email:s.email,phone:s.phone},onSubmit:c,children:e.jsx(M,{children:e.jsxs("div",{className:"name-input-wrapper",children:[e.jsx(u,{type:"text",name:"name",className:"change-name-input"}),e.jsx(u,{type:"email",name:"email",className:"change-name-input"}),e.jsx(u,{type:"text",name:"phone",placeholder:"+380",className:"change-name-input"})]})})}):e.jsx("p",{children:"Loading..."}),e.jsxs("div",{className:"my-pets",children:[e.jsx("h3",{children:"My pets"}),e.jsx(A,{text:"Add pet +",className:"button-add",onClick:()=>a("/add_pet")}),e.jsx(q,{})]}),e.jsx(G,{isOpen:l,onClose:()=>i(!1),user:s,onSave:c})]})},P=()=>{const s=h(),n=m(t=>t.favoritePets.pets),a=m(t=>t.viewedPets.viewedPets),l=m(t=>t.favoritePets.showFavorites);d.useEffect(()=>{console.log("Favorite Pets:",n),console.log("Viewed Pets:",a)},[n,a]);const i=()=>{s(f(!0))},c=()=>{s(f(!1))},o=l?n:a;return e.jsxs("div",{className:"my-notices",children:[e.jsxs("div",{className:"button-container",children:[e.jsx(A,{text:"My favorite pets",onClick:i,className:l?"active-button":"white-button"}),e.jsx(A,{text:"Viewed",onClick:c,className:l?"white-button":"active-button"})]}),!o||o.length===0?e.jsx("p",{children:`Oops, looks like there aren't any furries on our adorable page yet. Do not worry! View your pets on the "find your favorite pet" page and add them to your favorites.`}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"notices-grid",children:o.map(t=>e.jsx(H,{pet:t,showRemoveButton:l},t._id))})})]})},ae=()=>{const s=h(),n=w(),a=m(p=>p.user.user),[l,i]=d.useState(!1);d.useEffect(()=>{a||n("/login")},[a,n]);const c=()=>{s(k()),n("/login")},o=()=>{i(!0)},t=()=>{i(!1)};return e.jsxs("div",{className:"profile-page",children:[e.jsxs("div",{className:"user-card",children:[e.jsx(J,{}),e.jsx(R,{text:"Logout",to:"#",className:"logout-btn",onClick:o})]}),e.jsx(P,{}),e.jsx(W,{isOpen:l,onClose:t,onConfirm:c})]})};export{ae as default};
